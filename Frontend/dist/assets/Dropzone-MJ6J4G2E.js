import{b as tn,r as T,R as ie,g as Xn,ab as qn,j as L}from"./index-w2wx-x_X.js";import{_ as We,a as ze,b as yr,c as br}from"./tslib.es6-8dbh_m2m.js";var rn={exports:{}},Vn="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Kn=Vn,Gn=Kn;function nn(){}function an(){}an.resetWarningCache=nn;var Qn=function(){function t(n,a,i,o,s,p){if(p!==Gn){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:an,resetWarningCache:nn};return r.PropTypes=r,r};rn.exports=Qn();var nr=rn.exports;const j=tn(nr);var Zn=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function nt(t,e){var r=Jn(t);if(typeof r.path!="string"){var n=t.webkitRelativePath;Object.defineProperty(r,"path",{value:typeof e=="string"?e:typeof n=="string"&&n.length>0?n:t.name,writable:!1,configurable:!1,enumerable:!0})}return r}function Jn(t){var e=t.name,r=e&&e.lastIndexOf(".")!==-1;if(r&&!t.type){var n=e.split(".").pop().toLowerCase(),a=Zn.get(n);a&&Object.defineProperty(t,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return t}var ea=[".DS_Store","Thumbs.db"];function ta(t){return We(this,void 0,void 0,function(){return ze(this,function(e){return vt(t)&&ra(t.dataTransfer)?[2,oa(t.dataTransfer,t.type)]:na(t)?[2,aa(t)]:Array.isArray(t)&&t.every(function(r){return"getFile"in r&&typeof r.getFile=="function"})?[2,ia(t)]:[2,[]]})})}function ra(t){return vt(t)}function na(t){return vt(t)&&vt(t.target)}function vt(t){return typeof t=="object"&&t!==null}function aa(t){return Ft(t.target.files).map(function(e){return nt(e)})}function ia(t){return We(this,void 0,void 0,function(){var e;return ze(this,function(r){switch(r.label){case 0:return[4,Promise.all(t.map(function(n){return n.getFile()}))];case 1:return e=r.sent(),[2,e.map(function(n){return nt(n)})]}})})}function oa(t,e){return We(this,void 0,void 0,function(){var r,n;return ze(this,function(a){switch(a.label){case 0:return t.items?(r=Ft(t.items).filter(function(i){return i.kind==="file"}),e!=="drop"?[2,r]:[4,Promise.all(r.map(sa))]):[3,2];case 1:return n=a.sent(),[2,wr(on(n))];case 2:return[2,wr(Ft(t.files).map(function(i){return nt(i)}))]}})})}function wr(t){return t.filter(function(e){return ea.indexOf(e.name)===-1})}function Ft(t){if(t===null)return[];for(var e=[],r=0;r<t.length;r++){var n=t[r];e.push(n)}return e}function sa(t){if(typeof t.webkitGetAsEntry!="function")return Or(t);var e=t.webkitGetAsEntry();return e&&e.isDirectory?sn(e):Or(t)}function on(t){return t.reduce(function(e,r){return yr(yr([],br(e),!1),br(Array.isArray(r)?on(r):[r]),!1)},[])}function Or(t){var e=t.getAsFile();if(!e)return Promise.reject("".concat(t," is not a File"));var r=nt(e);return Promise.resolve(r)}function la(t){return We(this,void 0,void 0,function(){return ze(this,function(e){return[2,t.isDirectory?sn(t):ca(t)]})})}function sn(t){var e=t.createReader();return new Promise(function(r,n){var a=[];function i(){var o=this;e.readEntries(function(s){return We(o,void 0,void 0,function(){var p,u,c;return ze(this,function(l){switch(l.label){case 0:if(s.length)return[3,5];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,Promise.all(a)];case 2:return p=l.sent(),r(p),[3,4];case 3:return u=l.sent(),n(u),[3,4];case 4:return[3,6];case 5:c=Promise.all(s.map(la)),a.push(c),i(),l.label=6;case 6:return[2]}})})},function(s){n(s)})}i()})}function ca(t){return We(this,void 0,void 0,function(){return ze(this,function(e){return[2,new Promise(function(r,n){t.file(function(a){var i=nt(a,t.fullPath);r(i)},function(a){n(a)})})]})})}var ua=function(t,e){if(t&&e){var r=Array.isArray(e)?e:e.split(","),n=t.name||"",a=(t.type||"").toLowerCase(),i=a.replace(/\/.*$/,"");return r.some(function(o){var s=o.trim().toLowerCase();return s.charAt(0)==="."?n.toLowerCase().endsWith(s):s.endsWith("/*")?i===s.replace(/\/.*$/,""):a===s})}return!0};function xr(t){return ha(t)||pa(t)||cn(t)||fa()}function fa(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pa(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ha(t){if(Array.isArray(t))return jt(t)}function Er(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Dr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Er(Object(r),!0).forEach(function(n){ln(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Er(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ln(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ze(t,e){return va(t)||ma(t,e)||cn(t,e)||da()}function da(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cn(t,e){if(t){if(typeof t=="string")return jt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jt(t,e)}}function jt(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ma(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],a=!0,i=!1,o,s;try{for(r=r.call(t);!(a=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));a=!0);}catch(p){i=!0,s=p}finally{try{!a&&r.return!=null&&r.return()}finally{if(i)throw s}}return n}}function va(t){if(Array.isArray(t))return t}var ga="file-invalid-type",ya="file-too-large",ba="file-too-small",wa="too-many-files",Oa=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var r=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:ga,message:"File type must be ".concat(r)}},Cr=function(e){return{code:ya,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},_r=function(e){return{code:ba,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},xa={code:wa,message:"Too many files"};function un(t,e){var r=t.type==="application/x-moz-file"||ua(t,e);return[r,r?null:Oa(e)]}function fn(t,e,r){if(De(t.size))if(De(e)&&De(r)){if(t.size>r)return[!1,Cr(r)];if(t.size<e)return[!1,_r(e)]}else{if(De(e)&&t.size<e)return[!1,_r(e)];if(De(r)&&t.size>r)return[!1,Cr(r)]}return[!0,null]}function De(t){return t!=null}function Ea(t){var e=t.files,r=t.accept,n=t.minSize,a=t.maxSize,i=t.multiple,o=t.maxFiles,s=t.validator;return!i&&e.length>1||i&&o>=1&&e.length>o?!1:e.every(function(p){var u=un(p,r),c=Ze(u,1),l=c[0],f=fn(p,n,a),v=Ze(f,1),b=v[0],C=s?s(p):null;return l&&b&&!C})}function gt(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function pt(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function Mr(t){t.preventDefault()}function Da(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function Ca(t){return t.indexOf("Edge/")!==-1}function _a(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Da(t)||Ca(t)}function he(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(n){for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return e.some(function(s){return!gt(n)&&s&&s.apply(void 0,[n].concat(i)),gt(n)})}}function Ma(){return"showOpenFilePicker"in window}function Ta(t){if(De(t)){var e=Object.entries(t).filter(function(r){var n=Ze(r,2),a=n[0],i=n[1],o=!0;return pn(a)||(console.warn('Skipped "'.concat(a,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(i)||!i.every(hn))&&(console.warn('Skipped "'.concat(a,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(r,n){var a=Ze(n,2),i=a[0],o=a[1];return Dr(Dr({},r),{},ln({},i,o))},{});return[{description:"Files",accept:e}]}return t}function Sa(t){if(De(t))return Object.entries(t).reduce(function(e,r){var n=Ze(r,2),a=n[0],i=n[1];return[].concat(xr(e),[a],xr(i))},[]).filter(function(e){return pn(e)||hn(e)}).join(",")}function Aa(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function Ra(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function pn(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||/\w+\/[-+.\w]+/g.test(t)}function hn(t){return/^.*\.[\w]+$/.test(t)}var Na=["children"],Pa=["open"],Ia=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],La=["refKey","onChange","onClick"];function ka(t){return Ha(t)||ja(t)||dn(t)||Fa()}function Fa(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ja(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ha(t){if(Array.isArray(t))return Ht(t)}function Pt(t,e){return Ba(t)||za(t,e)||dn(t,e)||Wa()}function Wa(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dn(t,e){if(t){if(typeof t=="string")return Ht(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ht(t,e)}}function Ht(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function za(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],a=!0,i=!1,o,s;try{for(r=r.call(t);!(a=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));a=!0);}catch(p){i=!0,s=p}finally{try{!a&&r.return!=null&&r.return()}finally{if(i)throw s}}return n}}function Ba(t){if(Array.isArray(t))return t}function Tr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function U(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Tr(Object(r),!0).forEach(function(n){Wt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tr(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yt(t,e){if(t==null)return{};var r=Ua(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ua(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}var ar=T.forwardRef(function(t,e){var r=t.children,n=yt(t,Na),a=vn(n),i=a.open,o=yt(a,Pa);return T.useImperativeHandle(e,function(){return{open:i}},[i]),ie.createElement(T.Fragment,null,r(U(U({},o),{},{open:i})))});ar.displayName="Dropzone";var mn={disabled:!1,getFilesFromEvent:ta,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};ar.defaultProps=mn;ar.propTypes={children:j.func,accept:j.objectOf(j.arrayOf(j.string)),multiple:j.bool,preventDropOnDocument:j.bool,noClick:j.bool,noKeyboard:j.bool,noDrag:j.bool,noDragEventsBubbling:j.bool,minSize:j.number,maxSize:j.number,maxFiles:j.number,disabled:j.bool,getFilesFromEvent:j.func,onFileDialogCancel:j.func,onFileDialogOpen:j.func,useFsAccessApi:j.bool,autoFocus:j.bool,onDragEnter:j.func,onDragLeave:j.func,onDragOver:j.func,onDrop:j.func,onDropAccepted:j.func,onDropRejected:j.func,onError:j.func,validator:j.func};var zt={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function vn(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=U(U({},mn),t),r=e.accept,n=e.disabled,a=e.getFilesFromEvent,i=e.maxSize,o=e.minSize,s=e.multiple,p=e.maxFiles,u=e.onDragEnter,c=e.onDragLeave,l=e.onDragOver,f=e.onDrop,v=e.onDropAccepted,b=e.onDropRejected,C=e.onFileDialogCancel,E=e.onFileDialogOpen,A=e.useFsAccessApi,k=e.autoFocus,P=e.preventDropOnDocument,I=e.noClick,F=e.noKeyboard,d=e.noDrag,O=e.noDragEventsBubbling,_=e.onError,M=e.validator,H=T.useMemo(function(){return Sa(r)},[r]),J=T.useMemo(function(){return Ta(r)},[r]),X=T.useMemo(function(){return typeof E=="function"?E:Sr},[E]),q=T.useMemo(function(){return typeof C=="function"?C:Sr},[C]),g=T.useRef(null),m=T.useRef(null),N=T.useReducer($a,zt),h=Pt(N,2),w=h[0],R=h[1],V=w.isFocused,W=w.isFileDialogActive,Z=T.useRef(typeof window<"u"&&window.isSecureContext&&A&&Ma()),re=function(){!Z.current&&W&&setTimeout(function(){if(m.current){var x=m.current.files;x.length||(R({type:"closeDialog"}),q())}},300)};T.useEffect(function(){return window.addEventListener("focus",re,!1),function(){window.removeEventListener("focus",re,!1)}},[m,W,q,Z]);var ne=T.useRef([]),Se=function(x){g.current&&g.current.contains(x.target)||(x.preventDefault(),ne.current=[])};T.useEffect(function(){return P&&(document.addEventListener("dragover",Mr,!1),document.addEventListener("drop",Se,!1)),function(){P&&(document.removeEventListener("dragover",Mr),document.removeEventListener("drop",Se))}},[g,P]),T.useEffect(function(){return!n&&k&&g.current&&g.current.focus(),function(){}},[g,k,n]);var ve=T.useCallback(function(y){_?_(y):console.error(y)},[_]),ot=T.useCallback(function(y){y.preventDefault(),y.persist(),ut(y),ne.current=[].concat(ka(ne.current),[y.target]),pt(y)&&Promise.resolve(a(y)).then(function(x){if(!(gt(y)&&!O)){var $=x.length,G=$>0&&Ea({files:x,accept:H,minSize:o,maxSize:i,multiple:s,maxFiles:p,validator:M}),ae=$>0&&!G;R({isDragAccept:G,isDragReject:ae,isDragActive:!0,type:"setDraggedFiles"}),u&&u(y)}}).catch(function(x){return ve(x)})},[a,u,ve,O,H,o,i,s,p,M]),pr=T.useCallback(function(y){y.preventDefault(),y.persist(),ut(y);var x=pt(y);if(x&&y.dataTransfer)try{y.dataTransfer.dropEffect="copy"}catch{}return x&&l&&l(y),!1},[l,O]),hr=T.useCallback(function(y){y.preventDefault(),y.persist(),ut(y);var x=ne.current.filter(function(G){return g.current&&g.current.contains(G)}),$=x.indexOf(y.target);$!==-1&&x.splice($,1),ne.current=x,!(x.length>0)&&(R({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),pt(y)&&c&&c(y))},[g,c,O]),st=T.useCallback(function(y,x){var $=[],G=[];y.forEach(function(ae){var $e=un(ae,H),Ne=Pt($e,2),_t=Ne[0],Mt=Ne[1],Tt=fn(ae,o,i),ft=Pt(Tt,2),St=ft[0],At=ft[1],Rt=M?M(ae):null;if(_t&&St&&!Rt)$.push(ae);else{var Nt=[Mt,At];Rt&&(Nt=Nt.concat(Rt)),G.push({file:ae,errors:Nt.filter(function(Yn){return Yn})})}}),(!s&&$.length>1||s&&p>=1&&$.length>p)&&($.forEach(function(ae){G.push({file:ae,errors:[xa]})}),$.splice(0)),R({acceptedFiles:$,fileRejections:G,type:"setFiles"}),f&&f($,G,x),G.length>0&&b&&b(G,x),$.length>0&&v&&v($,x)},[R,s,H,o,i,p,f,v,b,M]),lt=T.useCallback(function(y){y.preventDefault(),y.persist(),ut(y),ne.current=[],pt(y)&&Promise.resolve(a(y)).then(function(x){gt(y)&&!O||st(x,y)}).catch(function(x){return ve(x)}),R({type:"reset"})},[a,st,ve,O]),Ae=T.useCallback(function(){if(Z.current){R({type:"openDialog"}),X();var y={multiple:s,types:J};window.showOpenFilePicker(y).then(function(x){return a(x)}).then(function(x){st(x,null),R({type:"closeDialog"})}).catch(function(x){Aa(x)?(q(x),R({type:"closeDialog"})):Ra(x)?(Z.current=!1,m.current?(m.current.value=null,m.current.click()):ve(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ve(x)});return}m.current&&(R({type:"openDialog"}),X(),m.current.value=null,m.current.click())},[R,X,q,A,st,ve,J,s]),dr=T.useCallback(function(y){!g.current||!g.current.isEqualNode(y.target)||(y.key===" "||y.key==="Enter"||y.keyCode===32||y.keyCode===13)&&(y.preventDefault(),Ae())},[g,Ae]),mr=T.useCallback(function(){R({type:"focus"})},[]),vr=T.useCallback(function(){R({type:"blur"})},[]),gr=T.useCallback(function(){I||(_a()?setTimeout(Ae,0):Ae())},[I,Ae]),Re=function(x){return n?null:x},Ct=function(x){return F?null:Re(x)},ct=function(x){return d?null:Re(x)},ut=function(x){O&&x.stopPropagation()},Bn=T.useMemo(function(){return function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=y.refKey,$=x===void 0?"ref":x,G=y.role,ae=y.onKeyDown,$e=y.onFocus,Ne=y.onBlur,_t=y.onClick,Mt=y.onDragEnter,Tt=y.onDragOver,ft=y.onDragLeave,St=y.onDrop,At=yt(y,Ia);return U(U(Wt({onKeyDown:Ct(he(ae,dr)),onFocus:Ct(he($e,mr)),onBlur:Ct(he(Ne,vr)),onClick:Re(he(_t,gr)),onDragEnter:ct(he(Mt,ot)),onDragOver:ct(he(Tt,pr)),onDragLeave:ct(he(ft,hr)),onDrop:ct(he(St,lt)),role:typeof G=="string"&&G!==""?G:"presentation"},$,g),!n&&!F?{tabIndex:0}:{}),At)}},[g,dr,mr,vr,gr,ot,pr,hr,lt,F,d,n]),Un=T.useCallback(function(y){y.stopPropagation()},[]),$n=T.useMemo(function(){return function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=y.refKey,$=x===void 0?"ref":x,G=y.onChange,ae=y.onClick,$e=yt(y,La),Ne=Wt({accept:H,multiple:s,type:"file",style:{display:"none"},onChange:Re(he(G,lt)),onClick:Re(he(ae,Un)),tabIndex:-1},$,m);return U(U({},Ne),$e)}},[m,r,s,lt,n]);return U(U({},w),{},{isFocused:V&&!n,getRootProps:Bn,getInputProps:$n,rootRef:g,inputRef:m,open:Re(Ae)})}function $a(t,e){switch(e.type){case"focus":return U(U({},t),{},{isFocused:!0});case"blur":return U(U({},t),{},{isFocused:!1});case"openDialog":return U(U({},zt),{},{isFileDialogActive:!0});case"closeDialog":return U(U({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return U(U({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return U(U({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return U({},zt);default:return t}}function Sr(){}function Ya(t){return new Promise((e,r)=>{const n=new FileReader;n.onload=()=>{if(n.result){const a=n.result;e(a)}else r(new Error("Failed to read the file."))},n.readAsDataURL(t)})}/*!
 * Cropper.js v1.6.1
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-09-17T03:44:19.860Z
 */function Ar(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function gn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ar(Object(r),!0).forEach(function(n){Va(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ar(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bt(t){"@babel/helpers - typeof";return Bt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bt(t)}function Xa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bn(n.key),n)}}function qa(t,e,r){return e&&Rr(t.prototype,e),r&&Rr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Va(t,e,r){return e=bn(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yn(t){return Ka(t)||Ga(t)||Qa(t)||Za()}function Ka(t){if(Array.isArray(t))return Ut(t)}function Ga(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qa(t,e){if(t){if(typeof t=="string")return Ut(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ut(t,e)}}function Ut(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Za(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ja(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bn(t){var e=Ja(t,"string");return typeof e=="symbol"?e:String(e)}var Et=typeof window<"u"&&typeof window.document<"u",me=Et?window:{},ir=Et&&me.document.documentElement?"ontouchstart"in me.document.documentElement:!1,or=Et?"PointerEvent"in me:!1,z="cropper",sr="all",wn="crop",On="move",xn="zoom",Oe="e",xe="w",Pe="s",ge="n",Ye="ne",Xe="nw",qe="se",Ve="sw",$t="".concat(z,"-crop"),Nr="".concat(z,"-disabled"),te="".concat(z,"-hidden"),Pr="".concat(z,"-hide"),ei="".concat(z,"-invisible"),bt="".concat(z,"-modal"),Yt="".concat(z,"-move"),Je="".concat(z,"Action"),ht="".concat(z,"Preview"),lr="crop",En="move",Dn="none",Xt="crop",qt="cropend",Vt="cropmove",Kt="cropstart",Ir="dblclick",ti=ir?"touchstart":"mousedown",ri=ir?"touchmove":"mousemove",ni=ir?"touchend touchcancel":"mouseup",Lr=or?"pointerdown":ti,kr=or?"pointermove":ri,Fr=or?"pointerup pointercancel":ni,jr="ready",Hr="resize",Wr="wheel",Gt="zoom",zr="image/jpeg",ai=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,ii=/^data:/,oi=/^data:image\/jpeg;base64,/,si=/^img|canvas$/i,Cn=200,_n=100,Br={viewMode:0,dragMode:lr,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:Cn,minContainerHeight:_n,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},li='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',ci=Number.isNaN||me.isNaN;function S(t){return typeof t=="number"&&!ci(t)}var Ur=function(e){return e>0&&e<1/0};function It(t){return typeof t>"u"}function Me(t){return Bt(t)==="object"&&t!==null}var ui=Object.prototype.hasOwnProperty;function Ie(t){if(!Me(t))return!1;try{var e=t.constructor,r=e.prototype;return e&&r&&ui.call(r,"isPrototypeOf")}catch{return!1}}function ee(t){return typeof t=="function"}var fi=Array.prototype.slice;function Mn(t){return Array.from?Array.from(t):fi.call(t)}function Y(t,e){return t&&ee(e)&&(Array.isArray(t)||S(t.length)?Mn(t).forEach(function(r,n){e.call(t,r,n,t)}):Me(t)&&Object.keys(t).forEach(function(r){e.call(t,t[r],r,t)})),t}var B=Object.assign||function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return Me(e)&&n.length>0&&n.forEach(function(i){Me(i)&&Object.keys(i).forEach(function(o){e[o]=i[o]})}),e},pi=/\.\d*(?:0|9){12}\d*$/;function Fe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return pi.test(t)?Math.round(t*e)/e:t}var hi=/^width|height|left|top|marginLeft|marginTop$/;function ye(t,e){var r=t.style;Y(e,function(n,a){hi.test(a)&&S(n)&&(n="".concat(n,"px")),r[a]=n})}function di(t,e){return t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function K(t,e){if(e){if(S(t.length)){Y(t,function(n){K(n,e)});return}if(t.classList){t.classList.add(e);return}var r=t.className.trim();r?r.indexOf(e)<0&&(t.className="".concat(r," ").concat(e)):t.className=e}}function de(t,e){if(e){if(S(t.length)){Y(t,function(r){de(r,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function Le(t,e,r){if(e){if(S(t.length)){Y(t,function(n){Le(n,e,r)});return}r?K(t,e):de(t,e)}}var mi=/([a-z\d])([A-Z])/g;function cr(t){return t.replace(mi,"$1-$2").toLowerCase()}function Qt(t,e){return Me(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(cr(e)))}function et(t,e,r){Me(r)?t[e]=r:t.dataset?t.dataset[e]=r:t.setAttribute("data-".concat(cr(e)),r)}function vi(t,e){if(Me(t[e]))try{delete t[e]}catch{t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch{t.dataset[e]=void 0}else t.removeAttribute("data-".concat(cr(e)))}var Tn=/\s\s*/,Sn=function(){var t=!1;if(Et){var e=!1,r=function(){},n=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(i){e=i}});me.addEventListener("test",r,n),me.removeEventListener("test",r,n)}return t}();function le(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=r;e.trim().split(Tn).forEach(function(i){if(!Sn){var o=t.listeners;o&&o[i]&&o[i][r]&&(a=o[i][r],delete o[i][r],Object.keys(o[i]).length===0&&delete o[i],Object.keys(o).length===0&&delete t.listeners)}t.removeEventListener(i,a,n)})}function oe(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=r;e.trim().split(Tn).forEach(function(i){if(n.once&&!Sn){var o=t.listeners,s=o===void 0?{}:o;a=function(){delete s[i][r],t.removeEventListener(i,a,n);for(var u=arguments.length,c=new Array(u),l=0;l<u;l++)c[l]=arguments[l];r.apply(t,c)},s[i]||(s[i]={}),s[i][r]&&t.removeEventListener(i,s[i][r],n),s[i][r]=a,t.listeners=s}t.addEventListener(i,a,n)})}function je(t,e,r){var n;return ee(Event)&&ee(CustomEvent)?n=new CustomEvent(e,{detail:r,bubbles:!0,cancelable:!0}):(n=document.createEvent("CustomEvent"),n.initCustomEvent(e,!0,!0,r)),t.dispatchEvent(n)}function An(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var Lt=me.location,gi=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function $r(t){var e=t.match(gi);return e!==null&&(e[1]!==Lt.protocol||e[2]!==Lt.hostname||e[3]!==Lt.port)}function Yr(t){var e="timestamp=".concat(new Date().getTime());return t+(t.indexOf("?")===-1?"?":"&")+e}function Ke(t){var e=t.rotate,r=t.scaleX,n=t.scaleY,a=t.translateX,i=t.translateY,o=[];S(a)&&a!==0&&o.push("translateX(".concat(a,"px)")),S(i)&&i!==0&&o.push("translateY(".concat(i,"px)")),S(e)&&e!==0&&o.push("rotate(".concat(e,"deg)")),S(r)&&r!==1&&o.push("scaleX(".concat(r,")")),S(n)&&n!==1&&o.push("scaleY(".concat(n,")"));var s=o.length?o.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function yi(t){var e=gn({},t),r=0;return Y(t,function(n,a){delete e[a],Y(e,function(i){var o=Math.abs(n.startX-i.startX),s=Math.abs(n.startY-i.startY),p=Math.abs(n.endX-i.endX),u=Math.abs(n.endY-i.endY),c=Math.sqrt(o*o+s*s),l=Math.sqrt(p*p+u*u),f=(l-c)/c;Math.abs(f)>Math.abs(r)&&(r=f)})}),r}function dt(t,e){var r=t.pageX,n=t.pageY,a={endX:r,endY:n};return e?a:gn({startX:r,startY:n},a)}function bi(t){var e=0,r=0,n=0;return Y(t,function(a){var i=a.startX,o=a.startY;e+=i,r+=o,n+=1}),e/=n,r/=n,{pageX:e,pageY:r}}function be(t){var e=t.aspectRatio,r=t.height,n=t.width,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",i=Ur(n),o=Ur(r);if(i&&o){var s=r*e;a==="contain"&&s>n||a==="cover"&&s<n?r=n/e:n=r*e}else i?r=n/e:o&&(n=r*e);return{width:n,height:r}}function wi(t){var e=t.width,r=t.height,n=t.degree;if(n=Math.abs(n)%180,n===90)return{width:r,height:e};var a=n%90*Math.PI/180,i=Math.sin(a),o=Math.cos(a),s=e*o+r*i,p=e*i+r*o;return n>90?{width:p,height:s}:{width:s,height:p}}function Oi(t,e,r,n){var a=e.aspectRatio,i=e.naturalWidth,o=e.naturalHeight,s=e.rotate,p=s===void 0?0:s,u=e.scaleX,c=u===void 0?1:u,l=e.scaleY,f=l===void 0?1:l,v=r.aspectRatio,b=r.naturalWidth,C=r.naturalHeight,E=n.fillColor,A=E===void 0?"transparent":E,k=n.imageSmoothingEnabled,P=k===void 0?!0:k,I=n.imageSmoothingQuality,F=I===void 0?"low":I,d=n.maxWidth,O=d===void 0?1/0:d,_=n.maxHeight,M=_===void 0?1/0:_,H=n.minWidth,J=H===void 0?0:H,X=n.minHeight,q=X===void 0?0:X,g=document.createElement("canvas"),m=g.getContext("2d"),N=be({aspectRatio:v,width:O,height:M}),h=be({aspectRatio:v,width:J,height:q},"cover"),w=Math.min(N.width,Math.max(h.width,b)),R=Math.min(N.height,Math.max(h.height,C)),V=be({aspectRatio:a,width:O,height:M}),W=be({aspectRatio:a,width:J,height:q},"cover"),Z=Math.min(V.width,Math.max(W.width,i)),re=Math.min(V.height,Math.max(W.height,o)),ne=[-Z/2,-re/2,Z,re];return g.width=Fe(w),g.height=Fe(R),m.fillStyle=A,m.fillRect(0,0,w,R),m.save(),m.translate(w/2,R/2),m.rotate(p*Math.PI/180),m.scale(c,f),m.imageSmoothingEnabled=P,m.imageSmoothingQuality=F,m.drawImage.apply(m,[t].concat(yn(ne.map(function(Se){return Math.floor(Fe(Se))})))),m.restore(),g}var Rn=String.fromCharCode;function xi(t,e,r){var n="";r+=e;for(var a=e;a<r;a+=1)n+=Rn(t.getUint8(a));return n}var Ei=/^data:.*,/;function Di(t){var e=t.replace(Ei,""),r=atob(e),n=new ArrayBuffer(r.length),a=new Uint8Array(n);return Y(a,function(i,o){a[o]=r.charCodeAt(o)}),n}function Ci(t,e){for(var r=[],n=8192,a=new Uint8Array(t);a.length>0;)r.push(Rn.apply(null,Mn(a.subarray(0,n)))),a=a.subarray(n);return"data:".concat(e,";base64,").concat(btoa(r.join("")))}function _i(t){var e=new DataView(t),r;try{var n,a,i;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var o=e.byteLength,s=2;s+1<o;){if(e.getUint8(s)===255&&e.getUint8(s+1)===225){a=s;break}s+=1}if(a){var p=a+4,u=a+10;if(xi(e,p,4)==="Exif"){var c=e.getUint16(u);if(n=c===18761,(n||c===19789)&&e.getUint16(u+2,n)===42){var l=e.getUint32(u+4,n);l>=8&&(i=u+l)}}}if(i){var f=e.getUint16(i,n),v,b;for(b=0;b<f;b+=1)if(v=i+b*12+2,e.getUint16(v,n)===274){v+=8,r=e.getUint16(v,n),e.setUint16(v,1,n);break}}}catch{r=1}return r}function Mi(t){var e=0,r=1,n=1;switch(t){case 2:r=-1;break;case 3:e=-180;break;case 4:n=-1;break;case 5:e=90,n=-1;break;case 6:e=90;break;case 7:e=90,r=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:r,scaleY:n}}var Ti={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,r=this.options,n=this.container,a=this.cropper,i=Number(r.minContainerWidth),o=Number(r.minContainerHeight);K(a,te),de(e,te);var s={width:Math.max(n.offsetWidth,i>=0?i:Cn),height:Math.max(n.offsetHeight,o>=0?o:_n)};this.containerData=s,ye(a,{width:s.width,height:s.height}),K(e,te),de(a,te)},initCanvas:function(){var e=this.containerData,r=this.imageData,n=this.options.viewMode,a=Math.abs(r.rotate)%180===90,i=a?r.naturalHeight:r.naturalWidth,o=a?r.naturalWidth:r.naturalHeight,s=i/o,p=e.width,u=e.height;e.height*s>e.width?n===3?p=e.height*s:u=e.width/s:n===3?u=e.width/s:p=e.height*s;var c={aspectRatio:s,naturalWidth:i,naturalHeight:o,width:p,height:u};this.canvasData=c,this.limited=n===1||n===2,this.limitCanvas(!0,!0),c.width=Math.min(Math.max(c.width,c.minWidth),c.maxWidth),c.height=Math.min(Math.max(c.height,c.minHeight),c.maxHeight),c.left=(e.width-c.width)/2,c.top=(e.height-c.height)/2,c.oldLeft=c.left,c.oldTop=c.top,this.initialCanvasData=B({},c)},limitCanvas:function(e,r){var n=this.options,a=this.containerData,i=this.canvasData,o=this.cropBoxData,s=n.viewMode,p=i.aspectRatio,u=this.cropped&&o;if(e){var c=Number(n.minCanvasWidth)||0,l=Number(n.minCanvasHeight)||0;s>1?(c=Math.max(c,a.width),l=Math.max(l,a.height),s===3&&(l*p>c?c=l*p:l=c/p)):s>0&&(c?c=Math.max(c,u?o.width:0):l?l=Math.max(l,u?o.height:0):u&&(c=o.width,l=o.height,l*p>c?c=l*p:l=c/p));var f=be({aspectRatio:p,width:c,height:l});c=f.width,l=f.height,i.minWidth=c,i.minHeight=l,i.maxWidth=1/0,i.maxHeight=1/0}if(r)if(s>(u?0:1)){var v=a.width-i.width,b=a.height-i.height;i.minLeft=Math.min(0,v),i.minTop=Math.min(0,b),i.maxLeft=Math.max(0,v),i.maxTop=Math.max(0,b),u&&this.limited&&(i.minLeft=Math.min(o.left,o.left+(o.width-i.width)),i.minTop=Math.min(o.top,o.top+(o.height-i.height)),i.maxLeft=o.left,i.maxTop=o.top,s===2&&(i.width>=a.width&&(i.minLeft=Math.min(0,v),i.maxLeft=Math.max(0,v)),i.height>=a.height&&(i.minTop=Math.min(0,b),i.maxTop=Math.max(0,b))))}else i.minLeft=-i.width,i.minTop=-i.height,i.maxLeft=a.width,i.maxTop=a.height},renderCanvas:function(e,r){var n=this.canvasData,a=this.imageData;if(r){var i=wi({width:a.naturalWidth*Math.abs(a.scaleX||1),height:a.naturalHeight*Math.abs(a.scaleY||1),degree:a.rotate||0}),o=i.width,s=i.height,p=n.width*(o/n.naturalWidth),u=n.height*(s/n.naturalHeight);n.left-=(p-n.width)/2,n.top-=(u-n.height)/2,n.width=p,n.height=u,n.aspectRatio=o/s,n.naturalWidth=o,n.naturalHeight=s,this.limitCanvas(!0,!1)}(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCanvas(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,ye(this.canvas,B({width:n.width,height:n.height},Ke({translateX:n.left,translateY:n.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var r=this.canvasData,n=this.imageData,a=n.naturalWidth*(r.width/r.naturalWidth),i=n.naturalHeight*(r.height/r.naturalHeight);B(n,{width:a,height:i,left:(r.width-a)/2,top:(r.height-i)/2}),ye(this.image,B({width:n.width,height:n.height},Ke(B({translateX:n.left,translateY:n.top},n)))),e&&this.output()},initCropBox:function(){var e=this.options,r=this.canvasData,n=e.aspectRatio||e.initialAspectRatio,a=Number(e.autoCropArea)||.8,i={width:r.width,height:r.height};n&&(r.height*n>r.width?i.height=i.width/n:i.width=i.height*n),this.cropBoxData=i,this.limitCropBox(!0,!0),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),i.width=Math.max(i.minWidth,i.width*a),i.height=Math.max(i.minHeight,i.height*a),i.left=r.left+(r.width-i.width)/2,i.top=r.top+(r.height-i.height)/2,i.oldLeft=i.left,i.oldTop=i.top,this.initialCropBoxData=B({},i)},limitCropBox:function(e,r){var n=this.options,a=this.containerData,i=this.canvasData,o=this.cropBoxData,s=this.limited,p=n.aspectRatio;if(e){var u=Number(n.minCropBoxWidth)||0,c=Number(n.minCropBoxHeight)||0,l=s?Math.min(a.width,i.width,i.width+i.left,a.width-i.left):a.width,f=s?Math.min(a.height,i.height,i.height+i.top,a.height-i.top):a.height;u=Math.min(u,a.width),c=Math.min(c,a.height),p&&(u&&c?c*p>u?c=u/p:u=c*p:u?c=u/p:c&&(u=c*p),f*p>l?f=l/p:l=f*p),o.minWidth=Math.min(u,l),o.minHeight=Math.min(c,f),o.maxWidth=l,o.maxHeight=f}r&&(s?(o.minLeft=Math.max(0,i.left),o.minTop=Math.max(0,i.top),o.maxLeft=Math.min(a.width,i.left+i.width)-o.width,o.maxTop=Math.min(a.height,i.top+i.height)-o.height):(o.minLeft=0,o.minTop=0,o.maxLeft=a.width-o.width,o.maxTop=a.height-o.height))},renderCropBox:function(){var e=this.options,r=this.containerData,n=this.cropBoxData;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCropBox(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,e.movable&&e.cropBoxMovable&&et(this.face,Je,n.width>=r.width&&n.height>=r.height?On:sr),ye(this.cropBox,B({width:n.width,height:n.height},Ke({translateX:n.left,translateY:n.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),je(this.element,Xt,this.getData())}},Si={initPreview:function(){var e=this.element,r=this.crossOrigin,n=this.options.preview,a=r?this.crossOriginUrl:this.url,i=e.alt||"The image to preview",o=document.createElement("img");if(r&&(o.crossOrigin=r),o.src=a,o.alt=i,this.viewBox.appendChild(o),this.viewBoxImage=o,!!n){var s=n;typeof n=="string"?s=e.ownerDocument.querySelectorAll(n):n.querySelector&&(s=[n]),this.previews=s,Y(s,function(p){var u=document.createElement("img");et(p,ht,{width:p.offsetWidth,height:p.offsetHeight,html:p.innerHTML}),r&&(u.crossOrigin=r),u.src=a,u.alt=i,u.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',p.innerHTML="",p.appendChild(u)})}},resetPreview:function(){Y(this.previews,function(e){var r=Qt(e,ht);ye(e,{width:r.width,height:r.height}),e.innerHTML=r.html,vi(e,ht)})},preview:function(){var e=this.imageData,r=this.canvasData,n=this.cropBoxData,a=n.width,i=n.height,o=e.width,s=e.height,p=n.left-r.left-e.left,u=n.top-r.top-e.top;!this.cropped||this.disabled||(ye(this.viewBoxImage,B({width:o,height:s},Ke(B({translateX:-p,translateY:-u},e)))),Y(this.previews,function(c){var l=Qt(c,ht),f=l.width,v=l.height,b=f,C=v,E=1;a&&(E=f/a,C=i*E),i&&C>v&&(E=v/i,b=a*E,C=v),ye(c,{width:b,height:C}),ye(c.getElementsByTagName("img")[0],B({width:o*E,height:s*E},Ke(B({translateX:-p*E,translateY:-u*E},e))))}))}},Ai={bind:function(){var e=this.element,r=this.options,n=this.cropper;ee(r.cropstart)&&oe(e,Kt,r.cropstart),ee(r.cropmove)&&oe(e,Vt,r.cropmove),ee(r.cropend)&&oe(e,qt,r.cropend),ee(r.crop)&&oe(e,Xt,r.crop),ee(r.zoom)&&oe(e,Gt,r.zoom),oe(n,Lr,this.onCropStart=this.cropStart.bind(this)),r.zoomable&&r.zoomOnWheel&&oe(n,Wr,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),r.toggleDragModeOnDblclick&&oe(n,Ir,this.onDblclick=this.dblclick.bind(this)),oe(e.ownerDocument,kr,this.onCropMove=this.cropMove.bind(this)),oe(e.ownerDocument,Fr,this.onCropEnd=this.cropEnd.bind(this)),r.responsive&&oe(window,Hr,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,r=this.options,n=this.cropper;ee(r.cropstart)&&le(e,Kt,r.cropstart),ee(r.cropmove)&&le(e,Vt,r.cropmove),ee(r.cropend)&&le(e,qt,r.cropend),ee(r.crop)&&le(e,Xt,r.crop),ee(r.zoom)&&le(e,Gt,r.zoom),le(n,Lr,this.onCropStart),r.zoomable&&r.zoomOnWheel&&le(n,Wr,this.onWheel,{passive:!1,capture:!0}),r.toggleDragModeOnDblclick&&le(n,Ir,this.onDblclick),le(e.ownerDocument,kr,this.onCropMove),le(e.ownerDocument,Fr,this.onCropEnd),r.responsive&&le(window,Hr,this.onResize)}},Ri={resize:function(){if(!this.disabled){var e=this.options,r=this.container,n=this.containerData,a=r.offsetWidth/n.width,i=r.offsetHeight/n.height,o=Math.abs(a-1)>Math.abs(i-1)?a:i;if(o!==1){var s,p;e.restore&&(s=this.getCanvasData(),p=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(Y(s,function(u,c){s[c]=u*o})),this.setCropBoxData(Y(p,function(u,c){p[c]=u*o})))}}},dblclick:function(){this.disabled||this.options.dragMode===Dn||this.setDragMode(di(this.dragBox,$t)?En:lr)},wheel:function(e){var r=this,n=Number(this.options.wheelZoomRatio)||.1,a=1;this.disabled||(e.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){r.wheeling=!1},50),e.deltaY?a=e.deltaY>0?1:-1:e.wheelDelta?a=-e.wheelDelta/120:e.detail&&(a=e.detail>0?1:-1),this.zoom(-a*n,e)))},cropStart:function(e){var r=e.buttons,n=e.button;if(!(this.disabled||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(S(r)&&r!==1||S(n)&&n!==0||e.ctrlKey))){var a=this.options,i=this.pointers,o;e.changedTouches?Y(e.changedTouches,function(s){i[s.identifier]=dt(s)}):i[e.pointerId||0]=dt(e),Object.keys(i).length>1&&a.zoomable&&a.zoomOnTouch?o=xn:o=Qt(e.target,Je),ai.test(o)&&je(this.element,Kt,{originalEvent:e,action:o})!==!1&&(e.preventDefault(),this.action=o,this.cropping=!1,o===wn&&(this.cropping=!0,K(this.dragBox,bt)))}},cropMove:function(e){var r=this.action;if(!(this.disabled||!r)){var n=this.pointers;e.preventDefault(),je(this.element,Vt,{originalEvent:e,action:r})!==!1&&(e.changedTouches?Y(e.changedTouches,function(a){B(n[a.identifier]||{},dt(a,!0))}):B(n[e.pointerId||0]||{},dt(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var r=this.action,n=this.pointers;e.changedTouches?Y(e.changedTouches,function(a){delete n[a.identifier]}):delete n[e.pointerId||0],r&&(e.preventDefault(),Object.keys(n).length||(this.action=""),this.cropping&&(this.cropping=!1,Le(this.dragBox,bt,this.cropped&&this.options.modal)),je(this.element,qt,{originalEvent:e,action:r}))}}},Ni={change:function(e){var r=this.options,n=this.canvasData,a=this.containerData,i=this.cropBoxData,o=this.pointers,s=this.action,p=r.aspectRatio,u=i.left,c=i.top,l=i.width,f=i.height,v=u+l,b=c+f,C=0,E=0,A=a.width,k=a.height,P=!0,I;!p&&e.shiftKey&&(p=l&&f?l/f:1),this.limited&&(C=i.minLeft,E=i.minTop,A=C+Math.min(a.width,n.width,n.left+n.width),k=E+Math.min(a.height,n.height,n.top+n.height));var F=o[Object.keys(o)[0]],d={x:F.endX-F.startX,y:F.endY-F.startY},O=function(M){switch(M){case Oe:v+d.x>A&&(d.x=A-v);break;case xe:u+d.x<C&&(d.x=C-u);break;case ge:c+d.y<E&&(d.y=E-c);break;case Pe:b+d.y>k&&(d.y=k-b);break}};switch(s){case sr:u+=d.x,c+=d.y;break;case Oe:if(d.x>=0&&(v>=A||p&&(c<=E||b>=k))){P=!1;break}O(Oe),l+=d.x,l<0&&(s=xe,l=-l,u-=l),p&&(f=l/p,c+=(i.height-f)/2);break;case ge:if(d.y<=0&&(c<=E||p&&(u<=C||v>=A))){P=!1;break}O(ge),f-=d.y,c+=d.y,f<0&&(s=Pe,f=-f,c-=f),p&&(l=f*p,u+=(i.width-l)/2);break;case xe:if(d.x<=0&&(u<=C||p&&(c<=E||b>=k))){P=!1;break}O(xe),l-=d.x,u+=d.x,l<0&&(s=Oe,l=-l,u-=l),p&&(f=l/p,c+=(i.height-f)/2);break;case Pe:if(d.y>=0&&(b>=k||p&&(u<=C||v>=A))){P=!1;break}O(Pe),f+=d.y,f<0&&(s=ge,f=-f,c-=f),p&&(l=f*p,u+=(i.width-l)/2);break;case Ye:if(p){if(d.y<=0&&(c<=E||v>=A)){P=!1;break}O(ge),f-=d.y,c+=d.y,l=f*p}else O(ge),O(Oe),d.x>=0?v<A?l+=d.x:d.y<=0&&c<=E&&(P=!1):l+=d.x,d.y<=0?c>E&&(f-=d.y,c+=d.y):(f-=d.y,c+=d.y);l<0&&f<0?(s=Ve,f=-f,l=-l,c-=f,u-=l):l<0?(s=Xe,l=-l,u-=l):f<0&&(s=qe,f=-f,c-=f);break;case Xe:if(p){if(d.y<=0&&(c<=E||u<=C)){P=!1;break}O(ge),f-=d.y,c+=d.y,l=f*p,u+=i.width-l}else O(ge),O(xe),d.x<=0?u>C?(l-=d.x,u+=d.x):d.y<=0&&c<=E&&(P=!1):(l-=d.x,u+=d.x),d.y<=0?c>E&&(f-=d.y,c+=d.y):(f-=d.y,c+=d.y);l<0&&f<0?(s=qe,f=-f,l=-l,c-=f,u-=l):l<0?(s=Ye,l=-l,u-=l):f<0&&(s=Ve,f=-f,c-=f);break;case Ve:if(p){if(d.x<=0&&(u<=C||b>=k)){P=!1;break}O(xe),l-=d.x,u+=d.x,f=l/p}else O(Pe),O(xe),d.x<=0?u>C?(l-=d.x,u+=d.x):d.y>=0&&b>=k&&(P=!1):(l-=d.x,u+=d.x),d.y>=0?b<k&&(f+=d.y):f+=d.y;l<0&&f<0?(s=Ye,f=-f,l=-l,c-=f,u-=l):l<0?(s=qe,l=-l,u-=l):f<0&&(s=Xe,f=-f,c-=f);break;case qe:if(p){if(d.x>=0&&(v>=A||b>=k)){P=!1;break}O(Oe),l+=d.x,f=l/p}else O(Pe),O(Oe),d.x>=0?v<A?l+=d.x:d.y>=0&&b>=k&&(P=!1):l+=d.x,d.y>=0?b<k&&(f+=d.y):f+=d.y;l<0&&f<0?(s=Xe,f=-f,l=-l,c-=f,u-=l):l<0?(s=Ve,l=-l,u-=l):f<0&&(s=Ye,f=-f,c-=f);break;case On:this.move(d.x,d.y),P=!1;break;case xn:this.zoom(yi(o),e),P=!1;break;case wn:if(!d.x||!d.y){P=!1;break}I=An(this.cropper),u=F.startX-I.left,c=F.startY-I.top,l=i.minWidth,f=i.minHeight,d.x>0?s=d.y>0?qe:Ye:d.x<0&&(u-=l,s=d.y>0?Ve:Xe),d.y<0&&(c-=f),this.cropped||(de(this.cropBox,te),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}P&&(i.width=l,i.height=f,i.left=u,i.top=c,this.action=s,this.renderCropBox()),Y(o,function(_){_.startX=_.endX,_.startY=_.endY})}},Pi={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&K(this.dragBox,bt),de(this.cropBox,te),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=B({},this.initialImageData),this.canvasData=B({},this.initialCanvasData),this.cropBoxData=B({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(B(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),de(this.dragBox,bt),K(this.cropBox,te)),this},replace:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&e&&(this.isImg&&(this.element.src=e),r?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,Y(this.previews,function(n){n.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,de(this.cropper,Nr)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,K(this.cropper,Nr)),this},destroy:function(){var e=this.element;return e[z]?(e[z]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,n=this.canvasData,a=n.left,i=n.top;return this.moveTo(It(e)?e:a+Number(e),It(r)?r:i+Number(r))},moveTo:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,n=this.canvasData,a=!1;return e=Number(e),r=Number(r),this.ready&&!this.disabled&&this.options.movable&&(S(e)&&(n.left=e,a=!0),S(r)&&(n.top=r,a=!0),a&&this.renderCanvas(!0)),this},zoom:function(e,r){var n=this.canvasData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(n.width*e/n.naturalWidth,null,r)},zoomTo:function(e,r,n){var a=this.options,i=this.canvasData,o=i.width,s=i.height,p=i.naturalWidth,u=i.naturalHeight;if(e=Number(e),e>=0&&this.ready&&!this.disabled&&a.zoomable){var c=p*e,l=u*e;if(je(this.element,Gt,{ratio:e,oldRatio:o/p,originalEvent:n})===!1)return this;if(n){var f=this.pointers,v=An(this.cropper),b=f&&Object.keys(f).length?bi(f):{pageX:n.pageX,pageY:n.pageY};i.left-=(c-o)*((b.pageX-v.left-i.left)/o),i.top-=(l-s)*((b.pageY-v.top-i.top)/s)}else Ie(r)&&S(r.x)&&S(r.y)?(i.left-=(c-o)*((r.x-i.left)/o),i.top-=(l-s)*((r.y-i.top)/s)):(i.left-=(c-o)/2,i.top-=(l-s)/2);i.width=c,i.height=l,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return e=Number(e),S(e)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var r=this.imageData.scaleY;return this.scale(e,S(r)?r:1)},scaleY:function(e){var r=this.imageData.scaleX;return this.scale(S(r)?r:1,e)},scale:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,n=this.imageData,a=!1;return e=Number(e),r=Number(r),this.ready&&!this.disabled&&this.options.scalable&&(S(e)&&(n.scaleX=e,a=!0),S(r)&&(n.scaleY=r,a=!0),a&&this.renderCanvas(!0,!0)),this},getData:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=this.options,n=this.imageData,a=this.canvasData,i=this.cropBoxData,o;if(this.ready&&this.cropped){o={x:i.left-a.left,y:i.top-a.top,width:i.width,height:i.height};var s=n.width/n.naturalWidth;if(Y(o,function(c,l){o[l]=c/s}),e){var p=Math.round(o.y+o.height),u=Math.round(o.x+o.width);o.x=Math.round(o.x),o.y=Math.round(o.y),o.width=u-o.x,o.height=p-o.y}}else o={x:0,y:0,width:0,height:0};return r.rotatable&&(o.rotate=n.rotate||0),r.scalable&&(o.scaleX=n.scaleX||1,o.scaleY=n.scaleY||1),o},setData:function(e){var r=this.options,n=this.imageData,a=this.canvasData,i={};if(this.ready&&!this.disabled&&Ie(e)){var o=!1;r.rotatable&&S(e.rotate)&&e.rotate!==n.rotate&&(n.rotate=e.rotate,o=!0),r.scalable&&(S(e.scaleX)&&e.scaleX!==n.scaleX&&(n.scaleX=e.scaleX,o=!0),S(e.scaleY)&&e.scaleY!==n.scaleY&&(n.scaleY=e.scaleY,o=!0)),o&&this.renderCanvas(!0,!0);var s=n.width/n.naturalWidth;S(e.x)&&(i.left=e.x*s+a.left),S(e.y)&&(i.top=e.y*s+a.top),S(e.width)&&(i.width=e.width*s),S(e.height)&&(i.height=e.height*s),this.setCropBoxData(i)}return this},getContainerData:function(){return this.ready?B({},this.containerData):{}},getImageData:function(){return this.sized?B({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,r={};return this.ready&&Y(["left","top","width","height","naturalWidth","naturalHeight"],function(n){r[n]=e[n]}),r},setCanvasData:function(e){var r=this.canvasData,n=r.aspectRatio;return this.ready&&!this.disabled&&Ie(e)&&(S(e.left)&&(r.left=e.left),S(e.top)&&(r.top=e.top),S(e.width)?(r.width=e.width,r.height=e.width/n):S(e.height)&&(r.height=e.height,r.width=e.height*n),this.renderCanvas(!0)),this},getCropBoxData:function(){var e=this.cropBoxData,r;return this.ready&&this.cropped&&(r={left:e.left,top:e.top,width:e.width,height:e.height}),r||{}},setCropBoxData:function(e){var r=this.cropBoxData,n=this.options.aspectRatio,a,i;return this.ready&&this.cropped&&!this.disabled&&Ie(e)&&(S(e.left)&&(r.left=e.left),S(e.top)&&(r.top=e.top),S(e.width)&&e.width!==r.width&&(a=!0,r.width=e.width),S(e.height)&&e.height!==r.height&&(i=!0,r.height=e.height),n&&(a?r.height=r.width/n:i&&(r.width=r.height*n)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var r=this.canvasData,n=Oi(this.image,this.imageData,r,e);if(!this.cropped)return n;var a=this.getData(e.rounded),i=a.x,o=a.y,s=a.width,p=a.height,u=n.width/Math.floor(r.naturalWidth);u!==1&&(i*=u,o*=u,s*=u,p*=u);var c=s/p,l=be({aspectRatio:c,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),f=be({aspectRatio:c,width:e.minWidth||0,height:e.minHeight||0},"cover"),v=be({aspectRatio:c,width:e.width||(u!==1?n.width:s),height:e.height||(u!==1?n.height:p)}),b=v.width,C=v.height;b=Math.min(l.width,Math.max(f.width,b)),C=Math.min(l.height,Math.max(f.height,C));var E=document.createElement("canvas"),A=E.getContext("2d");E.width=Fe(b),E.height=Fe(C),A.fillStyle=e.fillColor||"transparent",A.fillRect(0,0,b,C);var k=e.imageSmoothingEnabled,P=k===void 0?!0:k,I=e.imageSmoothingQuality;A.imageSmoothingEnabled=P,I&&(A.imageSmoothingQuality=I);var F=n.width,d=n.height,O=i,_=o,M,H,J,X,q,g;O<=-s||O>F?(O=0,M=0,J=0,q=0):O<=0?(J=-O,O=0,M=Math.min(F,s+O),q=M):O<=F&&(J=0,M=Math.min(s,F-O),q=M),M<=0||_<=-p||_>d?(_=0,H=0,X=0,g=0):_<=0?(X=-_,_=0,H=Math.min(d,p+_),g=H):_<=d&&(X=0,H=Math.min(p,d-_),g=H);var m=[O,_,M,H];if(q>0&&g>0){var N=b/s;m.push(J*N,X*N,q*N,g*N)}return A.drawImage.apply(A,[n].concat(yn(m.map(function(h){return Math.floor(Fe(h))})))),E},setAspectRatio:function(e){var r=this.options;return!this.disabled&&!It(e)&&(r.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var r=this.options,n=this.dragBox,a=this.face;if(this.ready&&!this.disabled){var i=e===lr,o=r.movable&&e===En;e=i||o?e:Dn,r.dragMode=e,et(n,Je,e),Le(n,$t,i),Le(n,Yt,o),r.cropBoxMovable||(et(a,Je,e),Le(a,$t,i),Le(a,Yt,o))}return this}},Ii=me.Cropper,Nn=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Xa(this,t),!e||!si.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=B({},Br,Ie(r)&&r),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return qa(t,[{key:"init",value:function(){var r=this.element,n=r.tagName.toLowerCase(),a;if(!r[z]){if(r[z]=this,n==="img"){if(this.isImg=!0,a=r.getAttribute("src")||"",this.originalUrl=a,!a)return;a=r.src}else n==="canvas"&&window.HTMLCanvasElement&&(a=r.toDataURL());this.load(a)}}},{key:"load",value:function(r){var n=this;if(r){this.url=r,this.imageData={};var a=this.element,i=this.options;if(!i.rotatable&&!i.scalable&&(i.checkOrientation=!1),!i.checkOrientation||!window.ArrayBuffer){this.clone();return}if(ii.test(r)){oi.test(r)?this.read(Di(r)):this.clone();return}var o=new XMLHttpRequest,s=this.clone.bind(this);this.reloading=!0,this.xhr=o,o.onabort=s,o.onerror=s,o.ontimeout=s,o.onprogress=function(){o.getResponseHeader("content-type")!==zr&&o.abort()},o.onload=function(){n.read(o.response)},o.onloadend=function(){n.reloading=!1,n.xhr=null},i.checkCrossOrigin&&$r(r)&&a.crossOrigin&&(r=Yr(r)),o.open("GET",r,!0),o.responseType="arraybuffer",o.withCredentials=a.crossOrigin==="use-credentials",o.send()}}},{key:"read",value:function(r){var n=this.options,a=this.imageData,i=_i(r),o=0,s=1,p=1;if(i>1){this.url=Ci(r,zr);var u=Mi(i);o=u.rotate,s=u.scaleX,p=u.scaleY}n.rotatable&&(a.rotate=o),n.scalable&&(a.scaleX=s,a.scaleY=p),this.clone()}},{key:"clone",value:function(){var r=this.element,n=this.url,a=r.crossOrigin,i=n;this.options.checkCrossOrigin&&$r(n)&&(a||(a="anonymous"),i=Yr(n)),this.crossOrigin=a,this.crossOriginUrl=i;var o=document.createElement("img");a&&(o.crossOrigin=a),o.src=i||n,o.alt=r.alt||"The image to crop",this.image=o,o.onload=this.start.bind(this),o.onerror=this.stop.bind(this),K(o,Pr),r.parentNode.insertBefore(o,r.nextSibling)}},{key:"start",value:function(){var r=this,n=this.image;n.onload=null,n.onerror=null,this.sizing=!0;var a=me.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(me.navigator.userAgent),i=function(u,c){B(r.imageData,{naturalWidth:u,naturalHeight:c,aspectRatio:u/c}),r.initialImageData=B({},r.imageData),r.sizing=!1,r.sized=!0,r.build()};if(n.naturalWidth&&!a){i(n.naturalWidth,n.naturalHeight);return}var o=document.createElement("img"),s=document.body||document.documentElement;this.sizingImage=o,o.onload=function(){i(o.width,o.height),a||s.removeChild(o)},o.src=n.src,a||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",s.appendChild(o))}},{key:"stop",value:function(){var r=this.image;r.onload=null,r.onerror=null,r.parentNode.removeChild(r),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var r=this.element,n=this.options,a=this.image,i=r.parentNode,o=document.createElement("div");o.innerHTML=li;var s=o.querySelector(".".concat(z,"-container")),p=s.querySelector(".".concat(z,"-canvas")),u=s.querySelector(".".concat(z,"-drag-box")),c=s.querySelector(".".concat(z,"-crop-box")),l=c.querySelector(".".concat(z,"-face"));this.container=i,this.cropper=s,this.canvas=p,this.dragBox=u,this.cropBox=c,this.viewBox=s.querySelector(".".concat(z,"-view-box")),this.face=l,p.appendChild(a),K(r,te),i.insertBefore(s,r.nextSibling),de(a,Pr),this.initPreview(),this.bind(),n.initialAspectRatio=Math.max(0,n.initialAspectRatio)||NaN,n.aspectRatio=Math.max(0,n.aspectRatio)||NaN,n.viewMode=Math.max(0,Math.min(3,Math.round(n.viewMode)))||0,K(c,te),n.guides||K(c.getElementsByClassName("".concat(z,"-dashed")),te),n.center||K(c.getElementsByClassName("".concat(z,"-center")),te),n.background&&K(s,"".concat(z,"-bg")),n.highlight||K(l,ei),n.cropBoxMovable&&(K(l,Yt),et(l,Je,sr)),n.cropBoxResizable||(K(c.getElementsByClassName("".concat(z,"-line")),te),K(c.getElementsByClassName("".concat(z,"-point")),te)),this.render(),this.ready=!0,this.setDragMode(n.dragMode),n.autoCrop&&this.crop(),this.setData(n.data),ee(n.ready)&&oe(r,jr,n.ready,{once:!0}),je(r,jr)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var r=this.cropper.parentNode;r&&r.removeChild(this.cropper),de(this.element,te)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=Ii,t}},{key:"setDefaults",value:function(r){B(Br,Ie(r)&&r)}}]),t}();B(Nn.prototype,Ti,Si,Ai,Ri,Ni,Pi);var Ce=function(){return Ce=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var a in e=arguments[r])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},Ce.apply(this,arguments)};function kt(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var a=0;for(n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]])}return r}var Li=["aspectRatio","autoCrop","autoCropArea","background","center","checkCrossOrigin","checkOrientation","cropBoxMovable","cropBoxResizable","data","dragMode","guides","highlight","initialAspectRatio","minCanvasHeight","minCanvasWidth","minContainerHeight","minContainerWidth","minCropBoxHeight","minCropBoxWidth","modal","movable","preview","responsive","restore","rotatable","scalable","toggleDragModeOnDblclick","viewMode","wheelZoomRatio","zoomOnTouch","zoomOnWheel","zoomable","cropstart","cropmove","cropend","crop","zoom","ready"],ki={opacity:0,maxWidth:"100%"},Fi=ie.forwardRef(function(t,e){var r=kt(t,[]),n=r.dragMode,a=n===void 0?"crop":n,i=r.src,o=r.style,s=r.className,p=r.crossOrigin,u=r.scaleX,c=r.scaleY,l=r.enable,f=r.zoomTo,v=r.rotateTo,b=r.alt,C=b===void 0?"picture":b,E=r.ready,A=r.onInitialized,k=kt(r,["dragMode","src","style","className","crossOrigin","scaleX","scaleY","enable","zoomTo","rotateTo","alt","ready","onInitialized"]),P={scaleY:c,scaleX:u,enable:l,zoomTo:f,rotateTo:v},I=function(){for(var d=[],O=0;O<arguments.length;O++)d[O]=arguments[O];var _=T.useRef(null);return ie.useEffect(function(){d.forEach(function(M){M&&(typeof M=="function"?M(_.current):M.current=_.current)})},[d]),_}(e,T.useRef(null));T.useEffect(function(){var d;!((d=I.current)===null||d===void 0)&&d.cropper&&typeof f=="number"&&I.current.cropper.zoomTo(f)},[r.zoomTo]),T.useEffect(function(){var d;!((d=I.current)===null||d===void 0)&&d.cropper&&i!==void 0&&I.current.cropper.reset().clear().replace(i)},[i]),T.useEffect(function(){if(I.current!==null){var d=new Nn(I.current,Ce(Ce({dragMode:a},k),{ready:function(O){O.currentTarget!==null&&function(_,M){M===void 0&&(M={});var H=M.enable,J=H===void 0||H,X=M.scaleX,q=X===void 0?1:X,g=M.scaleY,m=g===void 0?1:g,N=M.zoomTo,h=N===void 0?0:N,w=M.rotateTo;J?_.enable():_.disable(),_.scaleX(q),_.scaleY(m),w!==void 0&&_.rotateTo(w),h>0&&_.zoomTo(h)}(O.currentTarget.cropper,P),E&&E(O)}}));A&&A(d)}return function(){var O,_;(_=(O=I.current)===null||O===void 0?void 0:O.cropper)===null||_===void 0||_.destroy()}},[I]);var F=function(d){return Li.reduce(function(O,_){var M=O,H=_;return M[H],kt(M,[typeof H=="symbol"?H:H+""])},d)}(Ce(Ce({},k),{crossOrigin:p,src:i,alt:C}));return ie.createElement("div",{style:o,className:s},ie.createElement("img",Ce({},F,{style:ki,ref:I})))}),Zt={exports:{}},Te={},Jt={exports:{}},fe={},er={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var r="none",n="contents",a=/input|select|textarea|button|object|iframe/;function i(l,f){return f.getPropertyValue("overflow")!=="visible"||l.scrollWidth<=0&&l.scrollHeight<=0}function o(l){var f=l.offsetWidth<=0&&l.offsetHeight<=0;if(f&&!l.innerHTML)return!0;try{var v=window.getComputedStyle(l),b=v.getPropertyValue("display");return f?b!==n&&i(l,v):b===r}catch{return console.warn("Failed to inspect element style"),!1}}function s(l){for(var f=l,v=l.getRootNode&&l.getRootNode();f&&f!==document.body;){if(v&&f===v&&(f=v.host.parentNode),o(f))return!1;f=f.parentNode}return!0}function p(l,f){var v=l.nodeName.toLowerCase(),b=a.test(v)&&!l.disabled||v==="a"&&l.href||f;return b&&s(l)}function u(l){var f=l.getAttribute("tabindex");f===null&&(f=void 0);var v=isNaN(f);return(v||f>=0)&&p(l,!v)}function c(l){var f=[].slice.call(l.querySelectorAll("*"),0).reduce(function(v,b){return v.concat(b.shadowRoot?c(b.shadowRoot):[b])},[]);return f.filter(u)}t.exports=e.default})(er,er.exports);var Pn=er.exports;Object.defineProperty(fe,"__esModule",{value:!0});fe.resetState=zi;fe.log=Bi;fe.handleBlur=tt;fe.handleFocus=rt;fe.markForFocusLater=Ui;fe.returnFocus=$i;fe.popWithoutFocus=Yi;fe.setupScopedFocus=Xi;fe.teardownScopedFocus=qi;var ji=Pn,Hi=Wi(ji);function Wi(t){return t&&t.__esModule?t:{default:t}}var He=[],ke=null,tr=!1;function zi(){He=[]}function Bi(){}function tt(){tr=!0}function rt(){if(tr){if(tr=!1,!ke)return;setTimeout(function(){if(!ke.contains(document.activeElement)){var t=(0,Hi.default)(ke)[0]||ke;t.focus()}},0)}}function Ui(){He.push(document.activeElement)}function $i(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=null;try{He.length!==0&&(e=He.pop(),e.focus({preventScroll:t}));return}catch{console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}}function Yi(){He.length>0&&He.pop()}function Xi(t){ke=t,window.addEventListener?(window.addEventListener("blur",tt,!1),document.addEventListener("focus",rt,!0)):(window.attachEvent("onBlur",tt),document.attachEvent("onFocus",rt))}function qi(){ke=null,window.addEventListener?(window.removeEventListener("blur",tt),document.removeEventListener("focus",rt)):(window.detachEvent("onBlur",tt),document.detachEvent("onFocus",rt))}var rr={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var r=Pn,n=a(r);function a(s){return s&&s.__esModule?s:{default:s}}function i(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return s.activeElement.shadowRoot?i(s.activeElement.shadowRoot):s.activeElement}function o(s,p){var u=(0,n.default)(s);if(!u.length){p.preventDefault();return}var c=void 0,l=p.shiftKey,f=u[0],v=u[u.length-1],b=i();if(s===b){if(!l)return;c=v}if(v===b&&!l&&(c=f),f===b&&l&&(c=v),c){p.preventDefault(),c.focus();return}var C=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),E=C!=null&&C[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(E){var A=u.indexOf(b);if(A>-1&&(A+=l?-1:1),c=u[A],typeof c>"u"){p.preventDefault(),c=l?v:f,c.focus();return}p.preventDefault(),c.focus()}}t.exports=e.default})(rr,rr.exports);var Vi=rr.exports,pe={},Ki=function(){},Gi=Ki,ue={},In={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(t){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),r={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=r:window.ExecutionEnvironment=r})()})(In);var Qi=In.exports;Object.defineProperty(ue,"__esModule",{value:!0});ue.canUseDOM=ue.SafeNodeList=ue.SafeHTMLCollection=void 0;var Zi=Qi,Ji=eo(Zi);function eo(t){return t&&t.__esModule?t:{default:t}}var Dt=Ji.default,to=Dt.canUseDOM?window.HTMLElement:{};ue.SafeHTMLCollection=Dt.canUseDOM?window.HTMLCollection:{};ue.SafeNodeList=Dt.canUseDOM?window.NodeList:{};ue.canUseDOM=Dt.canUseDOM;ue.default=to;Object.defineProperty(pe,"__esModule",{value:!0});pe.resetState=oo;pe.log=so;pe.assertNodeList=Ln;pe.setElement=lo;pe.validateElement=ur;pe.hide=co;pe.show=uo;pe.documentNotReadyOrSSRTesting=fo;var ro=Gi,no=io(ro),ao=ue;function io(t){return t&&t.__esModule?t:{default:t}}var se=null;function oo(){se&&(se.removeAttribute?se.removeAttribute("aria-hidden"):se.length!=null?se.forEach(function(t){return t.removeAttribute("aria-hidden")}):document.querySelectorAll(se).forEach(function(t){return t.removeAttribute("aria-hidden")})),se=null}function so(){}function Ln(t,e){if(!t||!t.length)throw new Error("react-modal: No elements were found for selector "+e+".")}function lo(t){var e=t;if(typeof e=="string"&&ao.canUseDOM){var r=document.querySelectorAll(e);Ln(r,e),e=r}return se=e||se,se}function ur(t){var e=t||se;return e?Array.isArray(e)||e instanceof HTMLCollection||e instanceof NodeList?e:[e]:((0,no.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function co(t){var e=!0,r=!1,n=void 0;try{for(var a=ur(t)[Symbol.iterator](),i;!(e=(i=a.next()).done);e=!0){var o=i.value;o.setAttribute("aria-hidden","true")}}catch(s){r=!0,n=s}finally{try{!e&&a.return&&a.return()}finally{if(r)throw n}}}function uo(t){var e=!0,r=!1,n=void 0;try{for(var a=ur(t)[Symbol.iterator](),i;!(e=(i=a.next()).done);e=!0){var o=i.value;o.removeAttribute("aria-hidden")}}catch(s){r=!0,n=s}finally{try{!e&&a.return&&a.return()}finally{if(r)throw n}}}function fo(){se=null}var Be={};Object.defineProperty(Be,"__esModule",{value:!0});Be.resetState=po;Be.log=ho;var Ge={},Qe={};function Xr(t,e){t.classList.remove(e)}function po(){var t=document.getElementsByTagName("html")[0];for(var e in Ge)Xr(t,Ge[e]);var r=document.body;for(var n in Qe)Xr(r,Qe[n]);Ge={},Qe={}}function ho(){}var mo=function(e,r){return e[r]||(e[r]=0),e[r]+=1,r},vo=function(e,r){return e[r]&&(e[r]-=1),r},go=function(e,r,n){n.forEach(function(a){mo(r,a),e.add(a)})},yo=function(e,r,n){n.forEach(function(a){vo(r,a),r[a]===0&&e.remove(a)})};Be.add=function(e,r){return go(e.classList,e.nodeName.toLowerCase()=="html"?Ge:Qe,r.split(" "))};Be.remove=function(e,r){return yo(e.classList,e.nodeName.toLowerCase()=="html"?Ge:Qe,r.split(" "))};var Ue={};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.log=wo;Ue.resetState=Oo;function bo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var kn=function t(){var e=this;bo(this,t),this.register=function(r){e.openInstances.indexOf(r)===-1&&(e.openInstances.push(r),e.emit("register"))},this.deregister=function(r){var n=e.openInstances.indexOf(r);n!==-1&&(e.openInstances.splice(n,1),e.emit("deregister"))},this.subscribe=function(r){e.subscribers.push(r)},this.emit=function(r){e.subscribers.forEach(function(n){return n(r,e.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},wt=new kn;function wo(){console.log("portalOpenInstances ----------"),console.log(wt.openInstances.length),wt.openInstances.forEach(function(t){return console.log(t)}),console.log("end portalOpenInstances ----------")}function Oo(){wt=new kn}Ue.default=wt;var fr={};Object.defineProperty(fr,"__esModule",{value:!0});fr.resetState=Co;fr.log=_o;var xo=Ue,Eo=Do(xo);function Do(t){return t&&t.__esModule?t:{default:t}}var Q=void 0,ce=void 0,_e=[];function Co(){for(var t=[Q,ce],e=0;e<t.length;e++){var r=t[e];r&&r.parentNode&&r.parentNode.removeChild(r)}Q=ce=null,_e=[]}function _o(){console.log("bodyTrap ----------"),console.log(_e.length);for(var t=[Q,ce],e=0;e<t.length;e++){var r=t[e],n=r||{};console.log(n.nodeName,n.className,n.id)}console.log("edn bodyTrap ----------")}function qr(){_e.length!==0&&_e[_e.length-1].focusContent()}function Mo(t,e){!Q&&!ce&&(Q=document.createElement("div"),Q.setAttribute("data-react-modal-body-trap",""),Q.style.position="absolute",Q.style.opacity="0",Q.setAttribute("tabindex","0"),Q.addEventListener("focus",qr),ce=Q.cloneNode(),ce.addEventListener("focus",qr)),_e=e,_e.length>0?(document.body.firstChild!==Q&&document.body.insertBefore(Q,document.body.firstChild),document.body.lastChild!==ce&&document.body.appendChild(ce)):(Q.parentElement&&Q.parentElement.removeChild(Q),ce.parentElement&&ce.parentElement.removeChild(ce))}Eo.default.subscribe(Mo);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(g){for(var m=1;m<arguments.length;m++){var N=arguments[m];for(var h in N)Object.prototype.hasOwnProperty.call(N,h)&&(g[h]=N[h])}return g},n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},a=function(){function g(m,N){for(var h=0;h<N.length;h++){var w=N[h];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(m,w.key,w)}}return function(m,N,h){return N&&g(m.prototype,N),h&&g(m,h),m}}(),i=T,o=nr,s=F(o),p=fe,u=I(p),c=Vi,l=F(c),f=pe,v=I(f),b=Be,C=I(b),E=ue,A=F(E),k=Ue,P=F(k);function I(g){if(g&&g.__esModule)return g;var m={};if(g!=null)for(var N in g)Object.prototype.hasOwnProperty.call(g,N)&&(m[N]=g[N]);return m.default=g,m}function F(g){return g&&g.__esModule?g:{default:g}}function d(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function O(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function _(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var M={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},H=function(m){return m.code==="Tab"||m.keyCode===9},J=function(m){return m.code==="Escape"||m.keyCode===27},X=0,q=function(g){_(m,g);function m(N){d(this,m);var h=O(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,N));return h.setOverlayRef=function(w){h.overlay=w,h.props.overlayRef&&h.props.overlayRef(w)},h.setContentRef=function(w){h.content=w,h.props.contentRef&&h.props.contentRef(w)},h.afterClose=function(){var w=h.props,R=w.appElement,V=w.ariaHideApp,W=w.htmlOpenClassName,Z=w.bodyOpenClassName,re=w.parentSelector,ne=re&&re().ownerDocument||document;Z&&C.remove(ne.body,Z),W&&C.remove(ne.getElementsByTagName("html")[0],W),V&&X>0&&(X-=1,X===0&&v.show(R)),h.props.shouldFocusAfterRender&&(h.props.shouldReturnFocusAfterClose?(u.returnFocus(h.props.preventScroll),u.teardownScopedFocus()):u.popWithoutFocus()),h.props.onAfterClose&&h.props.onAfterClose(),P.default.deregister(h)},h.open=function(){h.beforeOpen(),h.state.afterOpen&&h.state.beforeClose?(clearTimeout(h.closeTimer),h.setState({beforeClose:!1})):(h.props.shouldFocusAfterRender&&(u.setupScopedFocus(h.node),u.markForFocusLater()),h.setState({isOpen:!0},function(){h.openAnimationFrame=requestAnimationFrame(function(){h.setState({afterOpen:!0}),h.props.isOpen&&h.props.onAfterOpen&&h.props.onAfterOpen({overlayEl:h.overlay,contentEl:h.content})})}))},h.close=function(){h.props.closeTimeoutMS>0?h.closeWithTimeout():h.closeWithoutTimeout()},h.focusContent=function(){return h.content&&!h.contentHasFocus()&&h.content.focus({preventScroll:!0})},h.closeWithTimeout=function(){var w=Date.now()+h.props.closeTimeoutMS;h.setState({beforeClose:!0,closesAt:w},function(){h.closeTimer=setTimeout(h.closeWithoutTimeout,h.state.closesAt-Date.now())})},h.closeWithoutTimeout=function(){h.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},h.afterClose)},h.handleKeyDown=function(w){H(w)&&(0,l.default)(h.content,w),h.props.shouldCloseOnEsc&&J(w)&&(w.stopPropagation(),h.requestClose(w))},h.handleOverlayOnClick=function(w){h.shouldClose===null&&(h.shouldClose=!0),h.shouldClose&&h.props.shouldCloseOnOverlayClick&&(h.ownerHandlesClose()?h.requestClose(w):h.focusContent()),h.shouldClose=null},h.handleContentOnMouseUp=function(){h.shouldClose=!1},h.handleOverlayOnMouseDown=function(w){!h.props.shouldCloseOnOverlayClick&&w.target==h.overlay&&w.preventDefault()},h.handleContentOnClick=function(){h.shouldClose=!1},h.handleContentOnMouseDown=function(){h.shouldClose=!1},h.requestClose=function(w){return h.ownerHandlesClose()&&h.props.onRequestClose(w)},h.ownerHandlesClose=function(){return h.props.onRequestClose},h.shouldBeClosed=function(){return!h.state.isOpen&&!h.state.beforeClose},h.contentHasFocus=function(){return document.activeElement===h.content||h.content.contains(document.activeElement)},h.buildClassName=function(w,R){var V=(typeof R>"u"?"undefined":n(R))==="object"?R:{base:M[w],afterOpen:M[w]+"--after-open",beforeClose:M[w]+"--before-close"},W=V.base;return h.state.afterOpen&&(W=W+" "+V.afterOpen),h.state.beforeClose&&(W=W+" "+V.beforeClose),typeof R=="string"&&R?W+" "+R:W},h.attributesFromObject=function(w,R){return Object.keys(R).reduce(function(V,W){return V[w+"-"+W]=R[W],V},{})},h.state={afterOpen:!1,beforeClose:!1},h.shouldClose=null,h.moveFromContentToOverlay=null,h}return a(m,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(h,w){this.props.isOpen&&!h.isOpen?this.open():!this.props.isOpen&&h.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!w.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var h=this.props,w=h.appElement,R=h.ariaHideApp,V=h.htmlOpenClassName,W=h.bodyOpenClassName,Z=h.parentSelector,re=Z&&Z().ownerDocument||document;W&&C.add(re.body,W),V&&C.add(re.getElementsByTagName("html")[0],V),R&&(X+=1,v.hide(w)),P.default.register(this)}},{key:"render",value:function(){var h=this.props,w=h.id,R=h.className,V=h.overlayClassName,W=h.defaultStyles,Z=h.children,re=R?{}:W.content,ne=V?{}:W.overlay;if(this.shouldBeClosed())return null;var Se={ref:this.setOverlayRef,className:this.buildClassName("overlay",V),style:r({},ne,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},ve=r({id:w,ref:this.setContentRef,style:r({},re,this.props.style.content),className:this.buildClassName("content",R),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",r({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),ot=this.props.contentElement(ve,Z);return this.props.overlayElement(Se,ot)}}]),m}(i.Component);q.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},q.propTypes={isOpen:s.default.bool.isRequired,defaultStyles:s.default.shape({content:s.default.object,overlay:s.default.object}),style:s.default.shape({content:s.default.object,overlay:s.default.object}),className:s.default.oneOfType([s.default.string,s.default.object]),overlayClassName:s.default.oneOfType([s.default.string,s.default.object]),parentSelector:s.default.func,bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,ariaHideApp:s.default.bool,appElement:s.default.oneOfType([s.default.instanceOf(A.default),s.default.instanceOf(E.SafeHTMLCollection),s.default.instanceOf(E.SafeNodeList),s.default.arrayOf(s.default.instanceOf(A.default))]),onAfterOpen:s.default.func,onAfterClose:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,role:s.default.string,contentLabel:s.default.string,aria:s.default.object,data:s.default.object,children:s.default.node,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func,testId:s.default.string},e.default=q,t.exports=e.default})(Jt,Jt.exports);var To=Jt.exports;function Fn(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function jn(t){function e(r){var n=this.constructor.getDerivedStateFromProps(t,r);return n??null}this.setState(e.bind(this))}function Hn(t,e){try{var r=this.props,n=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}Fn.__suppressDeprecationWarning=!0;jn.__suppressDeprecationWarning=!0;Hn.__suppressDeprecationWarning=!0;function So(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var r=null,n=null,a=null;if(typeof e.componentWillMount=="function"?r="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?a="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(a="UNSAFE_componentWillUpdate"),r!==null||n!==null||a!==null){var i=t.displayName||t.name,o=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+o+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(a!==null?`
  `+a:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=Fn,e.componentWillReceiveProps=jn),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=Hn;var s=e.componentDidUpdate;e.componentDidUpdate=function(u,c,l){var f=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:l;s.call(this,u,c,f)}}return t}const Ao=Object.freeze(Object.defineProperty({__proto__:null,polyfill:So},Symbol.toStringTag,{value:"Module"})),Ro=Xn(Ao);Object.defineProperty(Te,"__esModule",{value:!0});Te.bodyOpenClassName=Te.portalClassName=void 0;var Vr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},No=function(){function t(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),Wn=T,Ot=at(Wn),Po=qn,xt=at(Po),Io=nr,D=at(Io),Lo=To,Kr=at(Lo),ko=pe,Fo=Ho(ko),we=ue,Gr=at(we),jo=Ro;function Ho(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function at(t){return t&&t.__esModule?t:{default:t}}function Wo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qr(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function zo(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Bo=Te.portalClassName="ReactModalPortal",Uo=Te.bodyOpenClassName="ReactModal__Body--open",Ee=we.canUseDOM&&xt.default.createPortal!==void 0,Zr=function(e){return document.createElement(e)},Jr=function(){return Ee?xt.default.createPortal:xt.default.unstable_renderSubtreeIntoContainer};function mt(t){return t()}var it=function(t){zo(e,t);function e(){var r,n,a,i;Wo(this,e);for(var o=arguments.length,s=Array(o),p=0;p<o;p++)s[p]=arguments[p];return i=(n=(a=Qr(this,(r=e.__proto__||Object.getPrototypeOf(e)).call.apply(r,[this].concat(s))),a),a.removePortal=function(){!Ee&&xt.default.unmountComponentAtNode(a.node);var u=mt(a.props.parentSelector);u&&u.contains(a.node)?u.removeChild(a.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},a.portalRef=function(u){a.portal=u},a.renderPortal=function(u){var c=Jr(),l=c(a,Ot.default.createElement(Kr.default,Vr({defaultStyles:e.defaultStyles},u)),a.node);a.portalRef(l)},n),Qr(a,i)}return No(e,[{key:"componentDidMount",value:function(){if(we.canUseDOM){Ee||(this.node=Zr("div")),this.node.className=this.props.portalClassName;var n=mt(this.props.parentSelector);n.appendChild(this.node),!Ee&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(n){var a=mt(n.parentSelector),i=mt(this.props.parentSelector);return{prevParent:a,nextParent:i}}},{key:"componentDidUpdate",value:function(n,a,i){if(we.canUseDOM){var o=this.props,s=o.isOpen,p=o.portalClassName;n.portalClassName!==p&&(this.node.className=p);var u=i.prevParent,c=i.nextParent;c!==u&&(u.removeChild(this.node),c.appendChild(this.node)),!(!n.isOpen&&!s)&&!Ee&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!we.canUseDOM||!this.node||!this.portal)){var n=this.portal.state,a=Date.now(),i=n.isOpen&&this.props.closeTimeoutMS&&(n.closesAt||a+this.props.closeTimeoutMS);i?(n.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,i-a)):this.removePortal()}}},{key:"render",value:function(){if(!we.canUseDOM||!Ee)return null;!this.node&&Ee&&(this.node=Zr("div"));var n=Jr();return n(Ot.default.createElement(Kr.default,Vr({ref:this.portalRef,defaultStyles:e.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(n){Fo.setElement(n)}}]),e}(Wn.Component);it.propTypes={isOpen:D.default.bool.isRequired,style:D.default.shape({content:D.default.object,overlay:D.default.object}),portalClassName:D.default.string,bodyOpenClassName:D.default.string,htmlOpenClassName:D.default.string,className:D.default.oneOfType([D.default.string,D.default.shape({base:D.default.string.isRequired,afterOpen:D.default.string.isRequired,beforeClose:D.default.string.isRequired})]),overlayClassName:D.default.oneOfType([D.default.string,D.default.shape({base:D.default.string.isRequired,afterOpen:D.default.string.isRequired,beforeClose:D.default.string.isRequired})]),appElement:D.default.oneOfType([D.default.instanceOf(Gr.default),D.default.instanceOf(we.SafeHTMLCollection),D.default.instanceOf(we.SafeNodeList),D.default.arrayOf(D.default.instanceOf(Gr.default))]),onAfterOpen:D.default.func,onRequestClose:D.default.func,closeTimeoutMS:D.default.number,ariaHideApp:D.default.bool,shouldFocusAfterRender:D.default.bool,shouldCloseOnOverlayClick:D.default.bool,shouldReturnFocusAfterClose:D.default.bool,preventScroll:D.default.bool,parentSelector:D.default.func,aria:D.default.object,data:D.default.object,role:D.default.string,contentLabel:D.default.string,shouldCloseOnEsc:D.default.bool,overlayRef:D.default.func,contentRef:D.default.func,id:D.default.string,overlayElement:D.default.func,contentElement:D.default.func};it.defaultProps={isOpen:!1,portalClassName:Bo,bodyOpenClassName:Uo,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,r){return Ot.default.createElement("div",e,r)},contentElement:function(e,r){return Ot.default.createElement("div",e,r)}};it.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,jo.polyfill)(it);Te.default=it;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=Te,n=a(r);function a(i){return i&&i.__esModule?i:{default:i}}e.default=n.default,t.exports=e.default})(Zt,Zt.exports);var $o=Zt.exports;const zn=tn($o),Yo={content:{display:"block",top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",zIndex:"20"}};zn.setAppElement("#root");const Xo=({image:t,setCropData:e,isCropperActive:r,setIsCropperActive:n,isProcess:a,setDropZoneImg:i})=>{const o=T.createRef(),[s,p]=ie.useState(!1);console.log(a),ie.useEffect(()=>{r&&u()},[r]);function u(){p(!0)}function c(){p(!1),i&&i(!1)}const l=()=>{var f,v;typeof((f=o.current)==null?void 0:f.cropper)<"u"&&(e((v=o.current)==null?void 0:v.cropper.getCroppedCanvas().toDataURL()),n(!1)),i&&i(!0)};return L.jsx("div",{className:"z-[1000]",children:L.jsx(zn,{isOpen:s,onRequestClose:c,style:Yo,children:L.jsxs("div",{children:[L.jsx("div",{className:"h-screen w-full",children:L.jsx(Fi,{ref:o,style:{height:"100%",width:"100%",zIndex:1e3},aspectRatio:a?1/1:16/9,movable:!1,preview:".img-preview",src:t,responsive:!0,viewMode:1,minCropBoxHeight:0,minCropBoxWidth:10,background:!1,autoCropArea:1,autoCrop:!0,checkOrientation:!1,cropBoxResizable:!1,guides:!0})}),L.jsx("div",{children:L.jsx("div",{className:"box",style:{width:"50%",float:"right",height:"300px"},children:L.jsx("button",{style:{float:"right"},onClick:l,children:""})})}),L.jsx("button",{onClick:c,children:""}),L.jsx("br",{style:{clear:"both"}})]})})})},en={display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",outline:"none",transition:"border .24s ease-in-out",width:"100%",height:"100%"};function Ko({setValue:t,id:e,onFileSelect:r,isReset:n,isProcess:a,dropped:i,setDropped:o,setDropZoneImg:s}){const[p,u]=ie.useState(""),[c,l]=ie.useState(""),[f,v]=ie.useState(!1);ie.useEffect(()=>{n&&(u(""),l(""))},[n]),ie.useEffect(()=>{t(e===1?"img1":e===2?"img2":e===3?"img3":e===4?"profile_img":"image",c),r(c,e)},[c]);const{acceptedFiles:b,fileRejections:C,getRootProps:E,getInputProps:A}=vn({accept:{"image/*":[]},onDrop:async I=>{if(P.length===0){v(!0);const F=await Ya(I[0]);u(F),o(!0)}}}),k=ie.useMemo(()=>({...en}),[en]),P=C.map(({file:I,errors:F})=>L.jsxs("li",{children:[I.path," - ",I.size," bytes",L.jsx("ul",{children:F.map(d=>L.jsx("li",{children:d.message},d.code))})]},I.path));return L.jsxs("section",{className:"container w-full h-full",children:[c.length===0&&L.jsxs("div",{...E({style:k}),children:[L.jsx("input",{...A()}),L.jsx("svg",{width:"34",height:"34",viewBox:"0 0 34 34",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L.jsx("path",{d:"M6.91079 29.1169C6.33925 29.1169 5.84998 28.9192 5.44297 28.5237C5.03596 28.1283 4.83246 27.6529 4.83246 27.0977V6.90535C4.83246 6.35007 5.03596 5.87471 5.44297 5.47927C5.84998 5.08384 6.33925 4.88612 6.91079 4.88612H21.0781V6.90535H6.91079V27.0977H27.6941V13.3669H29.7725V27.0977C29.7725 27.6529 29.569 28.1283 29.162 28.5237C28.755 28.9192 28.2657 29.1169 27.6941 29.1169H6.91079ZM24.923 12.3573V9.63132H22.1173V7.61208H24.923V4.88612H27.0014V7.61208H29.8071V9.63132H27.0014V12.3573H24.923ZM8.98913 23.665H25.6158L20.6278 17.2034L16.2287 22.8236L12.9726 18.6505L8.98913 23.665Z",fill:"#E6E6E6"})})]}),b.length>0&&L.jsx("div",{className:"w-full h-full",children:f?L.jsx(Xo,{image:p,setDropZoneImg:s,setCropData:l,isCropperActive:f,setIsCropperActive:v,isProcess:a}):L.jsx("div",{className:"w-full h-full",children:c.length>0&&L.jsxs("div",{className:"w-full h-full flex justify-center items-center relative",children:[L.jsx("img",{src:c,className:`w-full h-full ${i?"rounded-[100%]":""} object-cover`,alt:""}),L.jsxs("svg",{className:"absolute top-0 right-0 mr-[2px] cursor-pointer",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:()=>{l(""),o(!1),s&&s(!1)},children:[L.jsx("circle",{cx:"10",cy:"10",r:"10",fill:"black",fillOpacity:"0.5"}),L.jsx("line",{x1:"14.3536",y1:"5.35355",x2:"5.35355",y2:"14.3536",stroke:"white"}),L.jsx("line",{y1:"-0.5",x2:"12.7279",y2:"-0.5",transform:"matrix(0.707107 0.707107 0.707107 -0.707107 6 5)",stroke:"white"})]})]})})}),L.jsx("aside",{children:P.length>0&&L.jsx(L.Fragment,{children:L.jsx("h4",{children:"Only image files accepted"})})})]})}export{Ko as D};
