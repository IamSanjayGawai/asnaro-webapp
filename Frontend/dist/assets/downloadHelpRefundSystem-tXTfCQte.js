import{g as Ve}from"./index-w2wx-x_X.js";const Pc=e=>{let t=e.httpHandler;return{setHttpHandler(r){t=r},httpHandler(){return t},updateHttpClientConfig(r,n){t.updateHttpClientConfig(r,n)},httpHandlerConfigs(){return t.httpHandlerConfigs()}}},Ic=e=>({httpHandler:e.httpHandler()});var Cs;(function(e){e.HEADER="header",e.QUERY="query"})(Cs||(Cs={}));var Ts;(function(e){e.HEADER="header",e.QUERY="query"})(Ts||(Ts={}));var Bt;(function(e){e.HTTP="http",e.HTTPS="https"})(Bt||(Bt={}));var cr;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(cr||(cr={}));var Os;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(Os||(Os={}));const vn="__smithy_context";var Ps;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(Ps||(Ps={}));var Is;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(Is||(Is={}));class Ae{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static isInstance(t){if(!t)return!1;const r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){const t=new Ae({...this,headers:{...this.headers}});return t.query&&(t.query=Nc(t.query)),t}}function Nc(e){return Object.keys(e).reduce((t,r)=>{const n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}class ur{constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;const r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}}function Bc(e){return t=>async r=>{const{request:n}=r;return Ae.isInstance(n)&&n.body&&e.runtime==="node"&&(n.headers={...n.headers,Expect:"100-continue"}),t({...r,request:n})}}const kc={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},Mc=e=>({applyToStack:t=>{t.add(Bc(e),kc)}});const $c=e=>t=>async r=>{if(!Ae.isInstance(r.request))return t(r);const{request:n}=r,{handlerProtocol:i=""}=e.requestHandler.metadata||{};if(i.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let s=n.hostname;n.port!=null&&(s+=`:${n.port}`),n.headers.host=s}return t(r)},Uc={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Dc=e=>({applyToStack:t=>{t.add($c(e),Uc)}}),Fc=()=>(e,t)=>async r=>{var n,i;try{const s=await e(r),{clientName:o,commandName:a,logger:u,dynamoDbDocumentClientOptions:c={}}=t,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:h}=c,d=l??t.inputFilterSensitiveLog,g=h??t.outputFilterSensitiveLog,{$metadata:y,...S}=s.output;return(n=u==null?void 0:u.info)==null||n.call(u,{clientName:o,commandName:a,input:d(r.input),output:g(S),metadata:y}),s}catch(s){const{clientName:o,commandName:a,logger:u,dynamoDbDocumentClientOptions:c={}}=t,{overrideInputFilterSensitiveLog:l}=c,h=l??t.inputFilterSensitiveLog;throw(i=u==null?void 0:u.error)==null||i.call(u,{clientName:o,commandName:a,input:h(r.input),error:s,metadata:s.$metadata}),s}},Lc={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},jc=e=>({applyToStack:t=>{t.add(Fc(),Lc)}});var Ns={};const Bs="X-Amzn-Trace-Id",Vc="AWS_LAMBDA_FUNCTION_NAME",Hc="_X_AMZN_TRACE_ID",qc=e=>t=>async r=>{const{request:n}=r;if(!Ae.isInstance(n)||e.runtime!=="node"||n.headers.hasOwnProperty(Bs))return t(r);const i=Ns[Vc],s=Ns[Hc],o=a=>typeof a=="string"&&a.length>0;return o(i)&&o(s)&&(n.headers[Bs]=s),t({...r,request:n})},Wc={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},Gc=e=>({applyToStack:t=>{t.add(qc(e),Wc)}});class Zo{trace(){}debug(){}info(){}warn(){}error(){}}const qe=(e,t)=>{const r=[];if(e&&r.push(e),t)for(const n of t)r.push(n);return r},ke=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,lr=()=>{let e=[],t=[],r=!1;const n=new Set,i=h=>h.sort((d,g)=>ks[g.step]-ks[d.step]||Ms[g.priority||"normal"]-Ms[d.priority||"normal"]),s=h=>{let d=!1;const g=y=>{const S=qe(y.name,y.aliases);if(S.includes(h)){d=!0;for(const C of S)n.delete(C);return!1}return!0};return e=e.filter(g),t=t.filter(g),d},o=h=>{let d=!1;const g=y=>{if(y.middleware===h){d=!0;for(const S of qe(y.name,y.aliases))n.delete(S);return!1}return!0};return e=e.filter(g),t=t.filter(g),d},a=h=>{var d;return e.forEach(g=>{h.add(g.middleware,{...g})}),t.forEach(g=>{h.addRelativeTo(g.middleware,{...g})}),(d=h.identifyOnResolve)==null||d.call(h,l.identifyOnResolve()),h},u=h=>{const d=[];return h.before.forEach(g=>{g.before.length===0&&g.after.length===0?d.push(g):d.push(...u(g))}),d.push(h),h.after.reverse().forEach(g=>{g.before.length===0&&g.after.length===0?d.push(g):d.push(...u(g))}),d},c=(h=!1)=>{const d=[],g=[],y={};return e.forEach(C=>{const I={...C,before:[],after:[]};for(const M of qe(I.name,I.aliases))y[M]=I;d.push(I)}),t.forEach(C=>{const I={...C,before:[],after:[]};for(const M of qe(I.name,I.aliases))y[M]=I;g.push(I)}),g.forEach(C=>{if(C.toMiddleware){const I=y[C.toMiddleware];if(I===void 0){if(h)return;throw new Error(`${C.toMiddleware} is not found when adding ${ke(C.name,C.aliases)} middleware ${C.relation} ${C.toMiddleware}`)}C.relation==="after"&&I.after.push(C),C.relation==="before"&&I.before.push(C)}}),i(d).map(u).reduce((C,I)=>(C.push(...I),C),[])},l={add:(h,d={})=>{const{name:g,override:y,aliases:S}=d,C={step:"initialize",priority:"normal",middleware:h,...d},I=qe(g,S);if(I.length>0){if(I.some(M=>n.has(M))){if(!y)throw new Error(`Duplicate middleware name '${ke(g,S)}'`);for(const M of I){const j=e.findIndex(X=>{var Ne;return X.name===M||((Ne=X.aliases)==null?void 0:Ne.some(Ze=>Ze===M))});if(j===-1)continue;const te=e[j];if(te.step!==C.step||C.priority!==te.priority)throw new Error(`"${ke(te.name,te.aliases)}" middleware with ${te.priority} priority in ${te.step} step cannot be overridden by "${ke(g,S)}" middleware with ${C.priority} priority in ${C.step} step.`);e.splice(j,1)}}for(const M of I)n.add(M)}e.push(C)},addRelativeTo:(h,d)=>{const{name:g,override:y,aliases:S}=d,C={middleware:h,...d},I=qe(g,S);if(I.length>0){if(I.some(M=>n.has(M))){if(!y)throw new Error(`Duplicate middleware name '${ke(g,S)}'`);for(const M of I){const j=t.findIndex(X=>{var Ne;return X.name===M||((Ne=X.aliases)==null?void 0:Ne.some(Ze=>Ze===M))});if(j===-1)continue;const te=t[j];if(te.toMiddleware!==C.toMiddleware||te.relation!==C.relation)throw new Error(`"${ke(te.name,te.aliases)}" middleware ${te.relation} "${te.toMiddleware}" middleware cannot be overridden by "${ke(g,S)}" middleware ${C.relation} "${C.toMiddleware}" middleware.`);t.splice(j,1)}}for(const M of I)n.add(M)}t.push(C)},clone:()=>a(lr()),use:h=>{h.applyToStack(l)},remove:h=>typeof h=="string"?s(h):o(h),removeByTag:h=>{let d=!1;const g=y=>{const{tags:S,name:C,aliases:I}=y;if(S&&S.includes(h)){const M=qe(C,I);for(const j of M)n.delete(j);return d=!0,!1}return!0};return e=e.filter(g),t=t.filter(g),d},concat:h=>{var g;const d=a(lr());return d.use(h),d.identifyOnResolve(r||d.identifyOnResolve()||(((g=h.identifyOnResolve)==null?void 0:g.call(h))??!1)),d},applyToStack:a,identify:()=>c(!0).map(h=>{const d=h.step??h.relation+" "+h.toMiddleware;return ke(h.name,h.aliases)+" - "+d}),identifyOnResolve(h){return typeof h=="boolean"&&(r=h),r},resolve:(h,d)=>{for(const g of c().map(y=>y.middleware).reverse())h=g(h,d);return r&&console.log(l.identify()),h}};return l},ks={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Ms={high:3,normal:2,low:1};class zc{constructor(t){this.middlewareStack=lr(),this.config=t}send(t,r,n){const i=typeof r!="function"?r:void 0,s=typeof r=="function"?r:n,o=t.resolveMiddleware(this.middlewareStack,this.config,i);if(s)o(t).then(a=>s(null,a.output),a=>s(a)).catch(()=>{});else return o(t).then(a=>a.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}}const Le={},nt=new Array(64);for(let e=0,t=65,r=90;e+t<=r;e++){const n=String.fromCharCode(e+t);Le[n]=e,nt[e]=n}for(let e=0,t=97,r=122;e+t<=r;e++){const n=String.fromCharCode(e+t),i=e+26;Le[n]=i,nt[i]=n}for(let e=0;e<10;e++){Le[e.toString(10)]=e+52;const t=e.toString(10),r=e+52;Le[t]=r,nt[r]=t}Le["+"]=62;nt[62]="+";Le["/"]=63;nt[63]="/";const et=6,Tt=8,Kc=63,es=e=>{let t=e.length/4*3;e.slice(-2)==="=="?t-=2:e.slice(-1)==="="&&t--;const r=new ArrayBuffer(t),n=new DataView(r);for(let i=0;i<e.length;i+=4){let s=0,o=0;for(let c=i,l=i+3;c<=l;c++)if(e[c]!=="="){if(!(e[c]in Le))throw new TypeError(`Invalid character ${e[c]} in base64 string.`);s|=Le[e[c]]<<(l-c)*et,o+=et}else s>>=et;const a=i/4*3;s>>=o%Tt;const u=Math.floor(o/Tt);for(let c=0;c<u;c++){const l=(u-c-1)*Tt;n.setUint8(a+c,(s&255<<l)>>l)}}return new Uint8Array(r)},st=e=>new TextEncoder().encode(e),Ot=e=>typeof e=="string"?st(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),mr=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(e)};function ts(e){let t;typeof e=="string"?t=st(e):t=e;const r=typeof t=="object"&&typeof t.length=="number",n=typeof t=="object"&&typeof t.byteOffset=="number"&&typeof t.byteLength=="number";if(!r&&!n)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let i="";for(let s=0;s<t.length;s+=3){let o=0,a=0;for(let c=s,l=Math.min(s+3,t.length);c<l;c++)o|=t[c]<<(l-c-1)*Tt,a+=Tt;const u=Math.ceil(a/et);o<<=u*et-a;for(let c=1;c<=u;c++){const l=(u-c)*et;i+=nt[(o&Kc<<l)>>l]}i+="==".slice(0,4-u)}return i}function Xc(e,t="utf-8"){return t==="base64"?ts(e):mr(e)}function Yc(e,t){return t==="base64"?Xe.mutate(es(e)):Xe.mutate(st(e))}class Xe extends Uint8Array{static fromString(t,r="utf-8"){switch(typeof t){case"string":return Yc(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,Xe.prototype),t}transformToString(t="utf-8"){return Xc(this,t)}}const Zc=(e,t)=>{const{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:i,checksumLocationName:s,streamHasher:o}=t,a=r!==void 0&&n!==void 0&&i!==void 0&&s!==void 0&&o!==void 0,u=a?o(i,e):void 0,c=e.getReader();return new ReadableStream({async pull(l){const{value:h,done:d}=await c.read();if(d){if(l.enqueue(`0\r
`),a){const g=r(await u);l.enqueue(`${s}:${g}\r
`),l.enqueue(`\r
`)}l.close()}else l.enqueue(`${(n(h)||0).toString(16)}\r
${h}\r
`)}})},ze=e=>encodeURIComponent(e).replace(/[!'()*]/g,Qc),Qc=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`;function Jc(e){const t=[];for(let r of Object.keys(e).sort()){const n=e[r];if(r=ze(r),Array.isArray(n))for(let i=0,s=n.length;i<s;i++)t.push(`${r}=${ze(n[i])}`);else{let i=r;(n||typeof n=="string")&&(i+=`=${ze(n)}`),t.push(i)}}return t.join("&")}function eu(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{const n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}const tu={supported:typeof Request<"u"&&"keepalive"in new Request("https://[::1]")};class rs{static create(t){return typeof(t==null?void 0:t.handle)=="function"?t:new rs(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config))}destroy(){}async handle(t,{abortSignal:r}={}){this.config||(this.config=await this.configProvider);const n=this.config.requestTimeout,i=this.config.keepAlive===!0;if(r!=null&&r.aborted){const S=new Error("Request aborted");return S.name="AbortError",Promise.reject(S)}let s=t.path;const o=Jc(t.query||{});o&&(s+=`?${o}`),t.fragment&&(s+=`#${t.fragment}`);let a="";if(t.username!=null||t.password!=null){const S=t.username??"",C=t.password??"";a=`${S}:${C}@`}const{port:u,method:c}=t,l=`${t.protocol}//${a}${t.hostname}${u?`:${u}`:""}${s}`,d={body:c==="GET"||c==="HEAD"?void 0:t.body,headers:new Headers(t.headers),method:c};typeof AbortController<"u"&&(d.signal=r),tu.supported&&(d.keepalive=i);const g=new Request(l,d),y=[fetch(g).then(S=>{const C=S.headers,I={};for(const j of C.entries())I[j[0]]=j[1];return S.body!=null?{response:new ur({headers:I,reason:S.statusText,statusCode:S.status,body:S.body})}:S.blob().then(j=>({response:new ur({headers:I,reason:S.statusText,statusCode:S.status,body:j})}))}),eu(n)];return r&&y.push(new Promise((S,C)=>{r.onabort=()=>{const I=new Error("Request aborted");I.name="AbortError",C(I)}})),Promise.race(y)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}}const Qo=e=>typeof Blob=="function"&&e instanceof Blob?ru(e):nu(e);async function ru(e){const t=await su(e),r=es(t);return new Uint8Array(r)}async function nu(e){let t=new Uint8Array(0);const r=e.getReader();let n=!1;for(;!n;){const{done:i,value:s}=await r.read();if(s){const o=t;t=new Uint8Array(o.length+s.length),t.set(o),t.set(s,o.length)}n=i}return t}function su(e){return new Promise((t,r)=>{const n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));const i=n.result??"",s=i.indexOf(","),o=s>-1?s+1:i.length;t(i.substring(o))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}const Jo={},An={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),Jo[e]=t,An[t]=e}function iu(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){const n=e.slice(r,r+2).toLowerCase();if(n in An)t[r/2]=An[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}function he(e){let t="";for(let r=0;r<e.byteLength;r++)t+=Jo[e[r]];return t}const $s="The stream has already been transformed.",ou=e=>{var i,s;if(!Us(e)&&!Ds(e)){const o=((s=(i=e==null?void 0:e.__proto__)==null?void 0:i.constructor)==null?void 0:s.name)||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${o}`)}let t=!1;const r=async()=>{if(t)throw new Error($s);return t=!0,await Qo(e)},n=o=>{if(typeof o.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return o.stream()};return Object.assign(e,{transformToByteArray:r,transformToString:async o=>{const a=await r();if(o==="base64")return ts(a);if(o==="hex")return he(a);if(o===void 0||o==="utf8"||o==="utf-8")return mr(a);if(typeof TextDecoder=="function")return new TextDecoder(o).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(t)throw new Error($s);if(t=!0,Us(e))return n(e);if(Ds(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})},Us=e=>typeof Blob=="function"&&e instanceof Blob,Ds=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,au=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return Xe.mutate(e);if(!e)return Xe.mutate(new Uint8Array);const r=t.streamCollector(e);return Xe.mutate(await r)};class ea{constructor(){this.middlewareStack=lr()}static classBuilder(){return new cu}resolveMiddlewareWithContext(t,r,n,{middlewareFn:i,clientName:s,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:u,smithyContext:c,additionalContext:l,CommandCtor:h}){for(const C of i.bind(this)(h,t,r,n))this.middlewareStack.use(C);const d=t.concat(this.middlewareStack),{logger:g}=r,y={logger:g,clientName:s,commandName:o,inputFilterSensitiveLog:a,outputFilterSensitiveLog:u,[vn]:{...c},...l},{requestHandler:S}=r;return d.resolve(C=>S.handle(C.request,n||{}),y)}}class cu{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=t=>t,this._outputFilterSensitiveLog=t=>t,this._serializer=null,this._deserializer=null}init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}build(){const t=this;let r;return r=class extends ea{static getEndpointParameterInstructions(){return t._ep}constructor(...[n]){super(),this.serialize=t._serializer,this.deserialize=t._deserializer,this.input=n??{},t._init(this)}resolveMiddleware(n,i,s){return this.resolveMiddlewareWithContext(n,i,s,{CommandCtor:r,middlewareFn:t._middlewareFn,clientName:t._clientName,commandName:t._commandName,inputFilterSensitiveLog:t._inputFilterSensitiveLog,outputFilterSensitiveLog:t._outputFilterSensitiveLog,smithyContext:t._smithyContext,additionalContext:t._additionalContext})}}}}const Fs="***SensitiveInformation***",uu=e=>{if(e!=null){if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&sa.warn(na(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},lu=Math.ceil(2**127*(2-2**-23)),Ls=e=>{const t=uu(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>lu)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},fu=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},js=e=>ta(e,16),Vs=e=>ta(e,8),ta=(e,t)=>{const r=fu(e);if(r!==void 0&&du(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},du=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},ra=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},hu=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;const t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},Pt=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return sa.warn(na(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},pu=e=>Ls(typeof e=="string"?ns(e):e),gu=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,ns=e=>{const t=e.match(gu);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},yu=e=>js(typeof e=="string"?ns(e):e),mu=e=>Vs(typeof e=="string"?ns(e):e),na=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),sa={warn:console.warn},bu=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wu=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),_u=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const t=wu.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");const[r,n,i,s,o,a,u,c,l]=t,h=yu(ia(n)),d=It(i,"month",1,12),g=It(s,"day",1,31),y=Eu(h,d,g,{hours:o,minutes:a,seconds:u,fractionalMilliseconds:c});return l.toUpperCase()!="Z"&&y.setTime(y.getTime()-Ru(l)),y},Eu=(e,t,r,n)=>{const i=t-1;return vu(e,i,r),new Date(Date.UTC(e,i,r,It(n.hours,"hour",0,23),It(n.minutes,"minute",0,59),It(n.seconds,"seconds",0,60),xu(n.fractionalMilliseconds)))},Su=[31,28,31,30,31,30,31,31,30,31,30,31],vu=(e,t,r)=>{let n=Su[t];if(t===1&&Au(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${bu[t]} in ${e}: ${r}`)},Au=e=>e%4===0&&(e%100!==0||e%400===0),It=(e,t,r,n)=>{const i=mu(ia(e));if(i<r||i>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return i},xu=e=>e==null?0:pu("0."+e)*1e3,Ru=e=>{const t=e[0];let r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);const n=Number(e.substring(1,3)),i=Number(e.substring(4,6));return r*(n*60+i)*60*1e3},ia=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)};class ss extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,ss.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}}const Oe=(e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,i])=>{(e[n]==null||e[n]==="")&&(e[n]=i)});const r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},Cu=({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{const i=Ou(e),s=i.httpStatusCode?i.httpStatusCode+"":void 0,o=new r({name:(t==null?void 0:t.code)||(t==null?void 0:t.Code)||n||s||"UnknownError",$fault:"client",$metadata:i});throw Oe(o,t)},Tu=e=>({output:t,parsedBody:r,errorCode:n})=>{Cu({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},Ou=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Pu=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},Iu=e=>{const t=[];for(const r in cr){const n=cr[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{_checksumAlgorithms:t,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},Nu=e=>{const t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},Bu=e=>{let t=e.retryStrategy;return{setRetryStrategy(r){t=r},retryStrategy(){return t}}},ku=e=>{const t={};return t.retryStrategy=e.retryStrategy(),t},Mu=e=>({...Iu(e),...Bu(e)}),$u=e=>({...Nu(e),...ku(e)});function Hs(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}const oa=e=>{const t="#text";for(const r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=oa(e[r]));return e},xn=function(){const e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,[null,...arguments]),r=new t;return Object.setPrototypeOf(r,e.prototype),r};xn.prototype=Object.create(String.prototype,{constructor:{value:xn,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(xn,String);function pe(e,t,r){let n,i,s;if(typeof t>"u"&&typeof r>"u")n={},s=e;else{if(n=e,typeof t=="function")return i=t,s=r,Uu(n,i,s);s=t}for(const o of Object.keys(s)){if(!Array.isArray(s[o])){n[o]=s[o];continue}Du(n,null,s,o)}return n}const Uu=(e,t,r)=>pe(e,Object.entries(r).reduce((n,[i,s])=>(Array.isArray(s)?n[i]=s:typeof s=="function"?n[i]=[t,s()]:n[i]=[t,s],n),{})),Du=(e,t,r,n)=>{if(t!==null){let o=r[n];typeof o=="function"&&(o=[,o]);const[a=Fu,u=Lu,c=n]=o;(typeof a=="function"&&a(t[c])||typeof a!="function"&&a)&&(e[n]=u(t[c]));return}let[i,s]=r[n];if(typeof s=="function"){let o;const a=i===void 0&&(o=s())!=null,u=typeof i=="function"&&!!i(void 0)||typeof i!="function"&&!!i;a?e[n]=o:u&&(e[n]=s())}else{const o=i===void 0&&s!=null,a=typeof i=="function"&&!!i(s)||typeof i!="function"&&!!i;(o||a)&&(e[n]=s)}},Fu=e=>e!=null,Lu=e=>e,ju=(e,t,r,n,i,s)=>{if(t!=null&&t[r]!==void 0){const o=n();if(o.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(i,s?o.split("/").map(a=>Hs(a)).join("/"):Hs(o))}else throw new Error("No value provided for input HTTP label: "+r+".");return e},Vu=e=>(t,r)=>async n=>{const i=await e.region(),s=e.region;r.__s3RegionRedirect&&(e.region=async()=>(e.region=s,r.__s3RegionRedirect));const o=await t(n);if(r.__s3RegionRedirect){const a=await e.region();if(i!==a)throw new Error("Region was not restored following S3 region redirect.")}return o},Hu={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};function qu(e){return(t,r)=>async n=>{var i,s;try{return await t(n)}catch(o){if(e.followRegionRedirects&&((i=o==null?void 0:o.$metadata)==null?void 0:i.httpStatusCode)===301){try{const a=o.$response.headers["x-amz-bucket-region"];(s=r.logger)==null||s.debug(`Redirecting from ${await e.region()} to ${a}`),r.__s3RegionRedirect=a}catch(a){throw new Error("Region redirect failed: "+a)}return t(n)}else throw o}}}const Wu={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},Gu=e=>({applyToStack:t=>{t.add(qu(e),Wu),t.addRelativeTo(Vu(e),Hu)}});class br{constructor(t={}){this.data=t,this.lastPurgeTime=Date.now()}get(t){const r=this.data[t];if(r)return r}set(t,r){return this.data[t]=r,r}delete(t){delete this.data[t]}async purgeExpired(){const t=Date.now();if(!(this.lastPurgeTime+br.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>t))for(const r in this.data){const n=this.data[r];if(!n.isRefreshing){const i=await n.identity;i.expiration&&i.expiration.getTime()<t&&delete this.data[r]}}}}br.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS=3e4;class Ar{constructor(t,r=!1,n=Date.now()){this._identity=t,this.isRefreshing=r,this.accessed=n}get identity(){return this.accessed=Date.now(),this._identity}}class wr{constructor(t,r=new br){this.createSessionFn=t,this.cache=r}async getS3ExpressIdentity(t,r){const n=r.Bucket,{cache:i}=this,s=i.get(n);return s?s.identity.then(o=>{var c,l;return(((c=o.expiration)==null?void 0:c.getTime())??0)<Date.now()?i.set(n,new Ar(this.getIdentity(n))).identity:((((l=o.expiration)==null?void 0:l.getTime())??0)<Date.now()+wr.REFRESH_WINDOW_MS&&!s.isRefreshing&&(s.isRefreshing=!0,this.getIdentity(n).then(h=>{i.set(n,new Ar(Promise.resolve(h)))})),o)}):i.set(n,new Ar(this.getIdentity(n))).identity}async getIdentity(t){var i,s;await this.cache.purgeExpired().catch(o=>{console.warn(`Error while clearing expired entries in S3ExpressIdentityCache: 
`+o)});const r=await this.createSessionFn(t);if(!((i=r.Credentials)!=null&&i.AccessKeyId)||!((s=r.Credentials)!=null&&s.SecretAccessKey))throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:r.Credentials.AccessKeyId,secretAccessKey:r.Credentials.SecretAccessKey,sessionToken:r.Credentials.SessionToken,expiration:r.Credentials.Expiration?new Date(r.Credentials.Expiration):void 0}}}wr.REFRESH_WINDOW_MS=6e4;var xr={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Rn=function(e,t){return Rn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Rn(e,t)};function zu(e,t){Rn(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Cn=function(){return Cn=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Cn.apply(this,arguments)};function Ku(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Xu(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function Yu(e,t){return function(r,n){t(r,n,e)}}function Zu(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Qu(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(h){o(h)}}function u(l){try{c(n.throw(l))}catch(h){o(h)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function Ju(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function el(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function tl(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Tn(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function aa(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function rl(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(aa(arguments[t]));return e}function nl(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function kt(e){return this instanceof kt?(this.v=e,this):new kt(e)}function sl(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){n[d]&&(i[d]=function(g){return new Promise(function(y,S){s.push([d,g,y,S])>1||a(d,g)})})}function a(d,g){try{u(n[d](g))}catch(y){h(s[0][3],y)}}function u(d){d.value instanceof kt?Promise.resolve(d.value.v).then(c,l):h(s[0][2],d)}function c(d){a("next",d)}function l(d){a("throw",d)}function h(d,g){d(g),s.shift(),s.length&&a(s[0][0],s[0][1])}}function il(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:kt(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function ol(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Tn=="function"?Tn(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function al(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function cl(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function ul(e){return e&&e.__esModule?e:{default:e}}function ll(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function fl(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const dl=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Cn},__asyncDelegator:il,__asyncGenerator:sl,__asyncValues:ol,__await:kt,__awaiter:Qu,__classPrivateFieldGet:ll,__classPrivateFieldSet:fl,__createBinding:el,__decorate:Xu,__exportStar:tl,__extends:zu,__generator:Ju,__importDefault:ul,__importStar:cl,__makeTemplateObject:al,__metadata:Zu,__param:Yu,__read:aa,__rest:Ku,__spread:rl,__spreadArrays:nl,__values:Tn},Symbol.toStringTag,{value:"Module"})),ca=Ve(dl);var Rr={},at={};const hl=e=>{const t=[];for(let r=0,n=e.length;r<n;r++){const i=e.charCodeAt(r);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,i&63|128);else if(r+1<e.length&&(i&64512)===55296&&(e.charCodeAt(r+1)&64512)===56320){const s=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023);t.push(s>>18|240,s>>12&63|128,s>>6&63|128,s&63|128)}else t.push(i>>12|224,i>>6&63|128,i&63|128)}return Uint8Array.from(t)},pl=e=>{let t="";for(let r=0,n=e.length;r<n;r++){const i=e[r];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){const s=e[++r];t+=String.fromCharCode((i&31)<<6|s&63)}else if(240<=i&&i<365){const o="%"+[i,e[++r],e[++r],e[++r]].map(a=>a.toString(16)).join("%");t+=decodeURIComponent(o)}else t+=String.fromCharCode((i&15)<<12|(e[++r]&63)<<6|e[++r]&63)}return t};function gl(e){return new TextEncoder().encode(e)}function yl(e){return new TextDecoder("utf-8").decode(e)}const ml=e=>typeof TextEncoder=="function"?gl(e):hl(e),bl=e=>typeof TextDecoder=="function"?yl(e):pl(e),wl=Object.freeze(Object.defineProperty({__proto__:null,fromUtf8:ml,toUtf8:bl},Symbol.toStringTag,{value:"Module"})),_r=Ve(wl);var qs;function _l(){if(qs)return at;qs=1,Object.defineProperty(at,"__esModule",{value:!0}),at.convertToBuffer=void 0;var e=_r,t=typeof Buffer<"u"&&Buffer.from?function(n){return Buffer.from(n,"utf8")}:e.fromUtf8;function r(n){return n instanceof Uint8Array?n:typeof n=="string"?t(n):ArrayBuffer.isView(n)?new Uint8Array(n.buffer,n.byteOffset,n.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(n)}return at.convertToBuffer=r,at}var ct={},Ws;function El(){if(Ws)return ct;Ws=1,Object.defineProperty(ct,"__esModule",{value:!0}),ct.isEmptyData=void 0;function e(t){return typeof t=="string"?t.length===0:t.byteLength===0}return ct.isEmptyData=e,ct}var ut={},Gs;function Sl(){if(Gs)return ut;Gs=1,Object.defineProperty(ut,"__esModule",{value:!0}),ut.numToUint8=void 0;function e(t){return new Uint8Array([(t&4278190080)>>24,(t&16711680)>>16,(t&65280)>>8,t&255])}return ut.numToUint8=e,ut}var lt={},zs;function vl(){if(zs)return lt;zs=1,Object.defineProperty(lt,"__esModule",{value:!0}),lt.uint32ArrayFrom=void 0;function e(t){if(!Uint32Array.from){for(var r=new Uint32Array(t.length),n=0;n<t.length;)r[n]=t[n],n+=1;return r}return Uint32Array.from(t)}return lt.uint32ArrayFrom=e,lt}var Ks;function it(){return Ks||(Ks=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.uint32ArrayFrom=e.numToUint8=e.isEmptyData=e.convertToBuffer=void 0;var t=_l();Object.defineProperty(e,"convertToBuffer",{enumerable:!0,get:function(){return t.convertToBuffer}});var r=El();Object.defineProperty(e,"isEmptyData",{enumerable:!0,get:function(){return r.isEmptyData}});var n=Sl();Object.defineProperty(e,"numToUint8",{enumerable:!0,get:function(){return n.numToUint8}});var i=vl();Object.defineProperty(e,"uint32ArrayFrom",{enumerable:!0,get:function(){return i.uint32ArrayFrom}})}(Rr)),Rr}var ft={},Xs;function Al(){if(Xs)return ft;Xs=1,Object.defineProperty(ft,"__esModule",{value:!0}),ft.AwsCrc32=void 0;var e=ca,t=it(),r=ua(),n=function(){function i(){this.crc32=new r.Crc32}return i.prototype.update=function(s){(0,t.isEmptyData)(s)||this.crc32.update((0,t.convertToBuffer)(s))},i.prototype.digest=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(s){return[2,(0,t.numToUint8)(this.crc32.digest())]})})},i.prototype.reset=function(){this.crc32=new r.Crc32},i}();return ft.AwsCrc32=n,ft}var Ys;function ua(){return Ys||(Ys=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AwsCrc32=e.Crc32=e.crc32=void 0;var t=ca,r=it();function n(u){return new i().update(u).digest()}e.crc32=n;var i=function(){function u(){this.checksum=4294967295}return u.prototype.update=function(c){var l,h;try{for(var d=t.__values(c),g=d.next();!g.done;g=d.next()){var y=g.value;this.checksum=this.checksum>>>8^o[(this.checksum^y)&255]}}catch(S){l={error:S}}finally{try{g&&!g.done&&(h=d.return)&&h.call(d)}finally{if(l)throw l.error}}return this},u.prototype.digest=function(){return(this.checksum^4294967295)>>>0},u}();e.Crc32=i;var s=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],o=(0,r.uint32ArrayFrom)(s),a=Al();Object.defineProperty(e,"AwsCrc32",{enumerable:!0,get:function(){return a.AwsCrc32}})}(xr)),xr}var la=ua();class Nt{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);const r=new Uint8Array(8);for(let n=7,i=Math.abs(Math.round(t));n>-1&&i>0;n--,i/=256)r[n]=i;return t<0&&Zs(r),new Nt(r)}valueOf(){const t=this.bytes.slice(0),r=t[0]&128;return r&&Zs(t),parseInt(he(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}}function Zs(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}class fa{constructor(t,r){this.toUtf8=t,this.fromUtf8=r}format(t){const r=[];for(const s of Object.keys(t)){const o=this.fromUtf8(s);r.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(t[s]))}const n=new Uint8Array(r.reduce((s,o)=>s+o.byteLength,0));let i=0;for(const s of r)n.set(s,i),i+=s.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":const r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":const i=new Uint8Array(9);return i[0]=5,i.set(t.value.bytes,1),i;case"binary":const s=new DataView(new ArrayBuffer(3+t.value.byteLength));s.setUint8(0,6),s.setUint16(1,t.value.byteLength,!1);const o=new Uint8Array(s.buffer);return o.set(t.value,3),o;case"string":const a=this.fromUtf8(t.value),u=new DataView(new ArrayBuffer(3+a.byteLength));u.setUint8(0,7),u.setUint16(1,a.byteLength,!1);const c=new Uint8Array(u.buffer);return c.set(a,3),c;case"timestamp":const l=new Uint8Array(9);return l[0]=8,l.set(Nt.fromNumber(t.value.valueOf()).bytes,1),l;case"uuid":if(!Bl.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);const h=new Uint8Array(17);return h[0]=9,h.set(iu(t.value.replace(/\-/g,"")),1),h}}parse(t){const r={};let n=0;for(;n<t.byteLength;){const i=t.getUint8(n++),s=this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,i));switch(n+=i,t.getUint8(n++)){case 0:r[s]={type:Js,value:!0};break;case 1:r[s]={type:Js,value:!1};break;case 2:r[s]={type:xl,value:t.getInt8(n++)};break;case 3:r[s]={type:Rl,value:t.getInt16(n,!1)},n+=2;break;case 4:r[s]={type:Cl,value:t.getInt32(n,!1)},n+=4;break;case 5:r[s]={type:Tl,value:new Nt(new Uint8Array(t.buffer,t.byteOffset+n,8))},n+=8;break;case 6:const o=t.getUint16(n,!1);n+=2,r[s]={type:Ol,value:new Uint8Array(t.buffer,t.byteOffset+n,o)},n+=o;break;case 7:const a=t.getUint16(n,!1);n+=2,r[s]={type:Pl,value:this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,a))},n+=a;break;case 8:r[s]={type:Il,value:new Date(new Nt(new Uint8Array(t.buffer,t.byteOffset+n,8)).valueOf())},n+=8;break;case 9:const u=new Uint8Array(t.buffer,t.byteOffset+n,16);n+=16,r[s]={type:Nl,value:`${he(u.subarray(0,4))}-${he(u.subarray(4,6))}-${he(u.subarray(6,8))}-${he(u.subarray(8,10))}-${he(u.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return r}}var Qs;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(Qs||(Qs={}));const Js="boolean",xl="byte",Rl="short",Cl="integer",Tl="long",Ol="binary",Pl="string",Il="timestamp",Nl="uuid",Bl=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,da=4,De=da*2,Ge=4,kl=De+Ge*2;function Ml({byteLength:e,byteOffset:t,buffer:r}){if(e<kl)throw new Error("Provided message too short to accommodate event stream message overhead");const n=new DataView(r,t,e),i=n.getUint32(0,!1);if(e!==i)throw new Error("Reported message length does not match received message length");const s=n.getUint32(da,!1),o=n.getUint32(De,!1),a=n.getUint32(e-Ge,!1),u=new la.Crc32().update(new Uint8Array(r,t,De));if(o!==u.digest())throw new Error(`The prelude checksum specified in the message (${o}) does not match the calculated CRC32 checksum (${u.digest()})`);if(u.update(new Uint8Array(r,t+De,e-(De+Ge))),a!==u.digest())throw new Error(`The message checksum (${u.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(r,t+De+Ge,s),body:new Uint8Array(r,t+De+Ge+s,i-s-(De+Ge+Ge))}}class $l{constructor(t,r){this.headerMarshaller=new fa(t,r),this.messageBuffer=[],this.isEndOfStream=!1}feed(t){this.messageBuffer.push(this.decode(t))}endOfStream(){this.isEndOfStream=!0}getMessage(){const t=this.messageBuffer.pop(),r=this.isEndOfStream;return{getMessage(){return t},isEndOfStream(){return r}}}getAvailableMessages(){const t=this.messageBuffer;this.messageBuffer=[];const r=this.isEndOfStream;return{getMessages(){return t},isEndOfStream(){return r}}}encode({headers:t,body:r}){const n=this.headerMarshaller.format(t),i=n.byteLength+r.byteLength+16,s=new Uint8Array(i),o=new DataView(s.buffer,s.byteOffset,s.byteLength),a=new la.Crc32;return o.setUint32(0,i,!1),o.setUint32(4,n.byteLength,!1),o.setUint32(8,a.update(s.subarray(0,8)).digest(),!1),s.set(n,12),s.set(r,n.byteLength+12),o.setUint32(i-4,a.update(s.subarray(8,i-4)).digest(),!1),s}decode(t){const{headers:r,body:n}=Ml(t);return{headers:this.headerMarshaller.parse(r),body:n}}formatHeaders(t){return this.headerMarshaller.format(t)}}class Ul{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const t of this.options.inputStream)yield this.options.decoder.decode(t)}}class Dl{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const t of this.options.messageStream)yield this.options.encoder.encode(t);this.options.includeEndFrame&&(yield new Uint8Array(0))}}class Fl{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const t of this.options.messageStream){const r=await this.options.deserializer(t);r!==void 0&&(yield r)}}}class Ll{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const t of this.options.inputStream)yield this.options.serializer(t)}}const jl=e=>e[vn]||(e[vn]={}),ve=e=>{if(typeof e=="function")return e;const t=Promise.resolve(e);return()=>t},Vl="X-Amz-Algorithm",Hl="X-Amz-Credential",ha="X-Amz-Date",ql="X-Amz-SignedHeaders",Wl="X-Amz-Expires",pa="X-Amz-Signature",ga="X-Amz-Security-Token",ya="authorization",ma=ha.toLowerCase(),Gl="date",zl=[ya,ma,Gl],Kl=pa.toLowerCase(),On="x-amz-content-sha256",Xl=ga.toLowerCase(),Yl={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Zl=/^proxy-/,Ql=/^sec-/,Cr="AWS4-HMAC-SHA256",Jl="AWS4-HMAC-SHA256-PAYLOAD",ef="UNSIGNED-PAYLOAD",tf=50,ba="aws4_request",rf=60*60*24*7,Vt={},Tr=[],Or=(e,t,r)=>`${e}/${t}/${r}/${ba}`,nf=async(e,t,r,n,i)=>{const s=await ei(e,t.secretAccessKey,t.accessKeyId),o=`${r}:${n}:${i}:${he(s)}:${t.sessionToken}`;if(o in Vt)return Vt[o];for(Tr.push(o);Tr.length>tf;)delete Vt[Tr.shift()];let a=`AWS4${t.secretAccessKey}`;for(const u of[r,n,i,ba])a=await ei(e,a,u);return Vt[o]=a},ei=(e,t,r)=>{const n=new e(t);return n.update(Ot(r)),n.digest()},ti=({headers:e},t,r)=>{const n={};for(const i of Object.keys(e).sort()){if(e[i]==null)continue;const s=i.toLowerCase();(s in Yl||t!=null&&t.has(s)||Zl.test(s)||Ql.test(s))&&(!r||r&&!r.has(s))||(n[s]=e[i].trim().replace(/\s+/g," "))}return n},sf=({query:e={}})=>{const t=[],r={};for(const n of Object.keys(e).sort()){if(n.toLowerCase()===Kl)continue;t.push(n);const i=e[n];typeof i=="string"?r[n]=`${ze(n)}=${ze(i)}`:Array.isArray(i)&&(r[n]=i.slice(0).reduce((s,o)=>s.concat([`${ze(n)}=${ze(o)}`]),[]).sort().join("&"))}return t.map(n=>r[n]).filter(n=>n).join("&")},of=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]",Pr=async({headers:e,body:t},r)=>{for(const n of Object.keys(e))if(n.toLowerCase()===On)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||of(t)){const n=new r;return n.update(Ot(t)),he(await n.digest())}return ef},af=(e,t)=>{e=e.toLowerCase();for(const r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},wa=({headers:e,query:t,...r})=>({...r,headers:{...e},query:t?cf(t):void 0}),cf=e=>Object.keys(e).reduce((t,r)=>{const n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{}),uf=(e,t={})=>{var i;const{headers:r,query:n={}}=typeof e.clone=="function"?e.clone():wa(e);for(const s of Object.keys(r)){const o=s.toLowerCase();o.slice(0,6)==="x-amz-"&&!((i=t.unhoistableHeaders)!=null&&i.has(o))&&(n[s]=r[s],delete r[s])}return{...e,headers:r,query:n}},ri=e=>{e=typeof e.clone=="function"?e.clone():wa(e);for(const t of Object.keys(e.headers))zl.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},lf=e=>ff(e).toISOString().replace(/\.\d{3}Z$/,"Z"),ff=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e;class Pn{constructor({applyChecksum:t,credentials:r,region:n,service:i,sha256:s,uriEscapePath:o=!0}){this.headerMarshaller=new fa(mr,st),this.service=i,this.sha256=s,this.uriEscapePath=o,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=ve(n),this.credentialProvider=ve(r)}async presign(t,r={}){const{signingDate:n=new Date,expiresIn:i=3600,unsignableHeaders:s,unhoistableHeaders:o,signableHeaders:a,signingRegion:u,signingService:c}=r,l=await this.credentialProvider();this.validateResolvedCredentials(l);const h=u??await this.regionProvider(),{longDate:d,shortDate:g}=Ht(n);if(i>rf)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const y=Or(g,h,c??this.service),S=uf(ri(t),{unhoistableHeaders:o});l.sessionToken&&(S.query[ga]=l.sessionToken),S.query[Vl]=Cr,S.query[Hl]=`${l.accessKeyId}/${y}`,S.query[ha]=d,S.query[Wl]=i.toString(10);const C=ti(S,s,a);return S.query[ql]=ni(C),S.query[pa]=await this.getSignature(d,y,this.getSigningKey(l,h,g,c),this.createCanonicalRequest(S,C,await Pr(t,this.sha256))),S}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:i,signingRegion:s,signingService:o}){const a=s??await this.regionProvider(),{shortDate:u,longDate:c}=Ht(n),l=Or(u,a,o??this.service),h=await Pr({headers:{},body:r},this.sha256),d=new this.sha256;d.update(t);const g=he(await d.digest()),y=[Jl,c,l,i,g,h].join(`
`);return this.signString(y,{signingDate:n,signingRegion:a,signingService:o})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:i}){return this.signEvent({headers:this.headerMarshaller.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:i,priorSignature:t.priorSignature}).then(o=>({message:t.message,signature:o}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:i}={}){const s=await this.credentialProvider();this.validateResolvedCredentials(s);const o=n??await this.regionProvider(),{shortDate:a}=Ht(r),u=new this.sha256(await this.getSigningKey(s,o,a,i));return u.update(Ot(t)),he(await u.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:i,signingRegion:s,signingService:o}={}){const a=await this.credentialProvider();this.validateResolvedCredentials(a);const u=s??await this.regionProvider(),c=ri(t),{longDate:l,shortDate:h}=Ht(r),d=Or(h,u,o??this.service);c.headers[ma]=l,a.sessionToken&&(c.headers[Xl]=a.sessionToken);const g=await Pr(c,this.sha256);!af(On,c.headers)&&this.applyChecksum&&(c.headers[On]=g);const y=ti(c,i,n),S=await this.getSignature(l,d,this.getSigningKey(a,u,h,o),this.createCanonicalRequest(c,y,g));return c.headers[ya]=`${Cr} Credential=${a.accessKeyId}/${d}, SignedHeaders=${ni(y)}, Signature=${S}`,c}createCanonicalRequest(t,r,n){const i=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${sf(t)}
${i.map(s=>`${s}:${r[s]}`).join(`
`)}

${i.join(";")}
${n}`}async createStringToSign(t,r,n){const i=new this.sha256;i.update(Ot(n));const s=await i.digest();return`${Cr}
${t}
${r}
${he(s)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){const r=[];for(const s of t.split("/"))(s==null?void 0:s.length)!==0&&s!=="."&&(s===".."?r.pop():r.push(s));const n=`${t!=null&&t.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&(t!=null&&t.endsWith("/"))?"/":""}`;return encodeURIComponent(n).replace(/%2F/g,"/")}return t}async getSignature(t,r,n,i){const s=await this.createStringToSign(t,r,i),o=new this.sha256(await n);return o.update(Ot(s)),he(await o.digest())}getSigningKey(t,r,n,i){return nf(this.sha256,t,n,r,i||this.service)}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}}const Ht=e=>{const t=lf(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},ni=e=>Object.keys(e).sort().join(";");var si;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(si||(si={}));const df="Directory",hf="S3Express",pf="sigv4-s3express",In="X-Amz-S3session-Token",Nn=In.toLowerCase();class gf extends Pn{async signWithCredentials(t,r,n){const i=ii(r);t.headers[Nn]=r.sessionToken;const s=this;return oi(s,i),s.signRequest(t,n??{})}async presignWithCredentials(t,r,n){const i=ii(r);return delete t.headers[Nn],t.headers[In]=r.sessionToken,t.query=t.query??{},t.query[In]=r.sessionToken,oi(this,i),this.presign(t,n)}}function ii(e){return{accessKeyId:e.accessKeyId,secretAccessKey:e.secretAccessKey,expiration:e.expiration}}function oi(e,t){const r=setTimeout(()=>{throw new Error("SignatureV4S3Express credential override was created but not called.")},10),n=e.credentialProvider,i=()=>(clearTimeout(r),e.credentialProvider=n,Promise.resolve(t));e.credentialProvider=i}const yf=e=>(t,r)=>async n=>{var i,s,o,a,u;if(r.endpointV2){const c=r.endpointV2,l=((o=(s=(i=c.properties)==null?void 0:i.authSchemes)==null?void 0:s[0])==null?void 0:o.name)===pf;if((((a=c.properties)==null?void 0:a.backend)===hf||((u=c.properties)==null?void 0:u.bucketType)===df)&&(r.isS3ExpressBucket=!0),l){const d=n.input.Bucket;if(d){const g=await e.s3ExpressIdentityProvider.getS3ExpressIdentity(await e.credentials(),{Bucket:d});r.s3ExpressIdentity=g,Ae.isInstance(n.request)&&g.sessionToken&&(n.request.headers[Nn]=g.sessionToken)}}}return t(n)},mf={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},bf=e=>({applyToStack:t=>{t.add(yf(e),mf)}}),wf=(e,{session:t})=>{const[r,n]=t;return{...e,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,followRegionRedirects:e.followRegionRedirects??!1,s3ExpressIdentityProvider:e.s3ExpressIdentityProvider??new wr(async i=>r().send(new n({Bucket:i,SessionMode:"ReadWrite"}))),bucketEndpoint:e.bucketEndpoint??!1}},_f=e=>typeof e=="string"&&e.indexOf("arn:")===0&&e.split(":").length>=6;function Ef(e){return(t,r)=>async n=>{var i,s,o,a;if(e.bucketEndpoint){const u=r.endpointV2;if(u){const c=n.input.Bucket;if(typeof c=="string")try{const l=new URL(c);u.url=l}catch(l){const h=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${c} could not be parsed as URL.`;throw((s=(i=r.logger)==null?void 0:i.constructor)==null?void 0:s.name)==="NoOpLogger"?console.warn(h):(a=(o=r.logger)==null?void 0:o.warn)==null||a.call(o,h),l}}}return t(n)}}const Sf={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"};function vf({bucketEndpoint:e}){return t=>async r=>{const{input:{Bucket:n}}=r;if(!e&&typeof n=="string"&&!_f(n)&&n.indexOf("/")>=0){const i=new Error(`Bucket name shouldn't contain '/', received '${n}'`);throw i.name="InvalidBucketName",i}return t({...r})}}const Af={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},xf=e=>({applyToStack:t=>{t.add(vf(e),Af),t.addRelativeTo(Ef(e),Sf)}}),_a=(e,t,r)=>{let n,i,s,o=!1;const a=async()=>{i||(i=e());try{n=await i,s=!0,o=!1}finally{i=void 0}return n};return t===void 0?async u=>((!s||u!=null&&u.forceRefresh)&&(n=await a()),n):async u=>((!s||u!=null&&u.forceRefresh)&&(n=await a()),o?n:r&&!r(n)?(o=!0,n):(t(n)&&await a(),n))},Rf=3e5,Cf=e=>{const t=e.credentials?Tf(e.credentials):e.credentialDefaultProvider(Object.assign({},e,{parentClientConfig:e})),{signingEscapePath:r=!0,systemClockOffset:n=e.systemClockOffset||0,sha256:i}=e;let s;return e.signer?s=ve(e.signer):e.regionInfoProvider?s=()=>ve(e.region)().then(async o=>[await e.regionInfoProvider(o,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},o]).then(([o,a])=>{const{signingRegion:u,signingService:c}=o;e.signingRegion=e.signingRegion||u||a,e.signingName=e.signingName||c||e.serviceId;const l={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:r},h=e.signerConstructor||Pn;return new h(l)}):s=async o=>{o=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await ve(e.region)(),properties:{}},o);const a=(o==null?void 0:o.name)==="sigv4a",u=o.signingRegion,c=o.signingName;let l;a?l=e.signingRegion||u:(e.signingRegion=e.signingRegion||u,l=e.signingRegion),e.signingName=e.signingName||c||e.serviceId;const h={...e,credentials:t,region:l,service:e.signingName,sha256:i,uriEscapePath:r},d=e.signerConstructor||Pn;return new d(h)},{...e,systemClockOffset:n,signingEscapePath:r,credentials:t,signer:s}},Tf=e=>typeof e=="function"?_a(e,t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<Rf,t=>t.expiration!==void 0):ve(e),Ea=e=>new Date(Date.now()+e),Of=(e,t)=>Math.abs(Ea(t).getTime()-e)>=3e5,ai=(e,t)=>{const r=Date.parse(e);return Of(r,t)?r-Date.now():t},Pf=e=>(t,r)=>async function(n){var y,S,C,I,M,j,te;if(!Ae.isInstance(n.request))return t(n);let i,s;const o=(C=(S=(y=r.endpointV2)==null?void 0:y.properties)==null?void 0:S.authSchemes)==null?void 0:C[0],a=(j=(M=(I=r.endpointV2)==null?void 0:I.properties)==null?void 0:M.authSchemes)==null?void 0:j[1];if((o==null?void 0:o.name)==="sigv4a"&&a){s=await e.signer(i=o);const X=s;(()=>{var Ze;if(typeof(X==null?void 0:X.getSigv4aSigner)=="function"){if(((Ze=X==null?void 0:X.signerOptions)==null?void 0:Ze.runtime)!=="node")return!1;try{return X.getSigv4aSigner(),!0}catch{}}return!1})()||(s=await e.signer(i=a))}else s=await e.signer(i=o);let c;const l=(i==null?void 0:i.name)==="sigv4a"?(te=i==null?void 0:i.signingRegionSet)==null?void 0:te.join(","):void 0,h={signingDate:Ea(e.systemClockOffset),signingRegion:l||r.signing_region,signingService:r.signing_service};if(r.s3ExpressIdentity){if(c=await s.signWithCredentials(n.request,r.s3ExpressIdentity,h),c.headers["X-Amz-Security-Token"]||c.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.")}else c=await s.sign(n.request,h);const d=await t({...n,request:c}).catch(X=>{const Ne=X.ServerTime??ci(X.$response);throw Ne&&(e.systemClockOffset=ai(Ne,e.systemClockOffset)),X}),g=ci(d.response);return g&&(e.systemClockOffset=ai(g,e.systemClockOffset)),d},ci=e=>{var t,r;return ur.isInstance(e)?((t=e.headers)==null?void 0:t.date)??((r=e.headers)==null?void 0:r.Date):void 0},If={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},Nf=e=>({applyToStack:t=>{t.addRelativeTo(Pf(e),If)}});function Bf(e){return{...e,customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent}}const kf=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),Sa=e=>kf.test(e)||e.startsWith("[")&&e.endsWith("]"),Mf=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),is=(e,t=!1)=>{if(!t)return Mf.test(e);const r=e.split(".");for(const n of r)if(!is(n))return!1;return!0},Bn={},Mt="endpoints";function je(e){return typeof e!="object"||e==null?e:"ref"in e?`$${je(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(je).join(", ")})`:JSON.stringify(e,null,2)}class ge extends Error{constructor(t){super(t),this.name="EndpointError"}}const $f=(e,t)=>e===t,Uf=e=>{const t=e.split("."),r=[];for(const n of t){const i=n.indexOf("[");if(i!==-1){if(n.indexOf("]")!==n.length-1)throw new ge(`Path: '${e}' does not end with ']'`);const s=n.slice(i+1,-1);if(Number.isNaN(parseInt(s)))throw new ge(`Invalid array index: '${s}' in path: '${e}'`);i!==0&&r.push(n.slice(0,i)),r.push(s)}else r.push(n)}return r},va=(e,t)=>Uf(t).reduce((r,n)=>{if(typeof r!="object")throw new ge(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),Df=e=>e!=null,Ff=e=>!e,Ir={[Bt.HTTP]:80,[Bt.HTTPS]:443},Lf=e=>{const t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){const{hostname:d,port:g,protocol:y="",path:S="",query:C={}}=e,I=new URL(`${y}//${d}${g?`:${g}`:""}${S}`);return I.search=Object.entries(C).map(([M,j])=>`${M}=${j}`).join("&"),I}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;const r=t.href,{host:n,hostname:i,pathname:s,protocol:o,search:a}=t;if(a)return null;const u=o.slice(0,-1);if(!Object.values(Bt).includes(u))return null;const c=Sa(i),l=r.includes(`${n}:${Ir[u]}`)||typeof e=="string"&&e.includes(`${n}:${Ir[u]}`),h=`${n}${l?`:${Ir[u]}`:""}`;return{scheme:u,authority:h,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:c}},jf=(e,t)=>e===t,Vf=(e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),Hf=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),qf={booleanEquals:$f,getAttr:va,isSet:Df,isValidHostLabel:is,not:Ff,parseURL:Lf,stringEquals:jf,substring:Vf,uriEncode:Hf},Aa=(e,t)=>{const r=[],n={...t.endpointParams,...t.referenceRecord};let i=0;for(;i<e.length;){const s=e.indexOf("{",i);if(s===-1){r.push(e.slice(i));break}r.push(e.slice(i,s));const o=e.indexOf("}",s);if(o===-1){r.push(e.slice(s));break}e[s+1]==="{"&&e[o+1]==="}"&&(r.push(e.slice(s+1,o)),i=o+2);const a=e.substring(s+1,o);if(a.includes("#")){const[u,c]=a.split("#");r.push(va(n[u],c))}else r.push(n[a]);i=o+1}return r.join("")},Wf=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],Er=(e,t,r)=>{if(typeof e=="string")return Aa(e,r);if(e.fn)return xa(e,r);if(e.ref)return Wf(e,r);throw new ge(`'${t}': ${String(e)} is not a string, function or reference.`)},xa=({fn:e,argv:t},r)=>{const n=t.map(s=>["boolean","number"].includes(typeof s)?s:Er(s,"arg",r)),i=e.split(".");return i[0]in Bn&&i[1]!=null?Bn[i[0]][i[1]](...n):qf[e](...n)},Gf=({assign:e,...t},r)=>{var i,s;if(e&&e in r.referenceRecord)throw new ge(`'${e}' is already defined in Reference Record.`);const n=xa(t,r);return(s=(i=r.logger)==null?void 0:i.debug)==null||s.call(i,Mt,`evaluateCondition: ${je(t)} = ${je(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},os=(e=[],t)=>{var n,i;const r={};for(const s of e){const{result:o,toAssign:a}=Gf(s,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!o)return{result:o};a&&(r[a.name]=a.value,(i=(n=t.logger)==null?void 0:n.debug)==null||i.call(n,Mt,`assign: ${a.name} := ${je(a.value)}`))}return{result:!0,referenceRecord:r}},zf=(e,t)=>Object.entries(e).reduce((r,[n,i])=>({...r,[n]:i.map(s=>{const o=Er(s,"Header value entry",t);if(typeof o!="string")throw new ge(`Header '${n}' value '${o}' is not a string`);return o})}),{}),Ra=(e,t)=>{if(Array.isArray(e))return e.map(r=>Ra(r,t));switch(typeof e){case"string":return Aa(e,t);case"object":if(e===null)throw new ge(`Unexpected endpoint property: ${e}`);return Ca(e,t);case"boolean":return e;default:throw new ge(`Unexpected endpoint property type: ${typeof e}`)}},Ca=(e,t)=>Object.entries(e).reduce((r,[n,i])=>({...r,[n]:Ra(i,t)}),{}),Kf=(e,t)=>{const r=Er(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new ge(`Endpoint URL must be a string, got ${typeof r}`)},Xf=(e,t)=>{var l,h;const{conditions:r,endpoint:n}=e,{result:i,referenceRecord:s}=os(r,t);if(!i)return;const o={...t,referenceRecord:{...t.referenceRecord,...s}},{url:a,properties:u,headers:c}=n;return(h=(l=t.logger)==null?void 0:l.debug)==null||h.call(l,Mt,`Resolving endpoint from template: ${je(n)}`),{...c!=null&&{headers:zf(c,o)},...u!=null&&{properties:Ca(u,o)},url:Kf(a,o)}},Yf=(e,t)=>{const{conditions:r,error:n}=e,{result:i,referenceRecord:s}=os(r,t);if(i)throw new ge(Er(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...s}}))},Zf=(e,t)=>{const{conditions:r,rules:n}=e,{result:i,referenceRecord:s}=os(r,t);if(i)return Ta(n,{...t,referenceRecord:{...t.referenceRecord,...s}})},Ta=(e,t)=>{for(const r of e)if(r.type==="endpoint"){const n=Xf(r,t);if(n)return n}else if(r.type==="error")Yf(r,t);else if(r.type==="tree"){const n=Zf(r,t);if(n)return n}else throw new ge(`Unknown endpoint rule: ${r}`);throw new ge("Rules evaluation failed")},Qf=(e,t)=>{var c,l,h,d,g;const{endpointParams:r,logger:n}=t,{parameters:i,rules:s}=e;(l=(c=t.logger)==null?void 0:c.debug)==null||l.call(c,`${Mt} Initial EndpointParams: ${je(r)}`);const o=Object.entries(i).filter(([,y])=>y.default!=null).map(([y,S])=>[y,S.default]);if(o.length>0)for(const[y,S]of o)r[y]=r[y]??S;const a=Object.entries(i).filter(([,y])=>y.required).map(([y])=>y);for(const y of a)if(r[y]==null)throw new ge(`Missing required parameter: '${y}'`);const u=Ta(s,{endpointParams:r,logger:n,referenceRecord:{}});if((h=t.endpointParams)!=null&&h.Endpoint)try{const y=new URL(t.endpointParams.Endpoint),{protocol:S,port:C}=y;u.url.protocol=S,u.url.port=C}catch{}return(g=(d=t.logger)==null?void 0:d.debug)==null||g.call(d,`${Mt} Resolved endpoint: ${je(u)}`),u},Oa=(e,t=!1)=>{if(t){for(const r of e.split("."))if(!Oa(r))return!1;return!0}return!(!is(e)||e.length<3||e.length>63||e!==e.toLowerCase()||Sa(e))},Jf=e=>{const t=e.split(":");if(t.length<6)return null;const[r,n,i,s,o,...a]=t;return r!=="arn"||n===""||i===""||a[0]===""?null:{partition:n,service:i,region:s,accountId:o,resourceId:a[0].includes("/")?a[0].split("/"):a}},ed=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],td="1.1",rd={partitions:ed,version:td};let nd=rd;const sd=e=>{const{partitions:t}=nd;for(const n of t){const{regions:i,outputs:s}=n;for(const[o,a]of Object.entries(i))if(o===e)return{...s,...a}}for(const n of t){const{regionRegex:i,outputs:s}=n;if(new RegExp(i).test(e))return{...s}}const r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},id={isVirtualHostableS3Bucket:Oa,parseArn:Jf,partition:sd};Bn.aws=id;const ui="user-agent",Nr="x-amz-user-agent",li=" ",Br="/",od=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,ad=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,fi="-",cd=e=>(t,r)=>async n=>{var h,d;const{request:i}=n;if(!Ae.isInstance(i))return t(n);const{headers:s}=i,o=((h=r==null?void 0:r.userAgent)==null?void 0:h.map(kr))||[],a=(await e.defaultUserAgentProvider()).map(kr),u=((d=e==null?void 0:e.customUserAgent)==null?void 0:d.map(kr))||[],c=[].concat([...a,...o,...u]).join(li),l=[...a.filter(g=>g.startsWith("aws-sdk-")),...u].join(li);return e.runtime!=="browser"?(l&&(s[Nr]=s[Nr]?`${s[ui]} ${l}`:l),s[ui]=c):s[Nr]=c,t({...n,request:i})},kr=e=>{var o;const t=e[0].split(Br).map(a=>a.replace(od,fi)).join(Br),r=(o=e[1])==null?void 0:o.replace(ad,fi),n=t.indexOf(Br),i=t.substring(0,n);let s=t.substring(n+1);return i==="api"&&(s=s.toLowerCase()),[i,s,r].filter(a=>a&&a.length>0).reduce((a,u,c)=>{switch(c){case 0:return u;case 1:return`${a}/${u}`;default:return`${a}#${u}`}},"")},ud={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},ld=e=>({applyToStack:t=>{t.add(cd(e),ud)}}),fd=!1,dd=!1,Pa=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),di=e=>Pa(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,hd=e=>{const{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return di(t);const n=await t();return di(n)},useFipsEndpoint:async()=>{const n=typeof t=="string"?t:await t();return Pa(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}},pd=e=>({...e,eventStreamMarshaller:e.eventStreamSerdeProvider(e)}),hi="content-length";function gd(e){return t=>async r=>{const n=r.request;if(Ae.isInstance(n)){const{body:i,headers:s}=n;if(i&&Object.keys(s).map(o=>o.toLowerCase()).indexOf(hi)===-1)try{const o=e(i);n.headers={...n.headers,[hi]:String(o)}}catch{}}return t({...r,request:n})}}const yd={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},md=e=>({applyToStack:t=>{t.add(gd(e.bodyLengthChecker),yd)}}),bd=async e=>{const t=(e==null?void 0:e.Bucket)||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),vd(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!Sd(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},wd=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,_d=/(\d+\.){3}\d+/,Ed=/\.\./,Sd=e=>wd.test(e)&&!_d.test(e)&&!Ed.test(e),vd=e=>{const[t,r,n,i,s,o]=e.split(":"),a=t==="arn"&&e.split(":").length>=6,u=[t,r,n,s,o].filter(Boolean).length===5;if(a&&!u)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return t==="arn"&&!!r&&!!n&&!!s&&!!o},Ad=(e,t,r)=>{const n=async()=>{const i=r[e]??r[t];return typeof i=="function"?i():i};return e==="credentialScope"||t==="CredentialScope"?async()=>{const i=typeof r.credentials=="function"?await r.credentials():r.credentials;return(i==null?void 0:i.credentialScope)??(i==null?void 0:i.CredentialScope)}:e==="endpoint"||t==="endpoint"?async()=>{const i=await n();if(i&&typeof i=="object"){if("url"in i)return i.url.href;if("hostname"in i){const{protocol:s,hostname:o,port:a,path:u}=i;return`${s}//${o}${a?":"+a:""}${u}`}}return i}:n},xd=async e=>{};function Rd(e){const t={};if(e=e.replace(/^\?/,""),e)for(const r of e.split("&")){let[n,i=null]=r.split("=");n=decodeURIComponent(n),i&&(i=decodeURIComponent(i)),n in t?Array.isArray(t[n])?t[n].push(i):t[n]=[t[n],i]:t[n]=i}return t}const fr=e=>{if(typeof e=="string")return fr(new URL(e));const{hostname:t,pathname:r,port:n,protocol:i,search:s}=e;let o;return s&&(o=Rd(s)),{hostname:t,port:n?parseInt(n):void 0,protocol:i,path:r,query:o}},Ia=e=>typeof e=="object"?"url"in e?fr(e.url):e:fr(e),Cd=async(e,t,r,n)=>{if(!r.endpoint){const o=await xd(r.serviceId||"");o&&(r.endpoint=()=>Promise.resolve(Ia(o)))}const i=await Td(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(i,n)},Td=async(e,t,r)=>{var s;const n={},i=((s=t==null?void 0:t.getEndpointParameterInstructions)==null?void 0:s.call(t))||{};for(const[o,a]of Object.entries(i))switch(a.type){case"staticContextParams":n[o]=a.value;break;case"contextParams":n[o]=e[a.name];break;case"clientContextParams":case"builtInParams":n[o]=await Ad(a.name,o,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(i).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await bd(n),n},Od=({config:e,instructions:t})=>(r,n)=>async i=>{var a,u,c;const s=await Cd(i.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=s,n.authSchemes=(a=s.properties)==null?void 0:a.authSchemes;const o=(u=n.authSchemes)==null?void 0:u[0];if(o){n.signing_region=o.signingRegion,n.signing_service=o.signingName;const l=jl(n),h=(c=l==null?void 0:l.selectedHttpAuthScheme)==null?void 0:c.httpAuthOption;h&&(h.signingProperties=Object.assign(h.signingProperties||{},{signing_region:o.signingRegion,signingRegion:o.signingRegion,signing_service:o.signingName,signingName:o.signingName,signingRegionSet:o.signingRegionSet},o.properties))}return r({...i})},Pd=(e,t)=>(r,n)=>async i=>{const{response:s}=await r(i);try{const o=await t(s,e);return{response:s,output:o}}catch(o){if(Object.defineProperty(o,"$response",{value:s}),!("$metadata"in o)){const a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";o.message+=`
  `+a,typeof o.$responseBodyText<"u"&&o.$response&&(o.$response.body=o.$responseBodyText)}throw o}},Id=(e,t)=>(r,n)=>async i=>{var a;const s=(a=n.endpointV2)!=null&&a.url&&e.urlParser?async()=>e.urlParser(n.endpointV2.url):e.endpoint;if(!s)throw new Error("No valid endpoint provider available.");const o=await t(i.input,{...e,endpoint:s});return r({...i,request:o})},Nd={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},as={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Bd(e,t,r){return{applyToStack:n=>{n.add(Pd(e,r),Nd),n.add(Id(e,t),as)}}}const Na={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:as.name},kd=(e,t)=>({applyToStack:r=>{r.addRelativeTo(Od({config:e,instructions:t}),Na)}}),Md=e=>{const t=e.tls??!0,{endpoint:r}=e,n=r!=null?async()=>Ia(await ve(r)()):void 0;return{...e,endpoint:n,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:ve(e.useDualstackEndpoint??!1),useFipsEndpoint:ve(e.useFipsEndpoint??!1)}};var tt;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(tt||(tt={}));const dr=3,$d=tt.STANDARD,Ud=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Dd=["TimeoutError","RequestTimeout","RequestTimeoutException"],Fd=[500,502,503,504],Ld=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],jd=e=>{var t;return(t=e.$metadata)==null?void 0:t.clockSkewCorrected},Ba=e=>{var t,r;return((t=e.$metadata)==null?void 0:t.httpStatusCode)===429||Ud.includes(e.name)||((r=e.$retryable)==null?void 0:r.throttling)==!0},ka=e=>{var t;return jd(e)||Dd.includes(e.name)||Ld.includes((e==null?void 0:e.code)||"")||Fd.includes(((t=e.$metadata)==null?void 0:t.httpStatusCode)||0)},Vd=e=>{var t;if(((t=e.$metadata)==null?void 0:t.httpStatusCode)!==void 0){const r=e.$metadata.httpStatusCode;return 500<=r&&r<=599&&!ka(e)}return!1};class Hd{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(t==null?void 0:t.beta)??.7,this.minCapacity=(t==null?void 0:t.minCapacity)??1,this.minFillRate=(t==null?void 0:t.minFillRate)??.5,this.scaleConstant=(t==null?void 0:t.scaleConstant)??.4,this.smooth=(t==null?void 0:t.smooth)??.8;const r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){const r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){const t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}const r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),Ba(t)){const i=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=i,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(i),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());const n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){const n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}}const kn=100,Ma=20*1e3,qd=500,pi=500,Wd=5,Gd=10,zd=1,Kd="amz-sdk-invocation-id",Xd="amz-sdk-request",Yd=()=>{let e=kn;return{computeNextBackoffDelay:n=>Math.floor(Math.min(Ma,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}},gi=({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(Ma,e),getRetryCost:()=>r});class $a{constructor(t){this.maxAttempts=t,this.mode=tt.STANDARD,this.capacity=pi,this.retryBackoffStrategy=Yd(),this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return gi({retryDelay:kn,retryCount:0})}async refreshRetryTokenForRetry(t,r){const n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){const i=r.errorType;this.retryBackoffStrategy.setDelayBase(i==="THROTTLING"?qd:kn);const s=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),o=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,s):s,a=this.getCapacityCost(i);return this.capacity-=a,gi({retryDelay:o,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(pi,this.capacity+(t.getRetryCost()??zd))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${dr}`),dr}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?Gd:Wd}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}}class Zd{constructor(t,r){this.maxAttemptsProvider=t,this.mode=tt.ADAPTIVE;const{rateLimiter:n}=r??{};this.rateLimiter=n??new Hd,this.standardRetryStrategy=new $a(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}}var qt,Qd=new Uint8Array(16);function Jd(){if(!qt&&(qt=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!qt))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return qt(Qd)}const eh=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function th(e){return typeof e=="string"&&eh.test(e)}var ee=[];for(var Mr=0;Mr<256;++Mr)ee.push((Mr+256).toString(16).substr(1));function rh(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(ee[e[t+0]]+ee[e[t+1]]+ee[e[t+2]]+ee[e[t+3]]+"-"+ee[e[t+4]]+ee[e[t+5]]+"-"+ee[e[t+6]]+ee[e[t+7]]+"-"+ee[e[t+8]]+ee[e[t+9]]+"-"+ee[e[t+10]]+ee[e[t+11]]+ee[e[t+12]]+ee[e[t+13]]+ee[e[t+14]]+ee[e[t+15]]).toLowerCase();if(!th(r))throw TypeError("Stringified UUID is invalid");return r}function nh(e,t,r){e=e||{};var n=e.random||(e.rng||Jd)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return rh(n)}const sh=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),ih=e=>{const{retryStrategy:t}=e,r=ve(e.maxAttempts??dr);return{...e,maxAttempts:r,retryStrategy:async()=>t||(await ve(e.retryMode)()===tt.ADAPTIVE?new Zd(r):new $a(r))}},oh=e=>(e==null?void 0:e.body)instanceof ReadableStream,ah=e=>(t,r)=>async n=>{var o;let i=await e.retryStrategy();const s=await e.maxAttempts();if(ch(i)){i=i;let a=await i.acquireInitialRetryToken(r.partition_id),u=new Error,c=0,l=0;const{request:h}=n,d=Ae.isInstance(h);for(d&&(h.headers[Kd]=nh());;)try{d&&(h.headers[Xd]=`attempt=${c+1}; max=${s}`);const{response:g,output:y}=await t(n);return i.recordSuccess(a),y.$metadata.attempts=c+1,y.$metadata.totalRetryDelay=l,{response:g,output:y}}catch(g){const y=uh(g);if(u=sh(g),d&&oh(h))throw(o=r.logger instanceof Zo?console:r.logger)==null||o.warn("An error was encountered in a non-retryable streaming request."),u;try{a=await i.refreshRetryTokenForRetry(a,y)}catch{throw u.$metadata||(u.$metadata={}),u.$metadata.attempts=c+1,u.$metadata.totalRetryDelay=l,u}c=a.getRetryCount();const S=a.getRetryDelay();l+=S,await new Promise(C=>setTimeout(C,S))}}else return i=i,i!=null&&i.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",i.mode]]),i.retry(t,n)},ch=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",uh=e=>{const t={error:e,errorType:lh(e)},r=dh(e.$response);return r&&(t.retryAfterHint=r),t},lh=e=>Ba(e)?"THROTTLING":ka(e)?"TRANSIENT":Vd(e)?"SERVER_ERROR":"CLIENT_ERROR",Ua={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},fh=e=>({applyToStack:t=>{t.add(ah(e),Ua)}}),dh=e=>{if(!ur.isInstance(e))return;const t=Object.keys(e.headers).find(s=>s.toLowerCase()==="retry-after");if(!t)return;const r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},hh=e=>({...e,useFipsEndpoint:e.useFipsEndpoint??!1,useDualstackEndpoint:e.useDualstackEndpoint??!1,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}),ph={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};class we extends ss{constructor(t){super(t),Object.setPrototypeOf(this,we.prototype)}}class cs extends we{constructor(t){super({name:"NoSuchUpload",$fault:"client",...t}),this.name="NoSuchUpload",this.$fault="client",Object.setPrototypeOf(this,cs.prototype)}}class us extends we{constructor(t){super({name:"ObjectNotInActiveTierError",$fault:"client",...t}),this.name="ObjectNotInActiveTierError",this.$fault="client",Object.setPrototypeOf(this,us.prototype)}}class ls extends we{constructor(t){super({name:"BucketAlreadyExists",$fault:"client",...t}),this.name="BucketAlreadyExists",this.$fault="client",Object.setPrototypeOf(this,ls.prototype)}}class fs extends we{constructor(t){super({name:"BucketAlreadyOwnedByYou",$fault:"client",...t}),this.name="BucketAlreadyOwnedByYou",this.$fault="client",Object.setPrototypeOf(this,fs.prototype)}}class ds extends we{constructor(t){super({name:"NoSuchBucket",$fault:"client",...t}),this.name="NoSuchBucket",this.$fault="client",Object.setPrototypeOf(this,ds.prototype)}}var yi;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(yi||(yi={}));var mi;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.ObjectSizeGreaterThan!==void 0?r.ObjectSizeGreaterThan(t.ObjectSizeGreaterThan):t.ObjectSizeLessThan!==void 0?r.ObjectSizeLessThan(t.ObjectSizeLessThan):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(mi||(mi={}));var bi;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.AccessPointArn!==void 0?r.AccessPointArn(t.AccessPointArn):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(bi||(bi={}));var wi;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(wi||(wi={}));class hs extends we{constructor(t){super({name:"InvalidObjectState",$fault:"client",...t}),this.name="InvalidObjectState",this.$fault="client",Object.setPrototypeOf(this,hs.prototype),this.StorageClass=t.StorageClass,this.AccessTier=t.AccessTier}}class ps extends we{constructor(t){super({name:"NoSuchKey",$fault:"client",...t}),this.name="NoSuchKey",this.$fault="client",Object.setPrototypeOf(this,ps.prototype)}}class gs extends we{constructor(t){super({name:"NotFound",$fault:"client",...t}),this.name="NotFound",this.$fault="client",Object.setPrototypeOf(this,gs.prototype)}}const gh=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:Fs},...e.SessionToken&&{SessionToken:Fs}}),yh=e=>({...e,...e.Credentials&&{Credentials:gh(e.Credentials)}});Na.name;as.name;Ua.name;function mh(e,t){return new bh(e,t)}class bh{constructor(t,r){this.input=t,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){const{hostname:t,protocol:r="https",port:n,path:i}=await this.context.endpoint();this.path=i;for(const s of this.resolvePathStack)s(this.path);return new Ae({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r!=null&&r.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,i){return this.resolvePathStack.push(s=>{this.path=ju(s,this.input,t,r,n,i)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}const wh=(e,t)=>au(e,t).then(r=>t.utf8Encoder(r));var ys={},Sr={};(function(e){const t=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r=t+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",n="["+t+"]["+r+"]*",i=new RegExp("^"+n+"$"),s=function(a,u){const c=[];let l=u.exec(a);for(;l;){const h=[];h.startIndex=u.lastIndex-l[0].length;const d=l.length;for(let g=0;g<d;g++)h.push(l[g]);c.push(h),l=u.exec(a)}return c},o=function(a){const u=i.exec(a);return!(u===null||typeof u>"u")};e.isExist=function(a){return typeof a<"u"},e.isEmptyObject=function(a){return Object.keys(a).length===0},e.merge=function(a,u,c){if(u){const l=Object.keys(u),h=l.length;for(let d=0;d<h;d++)c==="strict"?a[l[d]]=[u[l[d]]]:a[l[d]]=u[l[d]]}},e.getValue=function(a){return e.isExist(a)?a:""},e.isName=o,e.getAllMatches=s,e.nameRegexp=n})(Sr);const ms=Sr,_h={allowBooleanAttributes:!1,unpairedTags:[]};ys.validate=function(e,t){t=Object.assign({},_h,t);const r=[];let n=!1,i=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let s=0;s<e.length;s++)if(e[s]==="<"&&e[s+1]==="?"){if(s+=2,s=Ei(e,s),s.err)return s}else if(e[s]==="<"){let o=s;if(s++,e[s]==="!"){s=Si(e,s);continue}else{let a=!1;e[s]==="/"&&(a=!0,s++);let u="";for(;s<e.length&&e[s]!==">"&&e[s]!==" "&&e[s]!=="	"&&e[s]!==`
`&&e[s]!=="\r";s++)u+=e[s];if(u=u.trim(),u[u.length-1]==="/"&&(u=u.substring(0,u.length-1),s--),!Th(u)){let h;return u.trim().length===0?h="Invalid space after '<'.":h="Tag '"+u+"' is an invalid name.",G("InvalidTag",h,le(e,s))}const c=vh(e,s);if(c===!1)return G("InvalidAttr","Attributes for '"+u+"' have open quote.",le(e,s));let l=c.value;if(s=c.index,l[l.length-1]==="/"){const h=s-l.length;l=l.substring(0,l.length-1);const d=vi(l,t);if(d===!0)n=!0;else return G(d.err.code,d.err.msg,le(e,h+d.err.line))}else if(a)if(c.tagClosed){if(l.trim().length>0)return G("InvalidTag","Closing tag '"+u+"' can't have attributes or invalid starting.",le(e,o));{const h=r.pop();if(u!==h.tagName){let d=le(e,h.tagStartPos);return G("InvalidTag","Expected closing tag '"+h.tagName+"' (opened in line "+d.line+", col "+d.col+") instead of closing tag '"+u+"'.",le(e,o))}r.length==0&&(i=!0)}}else return G("InvalidTag","Closing tag '"+u+"' doesn't have proper closing.",le(e,s));else{const h=vi(l,t);if(h!==!0)return G(h.err.code,h.err.msg,le(e,s-l.length+h.err.line));if(i===!0)return G("InvalidXml","Multiple possible root nodes found.",le(e,s));t.unpairedTags.indexOf(u)!==-1||r.push({tagName:u,tagStartPos:o}),n=!0}for(s++;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="!"){s++,s=Si(e,s);continue}else if(e[s+1]==="?"){if(s=Ei(e,++s),s.err)return s}else break;else if(e[s]==="&"){const h=Rh(e,s);if(h==-1)return G("InvalidChar","char '&' is not expected.",le(e,s));s=h}else if(i===!0&&!_i(e[s]))return G("InvalidXml","Extra text at the end",le(e,s));e[s]==="<"&&s--}}else{if(_i(e[s]))continue;return G("InvalidChar","char '"+e[s]+"' is not expected.",le(e,s))}if(n){if(r.length==1)return G("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",le(e,r[0].tagStartPos));if(r.length>0)return G("InvalidXml","Invalid '"+JSON.stringify(r.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return G("InvalidXml","Start tag expected.",1);return!0};function _i(e){return e===" "||e==="	"||e===`
`||e==="\r"}function Ei(e,t){const r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){const n=e.substr(r,t-r);if(t>5&&n==="xml")return G("InvalidXml","XML declaration allowed only at the start of the document.",le(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function Si(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}const Eh='"',Sh="'";function vh(e,t){let r="",n="",i=!1;for(;t<e.length;t++){if(e[t]===Eh||e[t]===Sh)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){i=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:i}}const Ah=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function vi(e,t){const r=ms.getAllMatches(e,Ah),n={};for(let i=0;i<r.length;i++){if(r[i][1].length===0)return G("InvalidAttr","Attribute '"+r[i][2]+"' has no space in starting.",dt(r[i]));if(r[i][3]!==void 0&&r[i][4]===void 0)return G("InvalidAttr","Attribute '"+r[i][2]+"' is without value.",dt(r[i]));if(r[i][3]===void 0&&!t.allowBooleanAttributes)return G("InvalidAttr","boolean attribute '"+r[i][2]+"' is not allowed.",dt(r[i]));const s=r[i][2];if(!Ch(s))return G("InvalidAttr","Attribute '"+s+"' is an invalid name.",dt(r[i]));if(!n.hasOwnProperty(s))n[s]=1;else return G("InvalidAttr","Attribute '"+s+"' is repeated.",dt(r[i]))}return!0}function xh(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function Rh(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,xh(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function G(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function Ch(e){return ms.isName(e)}function Th(e){return ms.isName(e)}function le(e,t){const r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function dt(e){return e.startIndex+e[1].length}var bs={};const Da={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,r){return e}},Oh=function(e){return Object.assign({},Da,e)};bs.buildOptions=Oh;bs.defaultOptions=Da;class Ph{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}}var Ih=Ph;const Nh=Sr;function Bh(e,t){const r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,i=!1,s=!1,o="";for(;t<e.length;t++)if(e[t]==="<"&&!s){if(i&&$h(e,t))t+=7,[entityName,val,t]=kh(e,t+1),val.indexOf("&")===-1&&(r[Lh(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(i&&Uh(e,t))t+=8;else if(i&&Dh(e,t))t+=8;else if(i&&Fh(e,t))t+=9;else if(Mh)s=!0;else throw new Error("Invalid DOCTYPE");n++,o=""}else if(e[t]===">"){if(s?e[t-1]==="-"&&e[t-2]==="-"&&(s=!1,n--):n--,n===0)break}else e[t]==="["?i=!0:o+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}function kh(e,t){let r="";for(;t<e.length&&e[t]!=="'"&&e[t]!=='"';t++)r+=e[t];if(r=r.trim(),r.indexOf(" ")!==-1)throw new Error("External entites are not supported");const n=e[t++];let i="";for(;t<e.length&&e[t]!==n;t++)i+=e[t];return[r,i,t]}function Mh(e,t){return e[t+1]==="!"&&e[t+2]==="-"&&e[t+3]==="-"}function $h(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="N"&&e[t+4]==="T"&&e[t+5]==="I"&&e[t+6]==="T"&&e[t+7]==="Y"}function Uh(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="L"&&e[t+4]==="E"&&e[t+5]==="M"&&e[t+6]==="E"&&e[t+7]==="N"&&e[t+8]==="T"}function Dh(e,t){return e[t+1]==="!"&&e[t+2]==="A"&&e[t+3]==="T"&&e[t+4]==="T"&&e[t+5]==="L"&&e[t+6]==="I"&&e[t+7]==="S"&&e[t+8]==="T"}function Fh(e,t){return e[t+1]==="!"&&e[t+2]==="N"&&e[t+3]==="O"&&e[t+4]==="T"&&e[t+5]==="A"&&e[t+6]==="T"&&e[t+7]==="I"&&e[t+8]==="O"&&e[t+9]==="N"}function Lh(e){if(Nh.isName(e))return e;throw new Error(`Invalid entity name ${e}`)}var jh=Bh;const Vh=/^[-+]?0x[a-fA-F0-9]+$/,Hh=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const qh={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function Wh(e,t={}){if(t=Object.assign({},qh,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(t.hex&&Vh.test(r))return Number.parseInt(r,16);{const n=Hh.exec(r);if(n){const i=n[1],s=n[2];let o=Gh(n[3]);const a=n[4]||n[6];if(!t.leadingZeros&&s.length>0&&i&&r[2]!==".")return e;if(!t.leadingZeros&&s.length>0&&!i&&r[1]!==".")return e;{const u=Number(r),c=""+u;return c.search(/[eE]/)!==-1||a?t.eNotation?u:e:r.indexOf(".")!==-1?c==="0"&&o===""||c===o||i&&c==="-"+o?u:e:s?o===c||i+o===c?u:e:r===c||r===i+c?u:e}}else return e}}function Gh(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}var zh=Wh;const ws=Sr,ht=Ih,Kh=jh,Xh=zh;"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,ws.nameRegexp);let Yh=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"}},this.addExternalEntities=Zh,this.parseXml=rp,this.parseTextData=Qh,this.resolveNameSpace=Jh,this.buildAttributesMap=tp,this.isItStopNode=op,this.replaceEntitiesValue=sp,this.readStopNodeData=cp,this.saveTextToParentTag=ip,this.addChild=np}};function Zh(e){const t=Object.keys(e);for(let r=0;r<t.length;r++){const n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function Qh(e,t,r,n,i,s,o){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){o||(e=this.replaceEntitiesValue(e));const a=this.options.tagValueProcessor(t,e,r,i,s);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?$n(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?$n(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function Jh(e){if(this.options.removeNSPrefix){const t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}const ep=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function tp(e,t,r){if(!this.options.ignoreAttributes&&typeof e=="string"){const n=ws.getAllMatches(e,ep),i=n.length,s={};for(let o=0;o<i;o++){const a=this.resolveNameSpace(n[o][1]);let u=n[o][4],c=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(c=this.options.transformAttributeName(c)),c==="__proto__"&&(c="#__proto__"),u!==void 0){this.options.trimValues&&(u=u.trim()),u=this.replaceEntitiesValue(u);const l=this.options.attributeValueProcessor(a,u,t);l==null?s[c]=u:typeof l!=typeof u||l!==u?s[c]=l:s[c]=$n(u,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[c]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){const o={};return o[this.options.attributesGroupName]=s,o}return s}}const rp=function(e){e=e.replace(/\r\n?/g,`
`);const t=new ht("!xml");let r=t,n="",i="";for(let s=0;s<e.length;s++)if(e[s]==="<")if(e[s+1]==="/"){const a=Ke(e,">",s,"Closing Tag is not closed.");let u=e.substring(s+2,a).trim();if(this.options.removeNSPrefix){const h=u.indexOf(":");h!==-1&&(u=u.substr(h+1))}this.options.transformTagName&&(u=this.options.transformTagName(u)),r&&(n=this.saveTextToParentTag(n,r,i));const c=i.substring(i.lastIndexOf(".")+1);if(u&&this.options.unpairedTags.indexOf(u)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${u}>`);let l=0;c&&this.options.unpairedTags.indexOf(c)!==-1?(l=i.lastIndexOf(".",i.lastIndexOf(".")-1),this.tagsNodeStack.pop()):l=i.lastIndexOf("."),i=i.substring(0,l),r=this.tagsNodeStack.pop(),n="",s=a}else if(e[s+1]==="?"){let a=Mn(e,s,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,i),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){const u=new ht(a.tagName);u.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(u[":@"]=this.buildAttributesMap(a.tagExp,i,a.tagName)),this.addChild(r,u,i)}s=a.closeIndex+1}else if(e.substr(s+1,3)==="!--"){const a=Ke(e,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){const u=e.substring(s+4,a-2);n=this.saveTextToParentTag(n,r,i),r.add(this.options.commentPropName,[{[this.options.textNodeName]:u}])}s=a}else if(e.substr(s+1,2)==="!D"){const a=Kh(e,s);this.docTypeEntities=a.entities,s=a.i}else if(e.substr(s+1,2)==="!["){const a=Ke(e,"]]>",s,"CDATA is not closed.")-2,u=e.substring(s+9,a);if(n=this.saveTextToParentTag(n,r,i),this.options.cdataPropName)r.add(this.options.cdataPropName,[{[this.options.textNodeName]:u}]);else{let c=this.parseTextData(u,r.tagname,i,!0,!1,!0);c==null&&(c=""),r.add(this.options.textNodeName,c)}s=a+2}else{let a=Mn(e,s,this.options.removeNSPrefix),u=a.tagName,c=a.tagExp,l=a.attrExpPresent,h=a.closeIndex;this.options.transformTagName&&(u=this.options.transformTagName(u)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,i,!1));const d=r;if(d&&this.options.unpairedTags.indexOf(d.tagname)!==-1&&(r=this.tagsNodeStack.pop(),i=i.substring(0,i.lastIndexOf("."))),u!==t.tagname&&(i+=i?"."+u:u),this.isItStopNode(this.options.stopNodes,i,u)){let g="";if(c.length>0&&c.lastIndexOf("/")===c.length-1)s=a.closeIndex;else if(this.options.unpairedTags.indexOf(u)!==-1)s=a.closeIndex;else{const S=this.readStopNodeData(e,u,h+1);if(!S)throw new Error(`Unexpected end of ${u}`);s=S.i,g=S.tagContent}const y=new ht(u);u!==c&&l&&(y[":@"]=this.buildAttributesMap(c,i,u)),g&&(g=this.parseTextData(g,u,i,!0,l,!0,!0)),i=i.substr(0,i.lastIndexOf(".")),y.add(this.options.textNodeName,g),this.addChild(r,y,i)}else{if(c.length>0&&c.lastIndexOf("/")===c.length-1){u[u.length-1]==="/"?(u=u.substr(0,u.length-1),c=u):c=c.substr(0,c.length-1),this.options.transformTagName&&(u=this.options.transformTagName(u));const g=new ht(u);u!==c&&l&&(g[":@"]=this.buildAttributesMap(c,i,u)),this.addChild(r,g,i),i=i.substr(0,i.lastIndexOf("."))}else{const g=new ht(u);this.tagsNodeStack.push(r),u!==c&&l&&(g[":@"]=this.buildAttributesMap(c,i,u)),this.addChild(r,g,i),r=g}n="",s=h}}else n+=e[s];return t.child};function np(e,t,r){const n=this.options.updateTag(t.tagname,r,t[":@"]);n===!1||(typeof n=="string"&&(t.tagname=n),e.addChild(t))}const sp=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){const r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){const r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){const r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function ip(e,t,r,n){return e&&(n===void 0&&(n=Object.keys(t.child).length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function op(e,t,r){const n="*."+r;for(const i in e){const s=e[i];if(n===s||t===s)return!0}return!1}function ap(e,t,r=">"){let n,i="";for(let s=t;s<e.length;s++){let o=e[s];if(n)o===n&&(n="");else if(o==='"'||o==="'")n=o;else if(o===r[0])if(r[1]){if(e[s+1]===r[1])return{data:i,index:s}}else return{data:i,index:s};else o==="	"&&(o=" ");i+=o}}function Ke(e,t,r,n){const i=e.indexOf(t,r);if(i===-1)throw new Error(n);return i+t.length-1}function Mn(e,t,r,n=">"){const i=ap(e,t+1,n);if(!i)return;let s=i.data;const o=i.index,a=s.search(/\s/);let u=s,c=!0;if(a!==-1&&(u=s.substr(0,a).replace(/\s\s*$/,""),s=s.substr(a+1)),r){const l=u.indexOf(":");l!==-1&&(u=u.substr(l+1),c=u!==i.data.substr(l+1))}return{tagName:u,tagExp:s,closeIndex:o,attrExpPresent:c}}function cp(e,t,r){const n=r;let i=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){const s=Ke(e,">",r,`${t} is not closed`);if(e.substring(r+2,s).trim()===t&&(i--,i===0))return{tagContent:e.substring(n,r),i:s};r=s}else if(e[r+1]==="?")r=Ke(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=Ke(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=Ke(e,"]]>",r,"StopNode is not closed.")-2;else{const s=Mn(e,r,">");s&&((s&&s.tagName)===t&&s.tagExp[s.tagExp.length-1]!=="/"&&i++,r=s.closeIndex)}}function $n(e,t,r){if(t&&typeof e=="string"){const n=e.trim();return n==="true"?!0:n==="false"?!1:Xh(e,r)}else return ws.isExist(e)?e:""}var up=Yh,Fa={};function lp(e,t){return La(e,t)}function La(e,t,r){let n;const i={};for(let s=0;s<e.length;s++){const o=e[s],a=fp(o);let u="";if(r===void 0?u=a:u=r+"."+a,a===t.textNodeName)n===void 0?n=o[a]:n+=""+o[a];else{if(a===void 0)continue;if(o[a]){let c=La(o[a],t,u);const l=hp(c,t);o[":@"]?dp(c,o[":@"],u,t):Object.keys(c).length===1&&c[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?c=c[t.textNodeName]:Object.keys(c).length===0&&(t.alwaysCreateTextNode?c[t.textNodeName]="":c=""),i[a]!==void 0&&i.hasOwnProperty(a)?(Array.isArray(i[a])||(i[a]=[i[a]]),i[a].push(c)):t.isArray(a,u,l)?i[a]=[c]:i[a]=c}}}return typeof n=="string"?n.length>0&&(i[t.textNodeName]=n):n!==void 0&&(i[t.textNodeName]=n),i}function fp(e){const t=Object.keys(e);for(let r=0;r<t.length;r++){const n=t[r];if(n!==":@")return n}}function dp(e,t,r,n){if(t){const i=Object.keys(t),s=i.length;for(let o=0;o<s;o++){const a=i[o];n.isArray(a,r+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function hp(e,t){const{textNodeName:r}=t,n=Object.keys(e).length;return!!(n===0||n===1&&(e[r]||typeof e[r]=="boolean"||e[r]===0))}Fa.prettify=lp;const{buildOptions:pp}=bs,gp=up,{prettify:yp}=Fa,mp=ys;let bp=class{constructor(t){this.externalEntities={},this.options=pp(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});const s=mp.validate(t,r);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}const n=new gp(this.options);n.addExternalEntities(this.externalEntities);const i=n.parseXml(t);return this.options.preserveOrder||i===void 0?i:yp(i,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}};var wp=bp;const _p=`
`;function Ep(e,t){let r="";return t.format&&t.indentBy.length>0&&(r=_p),ja(e,t,"",r)}function ja(e,t,r,n){let i="",s=!1;for(let o=0;o<e.length;o++){const a=e[o],u=Sp(a);let c="";if(r.length===0?c=u:c=`${r}.${u}`,u===t.textNodeName){let y=a[u];vp(c,t)||(y=t.tagValueProcessor(u,y),y=Va(y,t)),s&&(i+=n),i+=y,s=!1;continue}else if(u===t.cdataPropName){s&&(i+=n),i+=`<![CDATA[${a[u][0][t.textNodeName]}]]>`,s=!1;continue}else if(u===t.commentPropName){i+=n+`<!--${a[u][0][t.textNodeName]}-->`,s=!0;continue}else if(u[0]==="?"){const y=Ai(a[":@"],t),S=u==="?xml"?"":n;let C=a[u][0][t.textNodeName];C=C.length!==0?" "+C:"",i+=S+`<${u}${C}${y}?>`,s=!0;continue}let l=n;l!==""&&(l+=t.indentBy);const h=Ai(a[":@"],t),d=n+`<${u}${h}`,g=ja(a[u],t,c,l);t.unpairedTags.indexOf(u)!==-1?t.suppressUnpairedNode?i+=d+">":i+=d+"/>":(!g||g.length===0)&&t.suppressEmptyNode?i+=d+"/>":g&&g.endsWith(">")?i+=d+`>${g}${n}</${u}>`:(i+=d+">",g&&n!==""&&(g.includes("/>")||g.includes("</"))?i+=n+t.indentBy+g+n:i+=g,i+=`</${u}>`),s=!0}return i}function Sp(e){const t=Object.keys(e);for(let r=0;r<t.length;r++){const n=t[r];if(n!==":@")return n}}function Ai(e,t){let r="";if(e&&!t.ignoreAttributes)for(let n in e){let i=t.attributeValueProcessor(n,e[n]);i=Va(i,t),i===!0&&t.suppressBooleanAttributes?r+=` ${n.substr(t.attributeNamePrefix.length)}`:r+=` ${n.substr(t.attributeNamePrefix.length)}="${i}"`}return r}function vp(e,t){e=e.substr(0,e.length-t.textNodeName.length-1);let r=e.substr(e.lastIndexOf(".")+1);for(let n in t.stopNodes)if(t.stopNodes[n]===e||t.stopNodes[n]==="*."+r)return!0;return!1}function Va(e,t){if(e&&e.length>0&&t.processEntities)for(let r=0;r<t.entities.length;r++){const n=t.entities[r];e=e.replace(n.regex,n.val)}return e}var Ap=Ep;const xp=Ap,Rp={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function He(e){this.options=Object.assign({},Rp,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=Op),this.processTextOrObjNode=Cp,this.options.format?(this.indentate=Tp,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}He.prototype.build=function(e){return this.options.preserveOrder?xp(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)};He.prototype.j2x=function(e,t){let r="",n="";for(let i in e)if(!(typeof e[i]>"u"))if(e[i]===null)i[0]==="?"?n+=this.indentate(t)+"<"+i+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+i+"/"+this.tagEndChar;else if(e[i]instanceof Date)n+=this.buildTextValNode(e[i],i,"",t);else if(typeof e[i]!="object"){const s=this.isAttribute(i);if(s)r+=this.buildAttrPairStr(s,""+e[i]);else if(i===this.options.textNodeName){let o=this.options.tagValueProcessor(i,""+e[i]);n+=this.replaceEntitiesValue(o)}else n+=this.buildTextValNode(e[i],i,"",t)}else if(Array.isArray(e[i])){const s=e[i].length;let o="";for(let a=0;a<s;a++){const u=e[i][a];typeof u>"u"||(u===null?i[0]==="?"?n+=this.indentate(t)+"<"+i+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+i+"/"+this.tagEndChar:typeof u=="object"?this.options.oneListGroup?o+=this.j2x(u,t+1).val:o+=this.processTextOrObjNode(u,i,t):o+=this.buildTextValNode(u,i,"",t))}this.options.oneListGroup&&(o=this.buildObjectNode(o,i,"",t)),n+=o}else if(this.options.attributesGroupName&&i===this.options.attributesGroupName){const s=Object.keys(e[i]),o=s.length;for(let a=0;a<o;a++)r+=this.buildAttrPairStr(s[a],""+e[i][s[a]])}else n+=this.processTextOrObjNode(e[i],i,t);return{attrStr:r,val:n}};He.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&t==="true"?" "+e:" "+e+'="'+t+'"'};function Cp(e,t,r){const n=this.j2x(e,r+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextValNode(e[this.options.textNodeName],t,n.attrStr,r):this.buildObjectNode(n.val,t,n.attrStr,r)}He.prototype.buildObjectNode=function(e,t,r,n){if(e==="")return t[0]==="?"?this.indentate(n)+"<"+t+r+"?"+this.tagEndChar:this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar;{let i="</"+t+this.tagEndChar,s="";return t[0]==="?"&&(s="?",i=""),r&&e.indexOf("<")===-1?this.indentate(n)+"<"+t+r+s+">"+e+i:this.options.commentPropName!==!1&&t===this.options.commentPropName&&s.length===0?this.indentate(n)+`<!--${e}-->`+this.newLine:this.indentate(n)+"<"+t+r+s+this.tagEndChar+e+this.indentate(n)+i}};He.prototype.closeTag=function(e){let t="";return this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode||(t="/"):this.options.suppressEmptyNode?t="/":t=`></${e}`,t};He.prototype.buildTextValNode=function(e,t,r,n){if(this.options.cdataPropName!==!1&&t===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&t===this.options.commentPropName)return this.indentate(n)+`<!--${e}-->`+this.newLine;if(t[0]==="?")return this.indentate(n)+"<"+t+r+"?"+this.tagEndChar;{let i=this.options.tagValueProcessor(t,e);return i=this.replaceEntitiesValue(i),i===""?this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar:this.indentate(n)+"<"+t+r+">"+i+"</"+t+this.tagEndChar}};He.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){const r=this.options.entities[t];e=e.replace(r.regex,r.val)}return e};function Tp(e){return this.options.indentBy.repeat(e)}function Op(e){return e.startsWith(this.options.attributeNamePrefix)?e.substr(this.attrPrefixLen):!1}var Pp=He;const Ip=ys,Np=wp,Bp=Pp;var kp={XMLParser:Np,XMLValidator:Ip,XMLBuilder:Bp};const Ha=(e,t)=>wh(e,t).then(r=>{if(r.length){const n=new kp.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(u,c)=>c.trim()===""&&c.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let i;try{i=n.parse(r)}catch(u){throw u&&typeof u=="object"&&Object.defineProperty(u,"$responseBodyText",{value:r}),u}const s="#text",o=Object.keys(i)[0],a=i[o];return a[s]&&(a[o]=a[s],delete a[s]),oa(a)}return{}}),Mp=async(e,t)=>{const r=await Ha(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},$p=(e,t)=>{var r;if(((r=t==null?void 0:t.Error)==null?void 0:r.Code)!==void 0)return t.Error.Code;if((t==null?void 0:t.Code)!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"};class _s extends we{constructor(t){super({name:"ObjectAlreadyInActiveTierError",$fault:"client",...t}),this.name="ObjectAlreadyInActiveTierError",this.$fault="client",Object.setPrototypeOf(this,_s.prototype)}}var xi;(function(e){e.visit=(t,r)=>t.Records!==void 0?r.Records(t.Records):t.Stats!==void 0?r.Stats(t.Stats):t.Progress!==void 0?r.Progress(t.Progress):t.Cont!==void 0?r.Cont(t.Cont):t.End!==void 0?r.End(t.End):r._(t.$unknown[0],t.$unknown[1])})(xi||(xi={}));const Up=async(e,t)=>{const r=mh(e,t),n=pe({},Zp,{[eg]:e[Qp]});r.bp("/"),r.p("Bucket",()=>e.Bucket,"{Bucket}",!1);const i=pe({[Jp]:[,""]});let s;return r.m("GET").h(n).q(i).b(s),r.build()},Dp=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return Fp(e,t);const r=pe({$metadata:Pe(e)}),n=ra(hu(await Ha(e.body,t)),"body");return n[Dr]!=null&&(r[Dr]=Yp(n[Dr])),r},Fp=async(e,t)=>{const r={...e,body:await Mp(e.body,t)},n=$p(e,r.body);switch(n){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":throw await Gp(r);case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":throw await Xp(r);case"BucketAlreadyExists":case"com.amazonaws.s3#BucketAlreadyExists":throw await jp(r);case"BucketAlreadyOwnedByYou":case"com.amazonaws.s3#BucketAlreadyOwnedByYou":throw await Vp(r);case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw await qp(r);case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":throw await Hp(r);case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw await Wp(r);case"NotFound":case"com.amazonaws.s3#NotFound":throw await zp(r);case"ObjectAlreadyInActiveTierError":case"com.amazonaws.s3#ObjectAlreadyInActiveTierError":throw await Kp(r);default:const i=r.body;return Lp({output:e,parsedBody:i,errorCode:n})}},Lp=Tu(we),jp=async(e,t)=>{const r=pe({});e.body;const n=new ls({$metadata:Pe(e),...r});return Oe(n,e.body)},Vp=async(e,t)=>{const r=pe({});e.body;const n=new fs({$metadata:Pe(e),...r});return Oe(n,e.body)},Hp=async(e,t)=>{const r=pe({}),n=e.body;n[Ur]!=null&&(r[Ur]=Pt(n[Ur])),n[jr]!=null&&(r[jr]=Pt(n[jr]));const i=new hs({$metadata:Pe(e),...r});return Oe(i,e.body)},qp=async(e,t)=>{const r=pe({});e.body;const n=new ds({$metadata:Pe(e),...r});return Oe(n,e.body)},Wp=async(e,t)=>{const r=pe({});e.body;const n=new ps({$metadata:Pe(e),...r});return Oe(n,e.body)},Gp=async(e,t)=>{const r=pe({});e.body;const n=new cs({$metadata:Pe(e),...r});return Oe(n,e.body)},zp=async(e,t)=>{const r=pe({});e.body;const n=new gs({$metadata:Pe(e),...r});return Oe(n,e.body)},Kp=async(e,t)=>{const r=pe({});e.body;const n=new _s({$metadata:Pe(e),...r});return Oe(n,e.body)},Xp=async(e,t)=>{const r=pe({});e.body;const n=new us({$metadata:Pe(e),...r});return Oe(n,e.body)},Yp=(e,t)=>{const r={};return e[$r]!=null&&(r[$r]=Pt(e[$r])),e[Lr]!=null&&(r[Lr]=Pt(e[Lr])),e[Vr]!=null&&(r[Vr]=Pt(e[Vr])),e[Fr]!=null&&(r[Fr]=ra(_u(e[Fr]))),r},Pe=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Zp=e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),$r="AccessKeyId",Ur="AccessTier",Dr="Credentials",Fr="Expiration",Lr="SecretAccessKey",jr="StorageClass",Qp="SessionMode",Vr="SessionToken",Jp="session",eg="x-amz-create-session-mode";class tg extends ea.classBuilder().ep({...ph,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,r,n,i){return[Bd(n,this.serialize,this.deserialize),kd(n,t.getEndpointParameterInstructions())]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").f(void 0,yh).ser(Up).de(Dp).build(){}const rg="@aws-sdk/client-s3",ng="AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",sg="3.535.0",ig={build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-s3","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"yarn test:unit","test:e2e":"yarn test:e2e:node && yarn test:e2e:browser","test:e2e:browser":"ts-mocha test/**/*.browser.ispec.ts && karma start karma.conf.js","test:e2e:node":"jest --c jest.config.e2e.js","test:unit":"ts-mocha test/unit/**/*.spec.ts"},og="./dist-cjs/index.js",ag="./dist-types/index.d.ts",cg="./dist-es/index.js",ug=!1,lg={"@aws-crypto/sha1-browser":"3.0.0","@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.535.0","@aws-sdk/core":"3.535.0","@aws-sdk/credential-provider-node":"3.535.0","@aws-sdk/middleware-bucket-endpoint":"3.535.0","@aws-sdk/middleware-expect-continue":"3.535.0","@aws-sdk/middleware-flexible-checksums":"3.535.0","@aws-sdk/middleware-host-header":"3.535.0","@aws-sdk/middleware-location-constraint":"3.535.0","@aws-sdk/middleware-logger":"3.535.0","@aws-sdk/middleware-recursion-detection":"3.535.0","@aws-sdk/middleware-sdk-s3":"3.535.0","@aws-sdk/middleware-signing":"3.535.0","@aws-sdk/middleware-ssec":"3.535.0","@aws-sdk/middleware-user-agent":"3.535.0","@aws-sdk/region-config-resolver":"3.535.0","@aws-sdk/signature-v4-multi-region":"3.535.0","@aws-sdk/types":"3.535.0","@aws-sdk/util-endpoints":"3.535.0","@aws-sdk/util-user-agent-browser":"3.535.0","@aws-sdk/util-user-agent-node":"3.535.0","@aws-sdk/xml-builder":"3.535.0","@smithy/config-resolver":"^2.2.0","@smithy/core":"^1.4.0","@smithy/eventstream-serde-browser":"^2.2.0","@smithy/eventstream-serde-config-resolver":"^2.2.0","@smithy/eventstream-serde-node":"^2.2.0","@smithy/fetch-http-handler":"^2.5.0","@smithy/hash-blob-browser":"^2.2.0","@smithy/hash-node":"^2.2.0","@smithy/hash-stream-node":"^2.2.0","@smithy/invalid-dependency":"^2.2.0","@smithy/md5-js":"^2.2.0","@smithy/middleware-content-length":"^2.2.0","@smithy/middleware-endpoint":"^2.5.0","@smithy/middleware-retry":"^2.2.0","@smithy/middleware-serde":"^2.3.0","@smithy/middleware-stack":"^2.2.0","@smithy/node-config-provider":"^2.3.0","@smithy/node-http-handler":"^2.5.0","@smithy/protocol-http":"^3.3.0","@smithy/smithy-client":"^2.5.0","@smithy/types":"^2.12.0","@smithy/url-parser":"^2.2.0","@smithy/util-base64":"^2.3.0","@smithy/util-body-length-browser":"^2.2.0","@smithy/util-body-length-node":"^2.3.0","@smithy/util-defaults-mode-browser":"^2.2.0","@smithy/util-defaults-mode-node":"^2.3.0","@smithy/util-endpoints":"^1.2.0","@smithy/util-retry":"^2.2.0","@smithy/util-stream":"^2.2.0","@smithy/util-utf8":"^2.3.0","@smithy/util-waiter":"^2.2.0",tslib:"^2.6.2"},fg={"@aws-sdk/signature-v4-crt":"3.535.0","@smithy/service-client-documentation-generator":"^2.2.0","@tsconfig/node14":"1.0.3","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~4.9.5"},dg={node:">=14.0.0"},hg={"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},pg=["dist-*/**"],gg={name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},yg="Apache-2.0",mg={"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},bg="https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",wg={type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"},_g={name:rg,description:ng,version:sg,scripts:ig,main:og,types:ag,module:cg,sideEffects:ug,dependencies:lg,devDependencies:fg,engines:dg,typesVersions:hg,files:pg,author:gg,license:yg,browser:mg,"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:bg,repository:wg};var qa={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Un=function(e,t){return Un=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Un(e,t)};function Eg(e,t){Un(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Dn=function(){return Dn=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Dn.apply(this,arguments)};function Sg(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function vg(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function Ag(e,t){return function(r,n){t(r,n,e)}}function xg(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Rg(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(h){o(h)}}function u(l){try{c(n.throw(l))}catch(h){o(h)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function Cg(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Tg(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function Og(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Fn(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Wa(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function Pg(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Wa(arguments[t]));return e}function Ig(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function $t(e){return this instanceof $t?(this.v=e,this):new $t(e)}function Ng(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){n[d]&&(i[d]=function(g){return new Promise(function(y,S){s.push([d,g,y,S])>1||a(d,g)})})}function a(d,g){try{u(n[d](g))}catch(y){h(s[0][3],y)}}function u(d){d.value instanceof $t?Promise.resolve(d.value.v).then(c,l):h(s[0][2],d)}function c(d){a("next",d)}function l(d){a("throw",d)}function h(d,g){d(g),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Bg(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:$t(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function kg(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Fn=="function"?Fn(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function Mg(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function $g(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function Ug(e){return e&&e.__esModule?e:{default:e}}function Dg(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function Fg(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const Lg=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Dn},__asyncDelegator:Bg,__asyncGenerator:Ng,__asyncValues:kg,__await:$t,__awaiter:Rg,__classPrivateFieldGet:Dg,__classPrivateFieldSet:Fg,__createBinding:Tg,__decorate:vg,__exportStar:Og,__extends:Eg,__generator:Cg,__importDefault:Ug,__importStar:$g,__makeTemplateObject:Mg,__metadata:xg,__param:Ag,__read:Wa,__rest:Sg,__spread:Pg,__spreadArrays:Ig,__values:Fn},Symbol.toStringTag,{value:"Module"})),jg=Ve(Lg);var pt={},gt={},yt={},Ri;function Ga(){if(Ri)return yt;Ri=1,Object.defineProperty(yt,"__esModule",{value:!0}),yt.isEmptyData=void 0;function e(t){return typeof t=="string"?t.length===0:t.byteLength===0}return yt.isEmptyData=e,yt}var Hr={},Ci;function za(){return Ci||(Ci=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_DATA_SHA_1=e.SHA_1_HMAC_ALGO=e.SHA_1_HASH=void 0,e.SHA_1_HASH={name:"SHA-1"},e.SHA_1_HMAC_ALGO={name:"HMAC",hash:e.SHA_1_HASH},e.EMPTY_DATA_SHA_1=new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9])}(Hr)),Hr}const Vg={};function Hg(){return typeof window<"u"?window:typeof self<"u"?self:Vg}const qg=Object.freeze(Object.defineProperty({__proto__:null,locateWindow:Hg},Symbol.toStringTag,{value:"Module"})),ot=Ve(qg);var Ti;function Ka(){if(Ti)return gt;Ti=1,Object.defineProperty(gt,"__esModule",{value:!0}),gt.Sha1=void 0;var e=Ga(),t=za(),r=_r,n=ot,i=function(){function a(u){this.secret=u,this.reset()}return a.prototype.update=function(u){var c=this;(0,e.isEmptyData)(u)||(this.operation=this.operation.then(function(l){return l.onerror=function(){c.operation=Promise.reject(new Error("Error encountered updating hash"))},l.process(o(u)),l}),this.operation.catch(function(){}))},a.prototype.digest=function(){return this.operation.then(function(u){return new Promise(function(c,l){u.onerror=function(){l(new Error("Error encountered finalizing hash"))},u.oncomplete=function(){u.result&&c(new Uint8Array(u.result)),l(new Error("Error encountered finalizing hash"))},u.finish()})})},a.prototype.reset=function(){this.secret?(this.operation=s(this.secret).then(function(u){return(0,n.locateWindow)().msCrypto.subtle.sign(t.SHA_1_HMAC_ALGO,u)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,n.locateWindow)().msCrypto.subtle.digest("SHA-1"))},a}();gt.Sha1=i;function s(a){return new Promise(function(u,c){var l=(0,n.locateWindow)().msCrypto.subtle.importKey("raw",o(a),t.SHA_1_HMAC_ALGO,!1,["sign"]);l.oncomplete=function(){l.result&&u(l.result),c(new Error("ImportKey completed without importing key."))},l.onerror=function(){c(new Error("ImportKey failed to import key."))}})}function o(a){return typeof a=="string"?(0,r.fromUtf8)(a):ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(a)}return gt}var mt={},Oi;function Xa(){if(Oi)return mt;Oi=1,Object.defineProperty(mt,"__esModule",{value:!0}),mt.Sha1=void 0;var e=_r,t=Ga(),r=za(),n=ot,i=function(){function o(a){this.toHash=new Uint8Array(0),a!==void 0&&(this.key=new Promise(function(u,c){(0,n.locateWindow)().crypto.subtle.importKey("raw",s(a),r.SHA_1_HMAC_ALGO,!1,["sign"]).then(u,c)}),this.key.catch(function(){}))}return o.prototype.update=function(a){if(!(0,t.isEmptyData)(a)){var u=s(a),c=new Uint8Array(this.toHash.byteLength+u.byteLength);c.set(this.toHash,0),c.set(u,this.toHash.byteLength),this.toHash=c}},o.prototype.digest=function(){var a=this;return this.key?this.key.then(function(u){return(0,n.locateWindow)().crypto.subtle.sign(r.SHA_1_HMAC_ALGO,u,a.toHash).then(function(c){return new Uint8Array(c)})}):(0,t.isEmptyData)(this.toHash)?Promise.resolve(r.EMPTY_DATA_SHA_1):Promise.resolve().then(function(){return(0,n.locateWindow)().crypto.subtle.digest(r.SHA_1_HASH,a.toHash)}).then(function(u){return Promise.resolve(new Uint8Array(u))})},o.prototype.reset=function(){this.toHash=new Uint8Array(0)},o}();mt.Sha1=i;function s(o){return typeof o=="string"?(0,e.fromUtf8)(o):ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(o)}return mt}var qr={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ln=function(e,t){return Ln=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Ln(e,t)};function Wg(e,t){Ln(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var jn=function(){return jn=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},jn.apply(this,arguments)};function Gg(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function zg(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function Kg(e,t){return function(r,n){t(r,n,e)}}function Xg(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Yg(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(h){o(h)}}function u(l){try{c(n.throw(l))}catch(h){o(h)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function Zg(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Qg(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function Jg(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Vn(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ya(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function ey(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ya(arguments[t]));return e}function ty(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Ut(e){return this instanceof Ut?(this.v=e,this):new Ut(e)}function ry(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){n[d]&&(i[d]=function(g){return new Promise(function(y,S){s.push([d,g,y,S])>1||a(d,g)})})}function a(d,g){try{u(n[d](g))}catch(y){h(s[0][3],y)}}function u(d){d.value instanceof Ut?Promise.resolve(d.value.v).then(c,l):h(s[0][2],d)}function c(d){a("next",d)}function l(d){a("throw",d)}function h(d,g){d(g),s.shift(),s.length&&a(s[0][0],s[0][1])}}function ny(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:Ut(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function sy(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Vn=="function"?Vn(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function iy(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function oy(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function ay(e){return e&&e.__esModule?e:{default:e}}function cy(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function uy(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const ly=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return jn},__asyncDelegator:ny,__asyncGenerator:ry,__asyncValues:sy,__await:Ut,__awaiter:Yg,__classPrivateFieldGet:cy,__classPrivateFieldSet:uy,__createBinding:Qg,__decorate:zg,__exportStar:Jg,__extends:Wg,__generator:Zg,__importDefault:ay,__importStar:oy,__makeTemplateObject:iy,__metadata:Xg,__param:Kg,__read:Ya,__rest:Gg,__spread:ey,__spreadArrays:ty,__values:Vn},Symbol.toStringTag,{value:"Module"})),Za=Ve(ly);var _e={},Pi;function fy(){if(Pi)return _e;Pi=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.supportsZeroByteGCM=_e.supportsSubtleCrypto=_e.supportsSecureRandom=_e.supportsWebCrypto=void 0;var e=Za,t=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function r(o){if(n(o)&&typeof o.crypto.subtle=="object"){var a=o.crypto.subtle;return i(a)}return!1}_e.supportsWebCrypto=r;function n(o){if(typeof o=="object"&&typeof o.crypto=="object"){var a=o.crypto.getRandomValues;return typeof a=="function"}return!1}_e.supportsSecureRandom=n;function i(o){return o&&t.every(function(a){return typeof o[a]=="function"})}_e.supportsSubtleCrypto=i;function s(o){return e.__awaiter(this,void 0,void 0,function(){var a,u;return e.__generator(this,function(c){switch(c.label){case 0:if(!i(o))return[2,!1];c.label=1;case 1:return c.trys.push([1,4,,5]),[4,o.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return a=c.sent(),[4,o.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},a,new Uint8Array(0))];case 3:return u=c.sent(),[2,u.byteLength===16];case 4:return c.sent(),[2,!1];case 5:return[2]}})})}return _e.supportsZeroByteGCM=s,_e}var Ii;function Qa(){return Ii||(Ii=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Za;t.__exportStar(fy(),e)}(qr)),qr}var Wr={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Hn=function(e,t){return Hn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Hn(e,t)};function dy(e,t){Hn(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var qn=function(){return qn=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},qn.apply(this,arguments)};function hy(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function py(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function gy(e,t){return function(r,n){t(r,n,e)}}function yy(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function my(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(h){o(h)}}function u(l){try{c(n.throw(l))}catch(h){o(h)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function by(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function wy(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function _y(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Wn(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ja(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function Ey(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ja(arguments[t]));return e}function Sy(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Dt(e){return this instanceof Dt?(this.v=e,this):new Dt(e)}function vy(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){n[d]&&(i[d]=function(g){return new Promise(function(y,S){s.push([d,g,y,S])>1||a(d,g)})})}function a(d,g){try{u(n[d](g))}catch(y){h(s[0][3],y)}}function u(d){d.value instanceof Dt?Promise.resolve(d.value.v).then(c,l):h(s[0][2],d)}function c(d){a("next",d)}function l(d){a("throw",d)}function h(d,g){d(g),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Ay(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:Dt(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function xy(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Wn=="function"?Wn(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function Ry(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function Cy(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function Ty(e){return e&&e.__esModule?e:{default:e}}function Oy(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function Py(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const Iy=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return qn},__asyncDelegator:Ay,__asyncGenerator:vy,__asyncValues:xy,__await:Dt,__awaiter:my,__classPrivateFieldGet:Oy,__classPrivateFieldSet:Py,__createBinding:wy,__decorate:py,__exportStar:_y,__extends:dy,__generator:by,__importDefault:Ty,__importStar:Cy,__makeTemplateObject:Ry,__metadata:yy,__param:gy,__read:Ja,__rest:hy,__spread:Ey,__spreadArrays:Sy,__values:Wn},Symbol.toStringTag,{value:"Module"})),Ny=Ve(Iy);var Gr={},Ni;function By(){return Ni||(Ni=1,Object.defineProperty(Gr,"__esModule",{value:!0})),Gr}var zr={},Bi;function ky(){return Bi||(Bi=1,Object.defineProperty(zr,"__esModule",{value:!0})),zr}var Kr={},ki;function My(){return ki||(ki=1,Object.defineProperty(Kr,"__esModule",{value:!0})),Kr}var Xr={},Mi;function $y(){return Mi||(Mi=1,Object.defineProperty(Xr,"__esModule",{value:!0})),Xr}var bt={},$i;function Uy(){if($i)return bt;$i=1,Object.defineProperty(bt,"__esModule",{value:!0}),bt.isMsWindow=void 0;var e=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function t(n){return"MSInputMethodContext"in n&&"msCrypto"in n}function r(n){if(t(n)&&n.msCrypto.subtle!==void 0){var i=n.msCrypto,s=i.getRandomValues,o=i.subtle;return e.map(function(a){return o[a]}).concat(s).every(function(a){return typeof a=="function"})}return!1}return bt.isMsWindow=r,bt}var Ui;function ec(){return Ui||(Ui=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Ny;t.__exportStar(By(),e),t.__exportStar(ky(),e),t.__exportStar(My(),e),t.__exportStar($y(),e),t.__exportStar(Uy(),e)}(Wr)),Wr}var Di;function Dy(){if(Di)return pt;Di=1,Object.defineProperty(pt,"__esModule",{value:!0}),pt.Sha1=void 0;var e=Ka(),t=Xa(),r=Qa(),n=ec(),i=ot,s=it(),o=function(){function a(u){if((0,r.supportsWebCrypto)((0,i.locateWindow)()))this.hash=new t.Sha1(u);else if((0,n.isMsWindow)((0,i.locateWindow)()))this.hash=new e.Sha1(u);else throw new Error("SHA1 not supported")}return a.prototype.update=function(u,c){this.hash.update((0,s.convertToBuffer)(u))},a.prototype.digest=function(){return this.hash.digest()},a.prototype.reset=function(){this.hash.reset()},a}();return pt.Sha1=o,pt}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WebCryptoSha1=e.Ie11Sha1=void 0;var t=jg;t.__exportStar(Dy(),e);var r=Ka();Object.defineProperty(e,"Ie11Sha1",{enumerable:!0,get:function(){return r.Sha1}});var n=Xa();Object.defineProperty(e,"WebCryptoSha1",{enumerable:!0,get:function(){return n.Sha1}})})(qa);var tc={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Gn=function(e,t){return Gn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Gn(e,t)};function Fy(e,t){Gn(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var zn=function(){return zn=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},zn.apply(this,arguments)};function Ly(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function jy(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function Vy(e,t){return function(r,n){t(r,n,e)}}function Hy(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function qy(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(h){o(h)}}function u(l){try{c(n.throw(l))}catch(h){o(h)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function Wy(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Gy(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function zy(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Kn(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function rc(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function Ky(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(rc(arguments[t]));return e}function Xy(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Ft(e){return this instanceof Ft?(this.v=e,this):new Ft(e)}function Yy(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){n[d]&&(i[d]=function(g){return new Promise(function(y,S){s.push([d,g,y,S])>1||a(d,g)})})}function a(d,g){try{u(n[d](g))}catch(y){h(s[0][3],y)}}function u(d){d.value instanceof Ft?Promise.resolve(d.value.v).then(c,l):h(s[0][2],d)}function c(d){a("next",d)}function l(d){a("throw",d)}function h(d,g){d(g),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Zy(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:Ft(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function Qy(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Kn=="function"?Kn(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function Jy(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function em(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function tm(e){return e&&e.__esModule?e:{default:e}}function rm(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function nm(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const sm=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return zn},__asyncDelegator:Zy,__asyncGenerator:Yy,__asyncValues:Qy,__await:Ft,__awaiter:qy,__classPrivateFieldGet:rm,__classPrivateFieldSet:nm,__createBinding:Gy,__decorate:jy,__exportStar:zy,__extends:Fy,__generator:Wy,__importDefault:tm,__importStar:em,__makeTemplateObject:Jy,__metadata:Hy,__param:Vy,__read:rc,__rest:Ly,__spread:Ky,__spreadArrays:Xy,__values:Kn},Symbol.toStringTag,{value:"Module"})),im=Ve(sm);var wt={},_t={},Et={},Fi;function om(){if(Fi)return Et;Fi=1,Object.defineProperty(Et,"__esModule",{value:!0}),Et.isEmptyData=void 0;function e(t){return typeof t=="string"?t.length===0:t.byteLength===0}return Et.isEmptyData=e,Et}var Yr={},Li;function nc(){return Li||(Li=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_DATA_SHA_256=e.SHA_256_HMAC_ALGO=e.SHA_256_HASH=void 0,e.SHA_256_HASH={name:"SHA-256"},e.SHA_256_HMAC_ALGO={name:"HMAC",hash:e.SHA_256_HASH},e.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])}(Yr)),Yr}var ji;function sc(){if(ji)return _t;ji=1,Object.defineProperty(_t,"__esModule",{value:!0}),_t.Sha256=void 0;var e=om(),t=nc(),r=_r,n=ot,i=function(){function a(u){this.secret=u,this.reset()}return a.prototype.update=function(u){var c=this;(0,e.isEmptyData)(u)||(this.operation=this.operation.then(function(l){return l.onerror=function(){c.operation=Promise.reject(new Error("Error encountered updating hash"))},l.process(o(u)),l}),this.operation.catch(function(){}))},a.prototype.digest=function(){return this.operation.then(function(u){return new Promise(function(c,l){u.onerror=function(){l(new Error("Error encountered finalizing hash"))},u.oncomplete=function(){u.result&&c(new Uint8Array(u.result)),l(new Error("Error encountered finalizing hash"))},u.finish()})})},a.prototype.reset=function(){this.secret?(this.operation=s(this.secret).then(function(u){return(0,n.locateWindow)().msCrypto.subtle.sign(t.SHA_256_HMAC_ALGO,u)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,n.locateWindow)().msCrypto.subtle.digest("SHA-256"))},a}();_t.Sha256=i;function s(a){return new Promise(function(u,c){var l=(0,n.locateWindow)().msCrypto.subtle.importKey("raw",o(a),t.SHA_256_HMAC_ALGO,!1,["sign"]);l.oncomplete=function(){l.result&&u(l.result),c(new Error("ImportKey completed without importing key."))},l.onerror=function(){c(new Error("ImportKey failed to import key."))}})}function o(a){return typeof a=="string"?(0,r.fromUtf8)(a):ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(a)}return _t}var St={},Vi;function ic(){if(Vi)return St;Vi=1,Object.defineProperty(St,"__esModule",{value:!0}),St.Sha256=void 0;var e=it(),t=nc(),r=ot,n=function(){function i(s){this.toHash=new Uint8Array(0),this.secret=s,this.reset()}return i.prototype.update=function(s){if(!(0,e.isEmptyData)(s)){var o=(0,e.convertToBuffer)(s),a=new Uint8Array(this.toHash.byteLength+o.byteLength);a.set(this.toHash,0),a.set(o,this.toHash.byteLength),this.toHash=a}},i.prototype.digest=function(){var s=this;return this.key?this.key.then(function(o){return(0,r.locateWindow)().crypto.subtle.sign(t.SHA_256_HMAC_ALGO,o,s.toHash).then(function(a){return new Uint8Array(a)})}):(0,e.isEmptyData)(this.toHash)?Promise.resolve(t.EMPTY_DATA_SHA_256):Promise.resolve().then(function(){return(0,r.locateWindow)().crypto.subtle.digest(t.SHA_256_HASH,s.toHash)}).then(function(o){return Promise.resolve(new Uint8Array(o))})},i.prototype.reset=function(){var s=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(o,a){(0,r.locateWindow)().crypto.subtle.importKey("raw",(0,e.convertToBuffer)(s.secret),t.SHA_256_HMAC_ALGO,!1,["sign"]).then(o,a)}),this.key.catch(function(){}))},i}();return St.Sha256=n,St}var Zr={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Xn=function(e,t){return Xn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Xn(e,t)};function am(e,t){Xn(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Yn=function(){return Yn=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Yn.apply(this,arguments)};function cm(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function um(e,t,r,n){var i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s}function lm(e,t){return function(r,n){t(r,n,e)}}function fm(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function dm(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{c(n.next(l))}catch(h){o(h)}}function u(l){try{c(n.throw(l))}catch(h){o(h)}}function c(l){l.done?s(l.value):i(l.value).then(a,u)}c((n=n.apply(e,t||[])).next())})}function hm(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(l){c=[6,l],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function pm(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function gm(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Zn(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function oc(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function ym(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(oc(arguments[t]));return e}function mm(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Lt(e){return this instanceof Lt?(this.v=e,this):new Lt(e)}function bm(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){n[d]&&(i[d]=function(g){return new Promise(function(y,S){s.push([d,g,y,S])>1||a(d,g)})})}function a(d,g){try{u(n[d](g))}catch(y){h(s[0][3],y)}}function u(d){d.value instanceof Lt?Promise.resolve(d.value.v).then(c,l):h(s[0][2],d)}function c(d){a("next",d)}function l(d){a("throw",d)}function h(d,g){d(g),s.shift(),s.length&&a(s[0][0],s[0][1])}}function wm(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=e[i]?function(o){return(r=!r)?{value:Lt(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function _m(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Zn=="function"?Zn(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,u){o=e[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function Em(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function Sm(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function vm(e){return e&&e.__esModule?e:{default:e}}function Am(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function xm(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}const Rm=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Yn},__asyncDelegator:wm,__asyncGenerator:bm,__asyncValues:_m,__await:Lt,__awaiter:dm,__classPrivateFieldGet:Am,__classPrivateFieldSet:xm,__createBinding:pm,__decorate:um,__exportStar:gm,__extends:am,__generator:hm,__importDefault:vm,__importStar:Sm,__makeTemplateObject:Em,__metadata:fm,__param:lm,__read:oc,__rest:cm,__spread:ym,__spreadArrays:mm,__values:Zn},Symbol.toStringTag,{value:"Module"})),ac=Ve(Rm);var vt={},de={},Hi;function cc(){return Hi||(Hi=1,Object.defineProperty(de,"__esModule",{value:!0}),de.MAX_HASHABLE_LENGTH=de.INIT=de.KEY=de.DIGEST_LENGTH=de.BLOCK_SIZE=void 0,de.BLOCK_SIZE=64,de.DIGEST_LENGTH=32,de.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),de.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],de.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1),de}var At={},qi;function Cm(){if(qi)return At;qi=1,Object.defineProperty(At,"__esModule",{value:!0}),At.RawSha256=void 0;var e=cc(),t=function(){function r(){this.state=Int32Array.from(e.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return r.prototype.update=function(n){if(this.finished)throw new Error("Attempted to update an already finished hash.");var i=0,s=n.byteLength;if(this.bytesHashed+=s,this.bytesHashed*8>e.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;s>0;)this.buffer[this.bufferLength++]=n[i++],s--,this.bufferLength===e.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},r.prototype.digest=function(){if(!this.finished){var n=this.bytesHashed*8,i=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),s=this.bufferLength;if(i.setUint8(this.bufferLength++,128),s%e.BLOCK_SIZE>=e.BLOCK_SIZE-8){for(var o=this.bufferLength;o<e.BLOCK_SIZE;o++)i.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(var o=this.bufferLength;o<e.BLOCK_SIZE-8;o++)i.setUint8(o,0);i.setUint32(e.BLOCK_SIZE-8,Math.floor(n/4294967296),!0),i.setUint32(e.BLOCK_SIZE-4,n),this.hashBuffer(),this.finished=!0}for(var a=new Uint8Array(e.DIGEST_LENGTH),o=0;o<8;o++)a[o*4]=this.state[o]>>>24&255,a[o*4+1]=this.state[o]>>>16&255,a[o*4+2]=this.state[o]>>>8&255,a[o*4+3]=this.state[o]>>>0&255;return a},r.prototype.hashBuffer=function(){for(var n=this,i=n.buffer,s=n.state,o=s[0],a=s[1],u=s[2],c=s[3],l=s[4],h=s[5],d=s[6],g=s[7],y=0;y<e.BLOCK_SIZE;y++){if(y<16)this.temp[y]=(i[y*4]&255)<<24|(i[y*4+1]&255)<<16|(i[y*4+2]&255)<<8|i[y*4+3]&255;else{var S=this.temp[y-2],C=(S>>>17|S<<15)^(S>>>19|S<<13)^S>>>10;S=this.temp[y-15];var I=(S>>>7|S<<25)^(S>>>18|S<<14)^S>>>3;this.temp[y]=(C+this.temp[y-7]|0)+(I+this.temp[y-16]|0)}var M=(((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))+(l&h^~l&d)|0)+(g+(e.KEY[y]+this.temp[y]|0)|0)|0,j=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&a^o&u^a&u)|0;g=d,d=h,h=l,l=c+M|0,c=u,u=a,a=o,o=M+j|0}s[0]+=o,s[1]+=a,s[2]+=u,s[3]+=c,s[4]+=l,s[5]+=h,s[6]+=d,s[7]+=g},r}();return At.RawSha256=t,At}var Wi;function Tm(){if(Wi)return vt;Wi=1,Object.defineProperty(vt,"__esModule",{value:!0}),vt.Sha256=void 0;var e=ac,t=cc(),r=Cm(),n=it(),i=function(){function o(a){this.secret=a,this.hash=new r.RawSha256,this.reset()}return o.prototype.update=function(a){if(!((0,n.isEmptyData)(a)||this.error))try{this.hash.update((0,n.convertToBuffer)(a))}catch(u){this.error=u}},o.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},o.prototype.digest=function(){return e.__awaiter(this,void 0,void 0,function(){return e.__generator(this,function(a){return[2,this.digestSync()]})})},o.prototype.reset=function(){if(this.hash=new r.RawSha256,this.secret){this.outer=new r.RawSha256;var a=s(this.secret),u=new Uint8Array(t.BLOCK_SIZE);u.set(a);for(var c=0;c<t.BLOCK_SIZE;c++)a[c]^=54,u[c]^=92;this.hash.update(a),this.outer.update(u);for(var c=0;c<a.byteLength;c++)a[c]=0}},o}();vt.Sha256=i;function s(o){var a=(0,n.convertToBuffer)(o);if(a.byteLength>t.BLOCK_SIZE){var u=new r.RawSha256;u.update(a),a=u.digest()}var c=new Uint8Array(t.BLOCK_SIZE);return c.set(a),c}return vt}var Gi;function Om(){return Gi||(Gi=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=ac;t.__exportStar(Tm(),e)}(Zr)),Zr}var zi;function Pm(){if(zi)return wt;zi=1,Object.defineProperty(wt,"__esModule",{value:!0}),wt.Sha256=void 0;var e=sc(),t=ic(),r=Om(),n=Qa(),i=ec(),s=ot,o=it(),a=function(){function u(c){(0,n.supportsWebCrypto)((0,s.locateWindow)())?this.hash=new t.Sha256(c):(0,i.isMsWindow)((0,s.locateWindow)())?this.hash=new e.Sha256(c):this.hash=new r.Sha256(c)}return u.prototype.update=function(c,l){this.hash.update((0,o.convertToBuffer)(c))},u.prototype.digest=function(){return this.hash.digest()},u.prototype.reset=function(){this.hash.reset()},u}();return wt.Sha256=a,wt}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WebCryptoSha256=e.Ie11Sha256=void 0;var t=im;t.__exportStar(Pm(),e);var r=sc();Object.defineProperty(e,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var n=ic();Object.defineProperty(e,"WebCryptoSha256",{enumerable:!0,get:function(){return n.Sha256}})})(tc);const Im={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},uc={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},V={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},ae={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Fe={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class w{static getFirstMatch(t,r){const n=r.match(t);return n&&n.length>0&&n[1]||""}static getSecondMatch(t,r){const n=r.match(t);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(t,r,n){if(t.test(r))return n}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),r[0]===10)switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),!(r[0]===1&&r[1]<5)){if(r[0]===1&&r[1]<6)return"Cupcake";if(r[0]===1&&r[1]>=6)return"Donut";if(r[0]===2&&r[1]<2)return"Eclair";if(r[0]===2&&r[1]===2)return"Froyo";if(r[0]===2&&r[1]>2)return"Gingerbread";if(r[0]===3)return"Honeycomb";if(r[0]===4&&r[1]<1)return"Ice Cream Sandwich";if(r[0]===4&&r[1]<4)return"Jelly Bean";if(r[0]===4&&r[1]>=4)return"KitKat";if(r[0]===5)return"Lollipop";if(r[0]===6)return"Marshmallow";if(r[0]===7)return"Nougat";if(r[0]===8)return"Oreo";if(r[0]===9)return"Pie"}}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,r,n=!1){const i=w.getVersionPrecision(t),s=w.getVersionPrecision(r);let o=Math.max(i,s),a=0;const u=w.map([t,r],c=>{const l=o-w.getVersionPrecision(c),h=c+new Array(l+1).join(".0");return w.map(h.split("."),d=>new Array(20-d.length).join("0")+d).reverse()});for(n&&(a=o-Math.min(i,s)),o-=1;o>=a;){if(u[0][o]>u[1][o])return 1;if(u[0][o]===u[1][o]){if(o===a)return 0;o-=1}else if(u[0][o]<u[1][o])return-1}}static map(t,r){const n=[];let i;if(Array.prototype.map)return Array.prototype.map.call(t,r);for(i=0;i<t.length;i+=1)n.push(r(t[i]));return n}static find(t,r){let n,i;if(Array.prototype.find)return Array.prototype.find.call(t,r);for(n=0,i=t.length;n<i;n+=1){const s=t[n];if(r(s,n))return s}}static assign(t,...r){const n=t;let i,s;if(Object.assign)return Object.assign(t,...r);for(i=0,s=r.length;i<s;i+=1){const o=r[i];typeof o=="object"&&o!==null&&Object.keys(o).forEach(u=>{n[u]=o[u]})}return t}static getBrowserAlias(t){return Im[t]}static getBrowserTypeByAlias(t){return uc[t]||""}}const $=/version\/(\d+(\.?_?\d+)+)/i,Nm=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},r=w.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||w.getFirstMatch($,e);return r&&(t.version=r),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},r=w.getFirstMatch($,e)||w.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},r=w.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||w.getFirstMatch($,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},r=w.getFirstMatch($,e)||w.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},r=w.getFirstMatch($,e)||w.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},r=w.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||w.getFirstMatch($,e);return r&&(t.version=r),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},r=w.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||w.getFirstMatch($,e);return r&&(t.version=r),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},r=w.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||w.getFirstMatch($,e);return r&&(t.version=r),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},r=w.getFirstMatch($,e)||w.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},r=w.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||w.getFirstMatch($,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},r=w.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||w.getFirstMatch($,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},r=w.getFirstMatch($,e)||w.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},r=w.getFirstMatch($,e)||w.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},r=w.getFirstMatch($,e)||w.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},r=w.getFirstMatch($,e)||w.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},r=w.getFirstMatch($,e)||w.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},r=w.getFirstMatch($,e)||w.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},r=w.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||w.getFirstMatch($,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=w.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||w.getFirstMatch($,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},r=w.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},r=w.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},r=w.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},r=w.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},r=w.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},r=w.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},r=w.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},r=w.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},r=w.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},r=w.getFirstMatch($,e)||w.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},r=w.getFirstMatch($,e)||w.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},r=w.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},r=w.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||w.getFirstMatch($,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},r=w.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||w.getFirstMatch($,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},r=w.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},r=w.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},r=w.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},r=w.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||w.getFirstMatch($,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},r=w.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},r=w.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t={name:"Android Browser"},r=w.getFirstMatch($,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},r=w.getFirstMatch($,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},r=w.getFirstMatch($,e);return r&&(t.version=r),t}},{test:[/.*/i],describe(e){const t=/^(.*)\/(.*) /,r=/^(.*)\/(.*)[ \t]\((.*)/,i=e.search("\\(")!==-1?r:t;return{name:w.getFirstMatch(i,e),version:w.getSecondMatch(i,e)}}}],Bm=[{test:[/Roku\/DVP/],describe(e){const t=w.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:ae.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=w.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:ae.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=w.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=w.getWindowsVersionName(t);return{name:ae.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:ae.iOS},r=w.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe(e){const t=w.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=w.getMacOSVersionName(t),n={name:ae.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=w.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:ae.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t=w.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=w.getAndroidVersionName(t),n={name:ae.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=w.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:ae.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=w.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||w.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||w.getFirstMatch(/\bbb(\d+)/i,e);return{name:ae.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=w.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:ae.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=w.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:ae.Tizen,version:t}}},{test:[/linux/i],describe(){return{name:ae.Linux}}},{test:[/CrOS/],describe(){return{name:ae.ChromeOS}}},{test:[/PlayStation 4/],describe(e){const t=w.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:ae.PlayStation4,version:t}}}],km=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(e){const t=w.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:V.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:V.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:V.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:V.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:V.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:V.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:V.tablet}}},{test(e){const t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe(e){const t=w.getFirstMatch(/(ipod|iphone)/i,e);return{type:V.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:V.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:V.mobile}}},{test(e){return e.getBrowserName(!0)==="blackberry"},describe(){return{type:V.mobile,vendor:"BlackBerry"}}},{test(e){return e.getBrowserName(!0)==="bada"},describe(){return{type:V.mobile}}},{test(e){return e.getBrowserName()==="windows phone"},describe(){return{type:V.mobile,vendor:"Microsoft"}}},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe(){return{type:V.tablet}}},{test(e){return e.getOSName(!0)==="android"},describe(){return{type:V.mobile}}},{test(e){return e.getOSName(!0)==="macos"},describe(){return{type:V.desktop,vendor:"Apple"}}},{test(e){return e.getOSName(!0)==="windows"},describe(){return{type:V.desktop}}},{test(e){return e.getOSName(!0)==="linux"},describe(){return{type:V.desktop}}},{test(e){return e.getOSName(!0)==="playstation 4"},describe(){return{type:V.tv}}},{test(e){return e.getOSName(!0)==="roku"},describe(){return{type:V.tv}}}],Mm=[{test(e){return e.getBrowserName(!0)==="microsoft edge"},describe(e){if(/\sedg\//i.test(e))return{name:Fe.Blink};const r=w.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:Fe.EdgeHTML,version:r}}},{test:[/trident/i],describe(e){const t={name:Fe.Trident},r=w.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){return e.test(/presto/i)},describe(e){const t={name:Fe.Presto},r=w.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe(e){const t={name:Fe.Gecko},r=w.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:Fe.Blink}}},{test:[/(apple)?webkit/i],describe(e){const t={name:Fe.WebKit},r=w.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];class Ki{constructor(t,r=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},r!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=w.find(Nm,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=w.find(Bm,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:r}=this.getOS();return t?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:r}=this.getPlatform();return t?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const t=w.find(km,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=w.find(Mm,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return w.assign({},this.parsedResult)}satisfies(t){const r={};let n=0;const i={};let s=0;if(Object.keys(t).forEach(a=>{const u=t[a];typeof u=="string"?(i[a]=u,s+=1):typeof u=="object"&&(r[a]=u,n+=1)}),n>0){const a=Object.keys(r),u=w.find(a,l=>this.isOS(l));if(u){const l=this.satisfies(r[u]);if(l!==void 0)return l}const c=w.find(a,l=>this.isPlatform(l));if(c){const l=this.satisfies(r[c]);if(l!==void 0)return l}}if(s>0){const a=Object.keys(i),u=w.find(a,c=>this.isBrowser(c,!0));if(u!==void 0)return this.compareVersion(i[u])}}isBrowser(t,r=!1){const n=this.getBrowserName().toLowerCase();let i=t.toLowerCase();const s=w.getBrowserTypeByAlias(i);return r&&s&&(i=s.toLowerCase()),i===n}compareVersion(t){let r=[0],n=t,i=!1;const s=this.getBrowserVersion();if(typeof s=="string")return t[0]===">"||t[0]==="<"?(n=t.substr(1),t[1]==="="?(i=!0,n=t.substr(2)):r=[],t[0]===">"?r.push(1):r.push(-1)):t[0]==="="?n=t.substr(1):t[0]==="~"&&(i=!0,n=t.substr(1)),r.indexOf(w.compareVersions(s,n,i))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,r=!1){return this.isBrowser(t,r)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(r=>this.is(r))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class lc{static getParser(t,r=!1){if(typeof t!="string")throw new Error("UserAgent should be a string");return new Ki(t,r)}static parse(t){return new Ki(t).getResult()}static get BROWSER_MAP(){return uc}static get ENGINE_MAP(){return Fe}static get OS_MAP(){return ae}static get PLATFORMS_MAP(){return V}}const $m=({serviceId:e,clientVersion:t})=>async()=>{var i,s,o,a,u;const r=typeof window<"u"&&((i=window==null?void 0:window.navigator)!=null&&i.userAgent)?lc.parse(window.navigator.userAgent):void 0,n=[["aws-sdk-js",t],["ua","2.0"],[`os/${((s=r==null?void 0:r.os)==null?void 0:s.name)||"other"}`,(o=r==null?void 0:r.os)==null?void 0:o.version],["lang/js"],["md/browser",`${((a=r==null?void 0:r.browser)==null?void 0:a.name)??"unknown"}_${((u=r==null?void 0:r.browser)==null?void 0:u.version)??"unknown"}`]];return e&&n.push([`api/${e}`,t]),n};function Um(e){let t=0,r=0,n=null,i=null;const s=a=>{if(typeof a!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+a);t=a,r=4,n=new Uint8Array(a),new DataView(n.buffer).setUint32(0,a,!1)},o=async function*(){const a=e[Symbol.asyncIterator]();for(;;){const{value:u,done:c}=await a.next();if(c){if(t)if(t===r)yield n;else throw new Error("Truncated event message received.");else return;return}const l=u.length;let h=0;for(;h<l;){if(!n){const g=l-h;i||(i=new Uint8Array(4));const y=Math.min(4-r,g);if(i.set(u.slice(h,h+y),r),r+=y,h+=y,r<4)break;s(new DataView(i.buffer).getUint32(0,!1)),i=null}const d=Math.min(t-r,l-h);n.set(u.slice(h,h+d),r),r+=d,h+=d,t&&t===r&&(yield n,n=null,t=0,r=0)}}};return{[Symbol.asyncIterator]:o}}function Dm(e,t){return async function(r){const{value:n}=r.headers[":message-type"];if(n==="error"){const i=new Error(r.headers[":error-message"].value||"UnknownError");throw i.name=r.headers[":error-code"].value,i}else if(n==="exception"){const i=r.headers[":exception-type"].value,s={[i]:r},o=await e(s);if(o.$unknown){const a=new Error(t(r.body));throw a.name=i,a}throw o[i]}else if(n==="event"){const i={[r.headers[":event-type"].value]:r},s=await e(i);return s.$unknown?void 0:s}else throw Error(`Unrecognizable event type: ${r.headers[":event-type"].value}`)}}let Fm=class{constructor({utf8Encoder:t,utf8Decoder:r}){this.eventStreamCodec=new $l(t,r),this.utfEncoder=t}deserialize(t,r){const n=Um(t);return new Fl({messageStream:new Ul({inputStream:n,decoder:this.eventStreamCodec}),deserializer:Dm(r,this.utfEncoder)})}serialize(t,r){return new Dl({messageStream:new Ll({inputStream:t,serializer:r}),encoder:this.eventStreamCodec,includeEndFrame:!0})}};const Lm=e=>({[Symbol.asyncIterator]:async function*(){const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)return;yield n}}finally{t.releaseLock()}}}),jm=e=>{const t=e[Symbol.asyncIterator]();return new ReadableStream({async pull(r){const{done:n,value:i}=await t.next();if(n)return r.close();r.enqueue(i)}})};class Vm{constructor({utf8Encoder:t,utf8Decoder:r}){this.universalMarshaller=new Fm({utf8Decoder:r,utf8Encoder:t})}deserialize(t,r){const n=Hm(t)?Lm(t):t;return this.universalMarshaller.deserialize(n,r)}serialize(t,r){const n=this.universalMarshaller.serialize(t,r);return typeof ReadableStream=="function"?jm(n):n}}const Hm=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream,qm=e=>new Vm(e);function Wm(e,t,r=1024*1024){return new Promise((n,i)=>{const s=new FileReader;s.addEventListener("error",i),s.addEventListener("abort",i);const o=e.size;let a=0;function u(){if(a>=o){n();return}s.readAsArrayBuffer(e.slice(a,Math.min(o,a+r)))}s.addEventListener("load",c=>{const l=c.target.result;t(new Uint8Array(l)),a+=l.byteLength,u()}),u()})}const Gm=async function(t,r){const n=new t;return await Wm(r,i=>{n.update(i)}),n.digest()},zm=e=>()=>Promise.reject(e),Me=64,Km=16,Xm=[1732584193,4023233417,2562383102,271733878];class Ym{constructor(){this.reset()}update(t){if(Zm(t))return;if(this.finished)throw new Error("Attempted to update an already finished hash.");const r=Qm(t);let n=0,{byteLength:i}=r;for(this.bytesHashed+=i;i>0;)this.buffer.setUint8(this.bufferLength++,r[n++]),i--,this.bufferLength===Me&&(this.hashBuffer(),this.bufferLength=0)}async digest(){if(!this.finished){const{buffer:r,bufferLength:n,bytesHashed:i}=this,s=i*8;if(r.setUint8(this.bufferLength++,128),n%Me>=Me-8){for(let o=this.bufferLength;o<Me;o++)r.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(let o=this.bufferLength;o<Me-8;o++)r.setUint8(o,0);r.setUint32(Me-8,s>>>0,!0),r.setUint32(Me-4,Math.floor(s/4294967296),!0),this.hashBuffer(),this.finished=!0}const t=new DataView(new ArrayBuffer(Km));for(let r=0;r<4;r++)t.setUint32(r*4,this.state[r],!0);return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}hashBuffer(){const{buffer:t,state:r}=this;let n=r[0],i=r[1],s=r[2],o=r[3];n=re(n,i,s,o,t.getUint32(0,!0),7,3614090360),o=re(o,n,i,s,t.getUint32(4,!0),12,3905402710),s=re(s,o,n,i,t.getUint32(8,!0),17,606105819),i=re(i,s,o,n,t.getUint32(12,!0),22,3250441966),n=re(n,i,s,o,t.getUint32(16,!0),7,4118548399),o=re(o,n,i,s,t.getUint32(20,!0),12,1200080426),s=re(s,o,n,i,t.getUint32(24,!0),17,2821735955),i=re(i,s,o,n,t.getUint32(28,!0),22,4249261313),n=re(n,i,s,o,t.getUint32(32,!0),7,1770035416),o=re(o,n,i,s,t.getUint32(36,!0),12,2336552879),s=re(s,o,n,i,t.getUint32(40,!0),17,4294925233),i=re(i,s,o,n,t.getUint32(44,!0),22,2304563134),n=re(n,i,s,o,t.getUint32(48,!0),7,1804603682),o=re(o,n,i,s,t.getUint32(52,!0),12,4254626195),s=re(s,o,n,i,t.getUint32(56,!0),17,2792965006),i=re(i,s,o,n,t.getUint32(60,!0),22,1236535329),n=ne(n,i,s,o,t.getUint32(4,!0),5,4129170786),o=ne(o,n,i,s,t.getUint32(24,!0),9,3225465664),s=ne(s,o,n,i,t.getUint32(44,!0),14,643717713),i=ne(i,s,o,n,t.getUint32(0,!0),20,3921069994),n=ne(n,i,s,o,t.getUint32(20,!0),5,3593408605),o=ne(o,n,i,s,t.getUint32(40,!0),9,38016083),s=ne(s,o,n,i,t.getUint32(60,!0),14,3634488961),i=ne(i,s,o,n,t.getUint32(16,!0),20,3889429448),n=ne(n,i,s,o,t.getUint32(36,!0),5,568446438),o=ne(o,n,i,s,t.getUint32(56,!0),9,3275163606),s=ne(s,o,n,i,t.getUint32(12,!0),14,4107603335),i=ne(i,s,o,n,t.getUint32(32,!0),20,1163531501),n=ne(n,i,s,o,t.getUint32(52,!0),5,2850285829),o=ne(o,n,i,s,t.getUint32(8,!0),9,4243563512),s=ne(s,o,n,i,t.getUint32(28,!0),14,1735328473),i=ne(i,s,o,n,t.getUint32(48,!0),20,2368359562),n=se(n,i,s,o,t.getUint32(20,!0),4,4294588738),o=se(o,n,i,s,t.getUint32(32,!0),11,2272392833),s=se(s,o,n,i,t.getUint32(44,!0),16,1839030562),i=se(i,s,o,n,t.getUint32(56,!0),23,4259657740),n=se(n,i,s,o,t.getUint32(4,!0),4,2763975236),o=se(o,n,i,s,t.getUint32(16,!0),11,1272893353),s=se(s,o,n,i,t.getUint32(28,!0),16,4139469664),i=se(i,s,o,n,t.getUint32(40,!0),23,3200236656),n=se(n,i,s,o,t.getUint32(52,!0),4,681279174),o=se(o,n,i,s,t.getUint32(0,!0),11,3936430074),s=se(s,o,n,i,t.getUint32(12,!0),16,3572445317),i=se(i,s,o,n,t.getUint32(24,!0),23,76029189),n=se(n,i,s,o,t.getUint32(36,!0),4,3654602809),o=se(o,n,i,s,t.getUint32(48,!0),11,3873151461),s=se(s,o,n,i,t.getUint32(60,!0),16,530742520),i=se(i,s,o,n,t.getUint32(8,!0),23,3299628645),n=ie(n,i,s,o,t.getUint32(0,!0),6,4096336452),o=ie(o,n,i,s,t.getUint32(28,!0),10,1126891415),s=ie(s,o,n,i,t.getUint32(56,!0),15,2878612391),i=ie(i,s,o,n,t.getUint32(20,!0),21,4237533241),n=ie(n,i,s,o,t.getUint32(48,!0),6,1700485571),o=ie(o,n,i,s,t.getUint32(12,!0),10,2399980690),s=ie(s,o,n,i,t.getUint32(40,!0),15,4293915773),i=ie(i,s,o,n,t.getUint32(4,!0),21,2240044497),n=ie(n,i,s,o,t.getUint32(32,!0),6,1873313359),o=ie(o,n,i,s,t.getUint32(60,!0),10,4264355552),s=ie(s,o,n,i,t.getUint32(24,!0),15,2734768916),i=ie(i,s,o,n,t.getUint32(52,!0),21,1309151649),n=ie(n,i,s,o,t.getUint32(16,!0),6,4149444226),o=ie(o,n,i,s,t.getUint32(44,!0),10,3174756917),s=ie(s,o,n,i,t.getUint32(8,!0),15,718787259),i=ie(i,s,o,n,t.getUint32(36,!0),21,3951481745),r[0]=n+r[0]&4294967295,r[1]=i+r[1]&4294967295,r[2]=s+r[2]&4294967295,r[3]=o+r[3]&4294967295}reset(){this.state=Uint32Array.from(Xm),this.buffer=new DataView(new ArrayBuffer(Me)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}}function vr(e,t,r,n,i,s){return t=(t+e&4294967295)+(n+s&4294967295)&4294967295,(t<<i|t>>>32-i)+r&4294967295}function re(e,t,r,n,i,s,o){return vr(t&r|~t&n,e,t,i,s,o)}function ne(e,t,r,n,i,s,o){return vr(t&n|r&~n,e,t,i,s,o)}function se(e,t,r,n,i,s,o){return vr(t^r^n,e,t,i,s,o)}function ie(e,t,r,n,i,s,o){return vr(r^(t|~n),e,t,i,s,o)}function Zm(e){return typeof e=="string"?e.length===0:e.byteLength===0}function Qm(e){return typeof e=="string"?st(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}const Xi=typeof TextEncoder=="function"?new TextEncoder:null,Jm=e=>{if(typeof e=="string"){if(Xi)return Xi.encode(e).byteLength;let t=e.length;for(let r=t-1;r>=0;r--){const n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2),n>=56320&&n<=57343&&r--}return t}else{if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size}throw new Error(`Body Length computation failed for ${e}`)},e0={CrtSignerV4:null};class t0{constructor(t){this.sigv4Signer=new gf(t),this.signerOptions=t}async sign(t,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().sign(t,r)}return this.sigv4Signer.sign(t,r)}async signWithCredentials(t,r,n={}){if(n.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().signWithCredentials(t,r,n)}return this.sigv4Signer.signWithCredentials(t,r,n)}async presign(t,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().presign(t,r)}return this.sigv4Signer.presign(t,r)}async presignWithCredentials(t,r,n={}){if(n.signingRegion==="*")throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(t,r,n)}getSigv4aSigner(){if(!this.sigv4aSigner){let t=null;try{if(t=e0.CrtSignerV4,typeof t!="function")throw new Error}catch(r){throw r.message=`${r.message}
Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. 
You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`,r}this.sigv4aSigner=new t({...this.signerOptions,signingAlgorithm:1})}return this.sigv4aSigner}}const Es="required",f="type",p="conditions",m="fn",b="argv",T="ref",L="assign",v="url",A="properties",fc="backend",xe="authSchemes",ye="disableDoubleEncoding",me="signingName",Ie="signingRegion",x="headers",Ss="signingRegionSet",r0=!1,Ee=!0,be="isSet",J="booleanEquals",R="error",hr="aws.partition",F="stringEquals",H="getAttr",oe="name",Ce="substring",Yi="bucketSuffix",dc="parseURL",Zi="{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",E="endpoint",_="tree",hc="aws.isVirtualHostableS3Bucket",Kt="{url#scheme}://{Bucket}.{url#authority}{url#path}",Te="not",Xt="{url#scheme}://{url#authority}{url#path}",pc="hardwareType",gc="regionPrefix",Qi="bucketAliasSuffix",Qn="outpostId",Ye="isValidHostLabel",vs="sigv4a",jt="s3-outposts",rt="s3",yc="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",mc="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",Ji="https://{Bucket}.s3.{partitionResult#dnsSuffix}",bc="aws.parseArn",wc="bucketArn",_c="arnType",pr="",As="s3-object-lambda",Ec="accesspoint",xs="accessPointName",eo="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",to="mrapPartition",ro="outpostType",no="arnPrefix",Sc="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",so="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",io="https://s3.{partitionResult#dnsSuffix}",xt={[Es]:!1,[f]:"String"},Qe={[Es]:!0,default:!1,[f]:"Boolean"},Rt={[Es]:!1,[f]:"Boolean"},Se={[m]:J,[b]:[{[T]:"Accelerate"},!0]},D={[m]:J,[b]:[{[T]:"UseFIPS"},!0]},U={[m]:J,[b]:[{[T]:"UseDualStack"},!0]},W={[m]:be,[b]:[{[T]:"Endpoint"}]},vc={[m]:hr,[b]:[{[T]:"Region"}],[L]:"partitionResult"},oo={[m]:F,[b]:[{[m]:H,[b]:[{[T]:"partitionResult"},oe]},"aws-cn"]},gr={[m]:be,[b]:[{[T]:"Bucket"}]},ue={[T]:"Bucket"},ce={[m]:dc,[b]:[{[T]:"Endpoint"}],[L]:"url"},Yt={[m]:J,[b]:[{[m]:H,[b]:[{[T]:"url"},"isIp"]},!0]},Ac={[T]:"url"},xc={[m]:"uriEncode",[b]:[ue],[L]:"uri_encoded_bucket"},Be={[fc]:"S3Express",[xe]:[{[ye]:!0,[oe]:"sigv4",[me]:"s3express",[Ie]:"{Region}"}]},O={},Rc={[m]:hc,[b]:[ue,!1]},Qr={[R]:"S3Express bucket name is not a valid virtual hostable name.",[f]:R},yr={[fc]:"S3Express",[xe]:[{[ye]:!0,[oe]:"sigv4-s3express",[me]:"s3express",[Ie]:"{Region}"}]},ao={[m]:be,[b]:[{[T]:"UseS3ExpressControlEndpoint"}]},co={[m]:J,[b]:[{[T]:"UseS3ExpressControlEndpoint"},!0]},P={[m]:Te,[b]:[W]},uo={[R]:"Unrecognized S3Express bucket name format.",[f]:R},lo={[m]:Te,[b]:[gr]},fo={[T]:pc},ho={[p]:[P],[R]:"Expected a endpoint to be specified but no endpoint was found",[f]:R},Wt={[xe]:[{[ye]:!0,[oe]:vs,[me]:jt,[Ss]:["*"]},{[ye]:!0,[oe]:"sigv4",[me]:jt,[Ie]:"{Region}"}]},Jr={[m]:J,[b]:[{[T]:"ForcePathStyle"},!1]},n0={[T]:"ForcePathStyle"},q={[m]:J,[b]:[{[T]:"Accelerate"},!1]},K={[m]:F,[b]:[{[T]:"Region"},"aws-global"]},Y={[xe]:[{[ye]:!0,[oe]:"sigv4",[me]:rt,[Ie]:"us-east-1"}]},k={[m]:Te,[b]:[K]},Z={[m]:J,[b]:[{[T]:"UseGlobalEndpoint"},!0]},po={[v]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[A]:{[xe]:[{[ye]:!0,[oe]:"sigv4",[me]:rt,[Ie]:"{Region}"}]},[x]:{}},z={[xe]:[{[ye]:!0,[oe]:"sigv4",[me]:rt,[Ie]:"{Region}"}]},Q={[m]:J,[b]:[{[T]:"UseGlobalEndpoint"},!1]},B={[m]:J,[b]:[{[T]:"UseDualStack"},!1]},go={[v]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[A]:z,[x]:{}},N={[m]:J,[b]:[{[T]:"UseFIPS"},!1]},yo={[v]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[A]:z,[x]:{}},mo={[v]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[A]:z,[x]:{}},en={[m]:J,[b]:[{[m]:H,[b]:[Ac,"isIp"]},!1]},tn={[v]:yc,[A]:z,[x]:{}},Jn={[v]:Kt,[A]:z,[x]:{}},bo={[E]:Jn,[f]:E},rn={[v]:mc,[A]:z,[x]:{}},wo={[v]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[A]:z,[x]:{}},Gt={[R]:"Invalid region: region was not a valid DNS name.",[f]:R},fe={[T]:wc},Cc={[T]:_c},nn={[m]:H,[b]:[fe,"service"]},Rs={[T]:xs},_o={[p]:[U],[R]:"S3 Object Lambda does not support Dual-stack",[f]:R},Eo={[p]:[Se],[R]:"S3 Object Lambda does not support S3 Accelerate",[f]:R},So={[p]:[{[m]:be,[b]:[{[T]:"DisableAccessPoints"}]},{[m]:J,[b]:[{[T]:"DisableAccessPoints"},!0]}],[R]:"Access points are not supported for this operation",[f]:R},sn={[p]:[{[m]:be,[b]:[{[T]:"UseArnRegion"}]},{[m]:J,[b]:[{[T]:"UseArnRegion"},!1]},{[m]:Te,[b]:[{[m]:F,[b]:[{[m]:H,[b]:[fe,"region"]},"{Region}"]}]}],[R]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[f]:R},Tc={[m]:H,[b]:[{[T]:"bucketPartition"},oe]},Oc={[m]:H,[b]:[fe,"accountId"]},on={[xe]:[{[ye]:!0,[oe]:"sigv4",[me]:As,[Ie]:"{bucketArn#region}"}]},vo={[R]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[f]:R},an={[R]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[f]:R},cn={[R]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[f]:R},un={[R]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[f]:R},Ao={[R]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[f]:R},xo={[R]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[f]:R},Ct={[xe]:[{[ye]:!0,[oe]:"sigv4",[me]:rt,[Ie]:"{bucketArn#region}"}]},Ro={[xe]:[{[ye]:!0,[oe]:vs,[me]:jt,[Ss]:["*"]},{[ye]:!0,[oe]:"sigv4",[me]:jt,[Ie]:"{bucketArn#region}"}]},Co={[m]:bc,[b]:[ue]},To={[v]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:z,[x]:{}},Oo={[v]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:z,[x]:{}},Po={[v]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:z,[x]:{}},ln={[v]:Sc,[A]:z,[x]:{}},Io={[v]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:z,[x]:{}},No={[T]:"UseObjectLambdaEndpoint"},fn={[xe]:[{[ye]:!0,[oe]:"sigv4",[me]:As,[Ie]:"{Region}"}]},Bo={[v]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[A]:z,[x]:{}},ko={[v]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[A]:z,[x]:{}},Mo={[v]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[A]:z,[x]:{}},dn={[v]:Xt,[A]:z,[x]:{}},$o={[v]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[A]:z,[x]:{}},hn=[{[T]:"Region"}],s0=[{[T]:"Endpoint"}],i0=[ue],pn=[U],zt=[Se],We=[W,ce],Uo=[{[m]:be,[b]:[{[T]:"DisableS3ExpressSessionAuth"}]},{[m]:J,[b]:[{[T]:"DisableS3ExpressSessionAuth"},!0]}],Do=[Yt],gn=[xc],yn=[Rc],Je=[D],Fo=[{[m]:Ce,[b]:[ue,6,14,!0],[L]:"s3expressAvailabilityZoneId"},{[m]:Ce,[b]:[ue,14,16,!0],[L]:"s3expressAvailabilityZoneDelim"},{[m]:F,[b]:[{[T]:"s3expressAvailabilityZoneDelim"},"--"]}],Lo=[{[p]:[D],[E]:{[v]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[A]:Be,[x]:{}},[f]:E},{[E]:{[v]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[A]:Be,[x]:{}},[f]:E}],jo=[{[m]:Ce,[b]:[ue,6,15,!0],[L]:"s3expressAvailabilityZoneId"},{[m]:Ce,[b]:[ue,15,17,!0],[L]:"s3expressAvailabilityZoneDelim"},{[m]:F,[b]:[{[T]:"s3expressAvailabilityZoneDelim"},"--"]}],Vo=[{[p]:[D],[E]:{[v]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[A]:yr,[x]:{}},[f]:E},{[E]:{[v]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[A]:yr,[x]:{}},[f]:E}],o0=[gr],Ho=[{[m]:Ye,[b]:[{[T]:Qn},!1]}],qo=[{[m]:F,[b]:[{[T]:gc},"beta"]}],a0=["*"],$e=[vc],Wo=[{[m]:Ye,[b]:[{[T]:"Region"},!1]}],Ue=[{[m]:F,[b]:[{[T]:"Region"},"us-east-1"]}],mn=[{[m]:F,[b]:[Cc,Ec]}],Go=[{[m]:H,[b]:[fe,"resourceId[1]"],[L]:xs},{[m]:Te,[b]:[{[m]:F,[b]:[Rs,pr]}]}],c0=[fe,"resourceId[1]"],bn=[{[m]:Te,[b]:[{[m]:F,[b]:[{[m]:H,[b]:[fe,"region"]},pr]}]}],zo=[{[m]:Te,[b]:[{[m]:be,[b]:[{[m]:H,[b]:[fe,"resourceId[2]"]}]}]}],u0=[fe,"resourceId[2]"],wn=[{[m]:hr,[b]:[{[m]:H,[b]:[fe,"region"]}],[L]:"bucketPartition"}],Ko=[{[m]:F,[b]:[Tc,{[m]:H,[b]:[{[T]:"partitionResult"},oe]}]}],_n=[{[m]:Ye,[b]:[{[m]:H,[b]:[fe,"region"]},!0]}],En=[{[m]:Ye,[b]:[Oc,!1]}],Xo=[{[m]:Ye,[b]:[Rs,!1]}],Yo=[{[m]:Ye,[b]:[{[T]:"Region"},!0]}],l0={version:"1.0",parameters:{Bucket:xt,Region:xt,UseFIPS:Qe,UseDualStack:Qe,Endpoint:xt,ForcePathStyle:Qe,Accelerate:Qe,UseGlobalEndpoint:Qe,UseObjectLambdaEndpoint:Rt,Key:xt,Prefix:xt,DisableAccessPoints:Rt,DisableMultiRegionAccessPoints:Qe,UseArnRegion:Rt,UseS3ExpressControlEndpoint:Rt,DisableS3ExpressSessionAuth:Rt},rules:[{[p]:[{[m]:be,[b]:hn}],rules:[{[p]:[Se,D],error:"Accelerate cannot be used with FIPS",[f]:R},{[p]:[U,W],error:"Cannot set dual-stack in combination with a custom endpoint.",[f]:R},{[p]:[W,D],error:"A custom endpoint cannot be combined with FIPS",[f]:R},{[p]:[W,Se],error:"A custom endpoint cannot be combined with S3 Accelerate",[f]:R},{[p]:[D,vc,oo],error:"Partition does not support FIPS",[f]:R},{[p]:[gr,{[m]:Ce,[b]:[ue,0,6,Ee],[L]:Yi},{[m]:F,[b]:[{[T]:Yi},"--x-s3"]}],rules:[{[p]:pn,error:"S3Express does not support Dual-stack.",[f]:R},{[p]:zt,error:"S3Express does not support S3 Accelerate.",[f]:R},{[p]:We,rules:[{[p]:Uo,rules:[{[p]:Do,rules:[{[p]:gn,rules:[{endpoint:{[v]:Zi,[A]:Be,[x]:O},[f]:E}],[f]:_}],[f]:_},{[p]:yn,rules:[{endpoint:{[v]:Kt,[A]:Be,[x]:O},[f]:E}],[f]:_},Qr],[f]:_},{[p]:Do,rules:[{[p]:gn,rules:[{endpoint:{[v]:Zi,[A]:yr,[x]:O},[f]:E}],[f]:_}],[f]:_},{[p]:yn,rules:[{endpoint:{[v]:Kt,[A]:yr,[x]:O},[f]:E}],[f]:_},Qr],[f]:_},{[p]:[ao,co],rules:[{[p]:[xc,P],rules:[{[p]:Je,endpoint:{[v]:"https://s3express-control-fips.{Region}.amazonaws.com/{uri_encoded_bucket}",[A]:Be,[x]:O},[f]:E},{endpoint:{[v]:"https://s3express-control.{Region}.amazonaws.com/{uri_encoded_bucket}",[A]:Be,[x]:O},[f]:E}],[f]:_}],[f]:_},{[p]:yn,rules:[{[p]:Uo,rules:[{[p]:Fo,rules:Lo,[f]:_},{[p]:jo,rules:Lo,[f]:_},uo],[f]:_},{[p]:Fo,rules:Vo,[f]:_},{[p]:jo,rules:Vo,[f]:_},uo],[f]:_},Qr],[f]:_},{[p]:[lo,ao,co],rules:[{[p]:We,endpoint:{[v]:Xt,[A]:Be,[x]:O},[f]:E},{[p]:Je,endpoint:{[v]:"https://s3express-control-fips.{Region}.amazonaws.com",[A]:Be,[x]:O},[f]:E},{endpoint:{[v]:"https://s3express-control.{Region}.amazonaws.com",[A]:Be,[x]:O},[f]:E}],[f]:_},{[p]:[gr,{[m]:Ce,[b]:[ue,49,50,Ee],[L]:pc},{[m]:Ce,[b]:[ue,8,12,Ee],[L]:gc},{[m]:Ce,[b]:[ue,0,7,Ee],[L]:Qi},{[m]:Ce,[b]:[ue,32,49,Ee],[L]:Qn},{[m]:hr,[b]:hn,[L]:"regionPartition"},{[m]:F,[b]:[{[T]:Qi},"--op-s3"]}],rules:[{[p]:Ho,rules:[{[p]:[{[m]:F,[b]:[fo,"e"]}],rules:[{[p]:qo,rules:[ho,{[p]:We,endpoint:{[v]:"https://{Bucket}.ec2.{url#authority}",[A]:Wt,[x]:O},[f]:E}],[f]:_},{endpoint:{[v]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[A]:Wt,[x]:O},[f]:E}],[f]:_},{[p]:[{[m]:F,[b]:[fo,"o"]}],rules:[{[p]:qo,rules:[ho,{[p]:We,endpoint:{[v]:"https://{Bucket}.op-{outpostId}.{url#authority}",[A]:Wt,[x]:O},[f]:E}],[f]:_},{endpoint:{[v]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[A]:Wt,[x]:O},[f]:E}],[f]:_},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[f]:R}],[f]:_},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[f]:R}],[f]:_},{[p]:o0,rules:[{[p]:[W,{[m]:Te,[b]:[{[m]:be,[b]:[{[m]:dc,[b]:s0}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[f]:R},{[p]:[Jr,Rc],rules:[{[p]:$e,rules:[{[p]:Wo,rules:[{[p]:[Se,oo],error:"S3 Accelerate cannot be used in this region",[f]:R},{[p]:[U,D,q,P,K],endpoint:{[v]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[A]:Y,[x]:O},[f]:E},{[p]:[U,D,q,P,k,Z],rules:[{endpoint:po,[f]:E}],[f]:_},{[p]:[U,D,q,P,k,Q],endpoint:po,[f]:E},{[p]:[B,D,q,P,K],endpoint:{[v]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[A]:Y,[x]:O},[f]:E},{[p]:[B,D,q,P,k,Z],rules:[{endpoint:go,[f]:E}],[f]:_},{[p]:[B,D,q,P,k,Q],endpoint:go,[f]:E},{[p]:[U,N,Se,P,K],endpoint:{[v]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[A]:Y,[x]:O},[f]:E},{[p]:[U,N,Se,P,k,Z],rules:[{endpoint:yo,[f]:E}],[f]:_},{[p]:[U,N,Se,P,k,Q],endpoint:yo,[f]:E},{[p]:[U,N,q,P,K],endpoint:{[v]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[A]:Y,[x]:O},[f]:E},{[p]:[U,N,q,P,k,Z],rules:[{endpoint:mo,[f]:E}],[f]:_},{[p]:[U,N,q,P,k,Q],endpoint:mo,[f]:E},{[p]:[B,N,q,W,ce,Yt,K],endpoint:{[v]:yc,[A]:Y,[x]:O},[f]:E},{[p]:[B,N,q,W,ce,en,K],endpoint:{[v]:Kt,[A]:Y,[x]:O},[f]:E},{[p]:[B,N,q,W,ce,Yt,k,Z],rules:[{[p]:Ue,endpoint:tn,[f]:E},{endpoint:tn,[f]:E}],[f]:_},{[p]:[B,N,q,W,ce,en,k,Z],rules:[{[p]:Ue,endpoint:Jn,[f]:E},bo],[f]:_},{[p]:[B,N,q,W,ce,Yt,k,Q],endpoint:tn,[f]:E},{[p]:[B,N,q,W,ce,en,k,Q],endpoint:Jn,[f]:E},{[p]:[B,N,Se,P,K],endpoint:{[v]:mc,[A]:Y,[x]:O},[f]:E},{[p]:[B,N,Se,P,k,Z],rules:[{[p]:Ue,endpoint:rn,[f]:E},{endpoint:rn,[f]:E}],[f]:_},{[p]:[B,N,Se,P,k,Q],endpoint:rn,[f]:E},{[p]:[B,N,q,P,K],endpoint:{[v]:Ji,[A]:Y,[x]:O},[f]:E},{[p]:[B,N,q,P,k,Z],rules:[{[p]:Ue,endpoint:{[v]:Ji,[A]:z,[x]:O},[f]:E},{endpoint:wo,[f]:E}],[f]:_},{[p]:[B,N,q,P,k,Q],endpoint:wo,[f]:E}],[f]:_},Gt],[f]:_}],[f]:_},{[p]:[W,ce,{[m]:F,[b]:[{[m]:H,[b]:[Ac,"scheme"]},"http"]},{[m]:hc,[b]:[ue,Ee]},Jr,N,B,q],rules:[{[p]:$e,rules:[{[p]:Wo,rules:[bo],[f]:_},Gt],[f]:_}],[f]:_},{[p]:[Jr,{[m]:bc,[b]:i0,[L]:wc}],rules:[{[p]:[{[m]:H,[b]:[fe,"resourceId[0]"],[L]:_c},{[m]:Te,[b]:[{[m]:F,[b]:[Cc,pr]}]}],rules:[{[p]:[{[m]:F,[b]:[nn,As]}],rules:[{[p]:mn,rules:[{[p]:Go,rules:[_o,Eo,{[p]:bn,rules:[So,{[p]:zo,rules:[sn,{[p]:wn,rules:[{[p]:$e,rules:[{[p]:Ko,rules:[{[p]:_n,rules:[{[p]:[{[m]:F,[b]:[Oc,pr]}],error:"Invalid ARN: Missing account id",[f]:R},{[p]:En,rules:[{[p]:Xo,rules:[{[p]:We,endpoint:{[v]:eo,[A]:on,[x]:O},[f]:E},{[p]:Je,endpoint:{[v]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[A]:on,[x]:O},[f]:E},{endpoint:{[v]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[A]:on,[x]:O},[f]:E}],[f]:_},vo],[f]:_},an],[f]:_},cn],[f]:_},un],[f]:_}],[f]:_}],[f]:_},Ao],[f]:_},{error:"Invalid ARN: bucket ARN is missing a region",[f]:R}],[f]:_},xo],[f]:_},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[f]:R}],[f]:_},{[p]:mn,rules:[{[p]:Go,rules:[{[p]:bn,rules:[{[p]:mn,rules:[{[p]:bn,rules:[So,{[p]:zo,rules:[sn,{[p]:wn,rules:[{[p]:$e,rules:[{[p]:[{[m]:F,[b]:[Tc,"{partitionResult#name}"]}],rules:[{[p]:_n,rules:[{[p]:[{[m]:F,[b]:[nn,rt]}],rules:[{[p]:En,rules:[{[p]:Xo,rules:[{[p]:zt,error:"Access Points do not support S3 Accelerate",[f]:R},{[p]:[D,U],endpoint:{[v]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[A]:Ct,[x]:O},[f]:E},{[p]:[D,B],endpoint:{[v]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[A]:Ct,[x]:O},[f]:E},{[p]:[N,U],endpoint:{[v]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[A]:Ct,[x]:O},[f]:E},{[p]:[N,B,W,ce],endpoint:{[v]:eo,[A]:Ct,[x]:O},[f]:E},{[p]:[N,B],endpoint:{[v]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[A]:Ct,[x]:O},[f]:E}],[f]:_},vo],[f]:_},an],[f]:_},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[f]:R}],[f]:_},cn],[f]:_},un],[f]:_}],[f]:_}],[f]:_},Ao],[f]:_}],[f]:_}],[f]:_},{[p]:[{[m]:Ye,[b]:[Rs,Ee]}],rules:[{[p]:pn,error:"S3 MRAP does not support dual-stack",[f]:R},{[p]:Je,error:"S3 MRAP does not support FIPS",[f]:R},{[p]:zt,error:"S3 MRAP does not support S3 Accelerate",[f]:R},{[p]:[{[m]:J,[b]:[{[T]:"DisableMultiRegionAccessPoints"},Ee]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[f]:R},{[p]:[{[m]:hr,[b]:hn,[L]:to}],rules:[{[p]:[{[m]:F,[b]:[{[m]:H,[b]:[{[T]:to},oe]},{[m]:H,[b]:[fe,"partition"]}]}],rules:[{endpoint:{[v]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[A]:{[xe]:[{[ye]:Ee,name:vs,[me]:rt,[Ss]:a0}]},[x]:O},[f]:E}],[f]:_},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[f]:R}],[f]:_}],[f]:_},{error:"Invalid Access Point Name",[f]:R}],[f]:_},xo],[f]:_},{[p]:[{[m]:F,[b]:[nn,jt]}],rules:[{[p]:pn,error:"S3 Outposts does not support Dual-stack",[f]:R},{[p]:Je,error:"S3 Outposts does not support FIPS",[f]:R},{[p]:zt,error:"S3 Outposts does not support S3 Accelerate",[f]:R},{[p]:[{[m]:be,[b]:[{[m]:H,[b]:[fe,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[f]:R},{[p]:[{[m]:H,[b]:c0,[L]:Qn}],rules:[{[p]:Ho,rules:[sn,{[p]:wn,rules:[{[p]:$e,rules:[{[p]:Ko,rules:[{[p]:_n,rules:[{[p]:En,rules:[{[p]:[{[m]:H,[b]:u0,[L]:ro}],rules:[{[p]:[{[m]:H,[b]:[fe,"resourceId[3]"],[L]:xs}],rules:[{[p]:[{[m]:F,[b]:[{[T]:ro},Ec]}],rules:[{[p]:We,endpoint:{[v]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[A]:Ro,[x]:O},[f]:E},{endpoint:{[v]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[A]:Ro,[x]:O},[f]:E}],[f]:_},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[f]:R}],[f]:_},{error:"Invalid ARN: expected an access point name",[f]:R}],[f]:_},{error:"Invalid ARN: Expected a 4-component resource",[f]:R}],[f]:_},an],[f]:_},cn],[f]:_},un],[f]:_}],[f]:_}],[f]:_},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[f]:R}],[f]:_},{error:"Invalid ARN: The Outpost Id was not set",[f]:R}],[f]:_},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[f]:R}],[f]:_},{error:"Invalid ARN: No ARN type specified",[f]:R}],[f]:_},{[p]:[{[m]:Ce,[b]:[ue,0,4,r0],[L]:no},{[m]:F,[b]:[{[T]:no},"arn:"]},{[m]:Te,[b]:[{[m]:be,[b]:[Co]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[f]:R},{[p]:[{[m]:J,[b]:[n0,Ee]},Co],error:"Path-style addressing cannot be used with ARN buckets",[f]:R},{[p]:gn,rules:[{[p]:$e,rules:[{[p]:[q],rules:[{[p]:[U,P,D,K],endpoint:{[v]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:Y,[x]:O},[f]:E},{[p]:[U,P,D,k,Z],rules:[{endpoint:To,[f]:E}],[f]:_},{[p]:[U,P,D,k,Q],endpoint:To,[f]:E},{[p]:[B,P,D,K],endpoint:{[v]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:Y,[x]:O},[f]:E},{[p]:[B,P,D,k,Z],rules:[{endpoint:Oo,[f]:E}],[f]:_},{[p]:[B,P,D,k,Q],endpoint:Oo,[f]:E},{[p]:[U,P,N,K],endpoint:{[v]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[A]:Y,[x]:O},[f]:E},{[p]:[U,P,N,k,Z],rules:[{endpoint:Po,[f]:E}],[f]:_},{[p]:[U,P,N,k,Q],endpoint:Po,[f]:E},{[p]:[B,W,ce,N,K],endpoint:{[v]:Sc,[A]:Y,[x]:O},[f]:E},{[p]:[B,W,ce,N,k,Z],rules:[{[p]:Ue,endpoint:ln,[f]:E},{endpoint:ln,[f]:E}],[f]:_},{[p]:[B,W,ce,N,k,Q],endpoint:ln,[f]:E},{[p]:[B,P,N,K],endpoint:{[v]:so,[A]:Y,[x]:O},[f]:E},{[p]:[B,P,N,k,Z],rules:[{[p]:Ue,endpoint:{[v]:so,[A]:z,[x]:O},[f]:E},{endpoint:Io,[f]:E}],[f]:_},{[p]:[B,P,N,k,Q],endpoint:Io,[f]:E}],[f]:_},{error:"Path-style addressing cannot be used with S3 Accelerate",[f]:R}],[f]:_}],[f]:_}],[f]:_},{[p]:[{[m]:be,[b]:[No]},{[m]:J,[b]:[No,Ee]}],rules:[{[p]:$e,rules:[{[p]:Yo,rules:[_o,Eo,{[p]:We,endpoint:{[v]:Xt,[A]:fn,[x]:O},[f]:E},{[p]:Je,endpoint:{[v]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[A]:fn,[x]:O},[f]:E},{endpoint:{[v]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[A]:fn,[x]:O},[f]:E}],[f]:_},Gt],[f]:_}],[f]:_},{[p]:[lo],rules:[{[p]:$e,rules:[{[p]:Yo,rules:[{[p]:[D,U,P,K],endpoint:{[v]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[A]:Y,[x]:O},[f]:E},{[p]:[D,U,P,k,Z],rules:[{endpoint:Bo,[f]:E}],[f]:_},{[p]:[D,U,P,k,Q],endpoint:Bo,[f]:E},{[p]:[D,B,P,K],endpoint:{[v]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[A]:Y,[x]:O},[f]:E},{[p]:[D,B,P,k,Z],rules:[{endpoint:ko,[f]:E}],[f]:_},{[p]:[D,B,P,k,Q],endpoint:ko,[f]:E},{[p]:[N,U,P,K],endpoint:{[v]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[A]:Y,[x]:O},[f]:E},{[p]:[N,U,P,k,Z],rules:[{endpoint:Mo,[f]:E}],[f]:_},{[p]:[N,U,P,k,Q],endpoint:Mo,[f]:E},{[p]:[N,B,W,ce,K],endpoint:{[v]:Xt,[A]:Y,[x]:O},[f]:E},{[p]:[N,B,W,ce,k,Z],rules:[{[p]:Ue,endpoint:dn,[f]:E},{endpoint:dn,[f]:E}],[f]:_},{[p]:[N,B,W,ce,k,Q],endpoint:dn,[f]:E},{[p]:[N,B,P,K],endpoint:{[v]:io,[A]:Y,[x]:O},[f]:E},{[p]:[N,B,P,k,Z],rules:[{[p]:Ue,endpoint:{[v]:io,[A]:z,[x]:O},[f]:E},{endpoint:$o,[f]:E}],[f]:_},{[p]:[N,B,P,k,Q],endpoint:$o,[f]:E}],[f]:_},Gt],[f]:_}],[f]:_}],[f]:_},{error:"A region must be set when sending requests to S3.",[f]:R}]},f0=l0,d0=(e,t={})=>Qf(f0,{endpointParams:e,logger:t.logger}),h0=e=>({apiVersion:"2006-03-01",base64Decoder:(e==null?void 0:e.base64Decoder)??es,base64Encoder:(e==null?void 0:e.base64Encoder)??ts,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??d0,extensions:(e==null?void 0:e.extensions)??[],getAwsChunkedEncodingStream:(e==null?void 0:e.getAwsChunkedEncodingStream)??Zc,logger:(e==null?void 0:e.logger)??new Zo,sdkStreamMixin:(e==null?void 0:e.sdkStreamMixin)??ou,serviceId:(e==null?void 0:e.serviceId)??"S3",signerConstructor:(e==null?void 0:e.signerConstructor)??t0,signingEscapePath:(e==null?void 0:e.signingEscapePath)??!1,urlParser:(e==null?void 0:e.urlParser)??fr,useArnRegion:(e==null?void 0:e.useArnRegion)??!1,utf8Decoder:(e==null?void 0:e.utf8Decoder)??st,utf8Encoder:(e==null?void 0:e.utf8Encoder)??mr}),p0=["in-region","cross-region","mobile","standard","legacy"],g0=({defaultsMode:e}={})=>_a(async()=>{const t=typeof e=="function"?await e():e;switch(t==null?void 0:t.toLowerCase()){case"auto":return Promise.resolve(y0()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(t==null?void 0:t.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${p0.join(", ")}, got ${t}`)}}),y0=()=>{var r,n;const e=typeof window<"u"&&((r=window==null?void 0:window.navigator)!=null&&r.userAgent)?lc.parse(window.navigator.userAgent):void 0,t=(n=e==null?void 0:e.platform)==null?void 0:n.type;return t==="tablet"||t==="mobile"},m0=e=>{const t=g0(e),r=()=>t().then(Pu),n=h0(e);return{...n,...e,runtime:"browser",defaultsMode:t,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??Jm,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??(i=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??$m({serviceId:n.serviceId,clientVersion:_g.version}),eventStreamSerdeProvider:(e==null?void 0:e.eventStreamSerdeProvider)??qm,maxAttempts:(e==null?void 0:e.maxAttempts)??dr,md5:(e==null?void 0:e.md5)??Ym,region:(e==null?void 0:e.region)??zm("Region is missing"),requestHandler:rs.create((e==null?void 0:e.requestHandler)??r),retryMode:(e==null?void 0:e.retryMode)??(async()=>(await r()).retryMode||$d),sha1:(e==null?void 0:e.sha1)??qa.Sha1,sha256:(e==null?void 0:e.sha256)??tc.Sha256,streamCollector:(e==null?void 0:e.streamCollector)??Qo,streamHasher:(e==null?void 0:e.streamHasher)??Gm,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??(()=>Promise.resolve(fd)),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??(()=>Promise.resolve(dd))}},b0=e=>{let t=async()=>{if(e.region===void 0)throw new Error("Region is missing from runtimeConfig");const r=e.region;return typeof r=="string"?r:r()};return{setRegion(r){t=r},region(){return t}}},w0=e=>({region:e.region()}),Sn=e=>e,_0=(e,t)=>{const r={...Sn(b0(e)),...Sn(Mu(e)),...Sn(Pc(e))};return t.forEach(n=>n.configure(r)),{...e,...w0(r),...$u(r),...Ic(r)}};class Re extends zc{constructor(...[t]){const r=m0(t||{}),n=hh(r),i=hd(n),s=Md(i),o=ih(s),a=o,u=Cf(a),c=wf(u,{session:[()=>this,tg]}),l=Bf(c),h=pd(l),d=_0(h,(t==null?void 0:t.extensions)||[]);super(d),this.config=d,this.middlewareStack.use(fh(this.config)),this.middlewareStack.use(md(this.config)),this.middlewareStack.use(Dc(this.config)),this.middlewareStack.use(jc(this.config)),this.middlewareStack.use(Gc(this.config)),this.middlewareStack.use(Nf(this.config)),this.middlewareStack.use(xf(this.config)),this.middlewareStack.use(Mc(this.config)),this.middlewareStack.use(Gu(this.config)),this.middlewareStack.use(bf(this.config)),this.middlewareStack.use(ld(this.config))}destroy(){super.destroy()}}var Zt={VITE_BASE_URL:"http://localhost:8000",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};console.log(Zt.VITE_AWS_BUCKET_REGION,".......");const R0=async e=>{var r,n;const t=new Re({region:Zt.VITE_AWS_BUCKET_REGION,credentials:{accessKeyId:Zt.VITE_AWS_ACCESS_KEY_ID,secretAccessKey:Zt.VVITE_AWS_SECRET_ACCESS_KEY}});if(e&&(e!=null&&e.transaction)&&((r=e==null?void 0:e.transaction)!=null&&r.estimation_pdf))try{const s=await(await fetch((n=e==null?void 0:e.transaction)==null?void 0:n.estimation_pdf)).blob(),o=window.URL.createObjectURL(s),a=document.createElement("a");a.href=o,a.download="estimate.pdf",document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(o)}catch(i){console.error("Error downloading PDF:",i)}console.log(t)};var Qt={VITE_BASE_URL:"http://localhost:8000",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};console.log(Qt.VITE_AWS_BUCKET_REGION,".......");const C0=async e=>{var r,n;const t=new Re({region:Qt.VITE_AWS_BUCKET_REGION,credentials:{accessKeyId:Qt.VITE_AWS_ACCESS_KEY_ID,secretAccessKey:Qt.VVITE_AWS_SECRET_ACCESS_KEY}});if(e&&(e!=null&&e.transaction)&&((r=e==null?void 0:e.transaction)!=null&&r.advance_payment_invoice))try{const s=await(await fetch((n=e==null?void 0:e.transaction)==null?void 0:n.advance_payment_invoice)).blob(),o=window.URL.createObjectURL(s),a=document.createElement("a");a.href=o,a.download="advance_payment.pdf",document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(o)}catch(i){console.error("Error downloading PDF:",i)}console.log(t)};var Jt={VITE_BASE_URL:"http://localhost:8000",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};console.log(Jt.VITE_AWS_BUCKET_REGION,".......");const T0=async e=>{var r,n;const t=new Re({region:Jt.VITE_AWS_BUCKET_REGION,credentials:{accessKeyId:Jt.VITE_AWS_ACCESS_KEY_ID,secretAccessKey:Jt.VVITE_AWS_SECRET_ACCESS_KEY}});if(e&&(e!=null&&e.transaction)&&((r=e==null?void 0:e.transaction)!=null&&r.order_form))try{const s=await(await fetch((n=e==null?void 0:e.transaction)==null?void 0:n.order_form)).blob(),o=window.URL.createObjectURL(s),a=document.createElement("a");a.href=o,a.download="order_form.pdf",document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(o)}catch(i){console.error("Error downloading PDF:",i)}console.log(t)};var er={VITE_BASE_URL:"http://localhost:8000",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};console.log(er.VITE_AWS_BUCKET_REGION,".......");const O0=async e=>{var r,n;const t=new Re({region:er.VITE_AWS_BUCKET_REGION,credentials:{accessKeyId:er.VITE_AWS_ACCESS_KEY_ID,secretAccessKey:er.VVITE_AWS_SECRET_ACCESS_KEY}});if(e&&(e!=null&&e.transaction)&&((r=e==null?void 0:e.transaction)!=null&&r.delivery_slip))try{const s=await(await fetch((n=e==null?void 0:e.transaction)==null?void 0:n.delivery_slip)).blob(),o=window.URL.createObjectURL(s),a=document.createElement("a");a.href=o,a.download="delivery_slip.pdf",document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(o)}catch(i){console.error("Error downloading PDF:",i)}console.log(t)};var tr={VITE_BASE_URL:"http://localhost:8000",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};console.log(tr.VITE_AWS_BUCKET_REGION,".......");const P0=async e=>{var r,n;const t=new Re({region:tr.VITE_AWS_BUCKET_REGION,credentials:{accessKeyId:tr.VITE_AWS_ACCESS_KEY_ID,secretAccessKey:tr.VVITE_AWS_SECRET_ACCESS_KEY}});if(e&&(e!=null&&e.transaction)&&((r=e==null?void 0:e.transaction)!=null&&r.Receipt))try{const s=await(await fetch((n=e==null?void 0:e.transaction)==null?void 0:n.Receipt)).blob(),o=window.URL.createObjectURL(s),a=document.createElement("a");a.href=o,a.download="receipt.pdf",document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(o)}catch(i){console.error("Error downloading PDF:",i)}console.log(t)};var rr={VITE_BASE_URL:"http://localhost:8000",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};console.log(rr.VITE_AWS_BUCKET_REGION,".......");const I0=async e=>{var r,n;const t=new Re({region:rr.VITE_AWS_BUCKET_REGION,credentials:{accessKeyId:rr.VITE_AWS_ACCESS_KEY_ID,secretAccessKey:rr.VVITE_AWS_SECRET_ACCESS_KEY}});if(e&&(e!=null&&e.transaction)&&((r=e==null?void 0:e.transaction)!=null&&r.acceptance_letter))try{const s=await(await fetch((n=e==null?void 0:e.transaction)==null?void 0:n.acceptance_letter)).blob(),o=window.URL.createObjectURL(s),a=document.createElement("a");a.href=o,a.download="acceptance_letter.pdf",document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(o)}catch(i){console.error("Error downloading PDF:",i)}console.log(t)};var nr={VITE_BASE_URL:"http://localhost:8000",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};console.log(nr.VITE_AWS_BUCKET_REGION,".......");const N0=async e=>{var r,n;const t=new Re({region:nr.VITE_AWS_BUCKET_REGION,credentials:{accessKeyId:nr.VITE_AWS_ACCESS_KEY_ID,secretAccessKey:nr.VVITE_AWS_SECRET_ACCESS_KEY}});if(e&&(e!=null&&e.transaction)&&((r=e==null?void 0:e.transaction)!=null&&r.transaction_invoice))try{const s=await(await fetch((n=e==null?void 0:e.transaction)==null?void 0:n.transaction_invoice)).blob(),o=window.URL.createObjectURL(s),a=document.createElement("a");a.href=o,a.download="transaction_invoice.pdf",document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(o)}catch(i){console.error("Error downloading PDF:",i)}console.log(t)};var sr={VITE_BASE_URL:"http://localhost:8000",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};console.log(sr.VITE_AWS_BUCKET_REGION,".......");const B0=async e=>{var r,n;const t=new Re({region:sr.VITE_AWS_BUCKET_REGION,credentials:{accessKeyId:sr.VITE_AWS_ACCESS_KEY_ID,secretAccessKey:sr.VVITE_AWS_SECRET_ACCESS_KEY}});if(e&&(e!=null&&e.transaction)&&((r=e==null?void 0:e.transaction)!=null&&r.system_fee_invoice))try{const s=await(await fetch((n=e==null?void 0:e.transaction)==null?void 0:n.system_fee_invoice)).blob(),o=window.URL.createObjectURL(s),a=document.createElement("a");a.href=o,a.download="system_fee_invoice.pdf",document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(o)}catch(i){console.error("Error downloading PDF:",i)}console.log(t)};var ir={VITE_BASE_URL:"http://localhost:8000",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};console.log(ir.VITE_AWS_BUCKET_REGION,".......");const k0=async e=>{var r,n;const t=new Re({region:ir.VITE_AWS_BUCKET_REGION,credentials:{accessKeyId:ir.VITE_AWS_ACCESS_KEY_ID,secretAccessKey:ir.VVITE_AWS_SECRET_ACCESS_KEY}});if(e&&(e!=null&&e.transaction)&&((r=e==null?void 0:e.transaction)!=null&&r.refund_invoice))try{const s=await(await fetch((n=e==null?void 0:e.transaction)==null?void 0:n.refund_invoice)).blob(),o=window.URL.createObjectURL(s),a=document.createElement("a");a.href=o,a.download="refund_invoice.pdf",document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(o)}catch(i){console.error("Error downloading PDF:",i)}console.log(t)};var or={VITE_BASE_URL:"http://localhost:8000",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};console.log(or.VITE_AWS_BUCKET_REGION,".......");const M0=async e=>{var r,n;const t=new Re({region:or.VITE_AWS_BUCKET_REGION,credentials:{accessKeyId:or.VITE_AWS_ACCESS_KEY_ID,secretAccessKey:or.VVITE_AWS_SECRET_ACCESS_KEY}});if(e&&(e!=null&&e.transaction)&&((r=e==null?void 0:e.transaction)!=null&&r.refund_transaction_invoice))try{const s=await(await fetch((n=e==null?void 0:e.transaction)==null?void 0:n.refund_transaction_invoice)).blob(),o=window.URL.createObjectURL(s),a=document.createElement("a");a.href=o,a.download="refund_transaction_invoice.pdf",document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(o)}catch(i){console.error("Error downloading PDF:",i)}console.log(t)};var ar={VITE_BASE_URL:"http://localhost:8000",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};console.log(ar.VITE_AWS_BUCKET_REGION,".......");const $0=async e=>{var r,n;const t=new Re({region:ar.VITE_AWS_BUCKET_REGION,credentials:{accessKeyId:ar.VITE_AWS_ACCESS_KEY_ID,secretAccessKey:ar.VVITE_AWS_SECRET_ACCESS_KEY}});if(e&&(e!=null&&e.transaction)&&((r=e==null?void 0:e.transaction)!=null&&r.refund_system_fee_invoice))try{const s=await(await fetch((n=e==null?void 0:e.transaction)==null?void 0:n.refund_system_fee_invoice)).blob(),o=window.URL.createObjectURL(s),a=document.createElement("a");a.href=o,a.download="refund_system_fee_invoice.pdf",document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(o)}catch(i){console.error("Error downloading PDF:",i)}console.log(t)};export{R0 as D,T0 as a,O0 as b,P0 as c,I0 as d,k0 as e,C0 as f,N0 as g,M0 as h,B0 as i,$0 as j};
