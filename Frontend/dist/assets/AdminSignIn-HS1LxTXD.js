import{a as g,d as f,u as b,r as n,j as e,S as j,aw as N}from"./index-w2wx-x_X.js";import{u as w}from"./index.esm-aRdTVIgd.js";import{k as y,Q as v}from"./react-toastify.esm-DWx9woOs.js";/* empty css                      */const q=()=>{const{register:o,handleSubmit:m,reset:d,formState:{errors:r,isSubmitting:i}}=w(),{login:x,loginErr:s}=g(t=>t.admin),c=f(),a=b(),[p]=n.useState(!1),u=()=>{v.error(`${s.message}`,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})};n.useEffect(()=>{var t;s&&((t=s.message)!=null&&t.includes("No customer exists")||s.message==="Please verify your email first"||s.message==="Incorrect password"||s.message==="no user found")&&u()},[x,s,a]);const h=async t=>{try{(await c(N(t))).payload?a("/admin/dashboard"):a("/admin/login"),d()}catch(l){console.log(l),console.log("error from admin login")}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"md:mx-auto md:w-[600px] md:h-[520px] bg-light mt-[150px] mb-[100px] xs:mx-4 xs:h-[375px] ",children:e.jsx("div",{className:"h-full",children:e.jsx("div",{className:"md:w-[390px] md:mx-auto md:py-[50px] xs:py-[20px] xs:mx-4",children:e.jsxs("form",{onSubmit:m(h),className:"w-full",children:[e.jsx("div",{className:"text-[#808080]] font-bold text-center text-[20px] ",children:"管理者ログイン"}),e.jsx("div",{className:"md:mt-[50px] xs:mt-[24px]",children:e.jsx("label",{className:"text-base text-tertiary",children:"メールアドレス"})}),e.jsxs("div",{className:"mt-[10px]",children:[e.jsx("input",{className:"md:h-[45px] xs:h-[39px] w-full outline-none border border-secondary placeholder-secondary px-4",type:"email",...o("email",{required:"Email address is required",pattern:{value:/\S+@\S+\.\S+/,message:"Invalid email address"}})}),r.email&&e.jsx("p",{className:"text-red-600",children:r.email.message})]}),e.jsx("div",{className:"md:mt-[11px] xs:mt-[14px]",children:e.jsx("label",{className:"text-base text-tertiary",children:"パスワード"})}),e.jsxs("div",{className:"mt-[10px]",children:[e.jsx("input",{className:"md:h-[45px] xs:h-[39px] w-full outline-none border border-secondary placeholder-secondary px-4",type:p?"text":"password",...o("password",{required:"Password is required"})}),r.password&&e.jsx("p",{className:"text-red-600",children:r.password.message})]}),e.jsx("button",{className:"w-full btn h-[50px] flex place-items-center justify-center	bg-[#808080] text-white xs:mt-[32px] md:mt-[29px] font-bold",disabled:i,type:"submit",children:i?e.jsx(j,{}):"ログイン"})]})})})}),e.jsx(y,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})};export{q as default};
