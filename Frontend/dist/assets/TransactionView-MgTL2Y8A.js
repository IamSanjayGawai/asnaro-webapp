import{u as Dx,n as Ix,d as $x,r as t,a as lt,B as kx,ae as Mx,ag as Lx,ah as Px,h as g,a8 as A,au as Qx,j as l,S,al as Gx,am as Ox,an as Vx,aj as Hx,U as Kx,V as Ux,ao as zx}from"./index-w2wx-x_X.js";import{K as rt}from"./baseline-5AKzli58.js";import{d as ke,a as Me,b as nt,S as Zx,c as Jx,R as Wx,e as Xx,C as tt,t as xt,T as Yx,H as hx,f as eu,g as su}from"./RefundModal-n-hWL-AL.js";import{D as ut,a as dt,b as pt,c as ot,d as it,e as gt,f as lu,g as ru,h as nu,i as tu,j as xu}from"./downloadHelpRefundSystem-tXTfCQte.js";import"./emotion-react.browser.esm-kI5PoqX3.js";import"./hoist-non-react-statics.cjs-j2Vrlo-h.js";import"./extends-_9I-EFOp.js";import"./assertThisInitialized-4q6YPdh3.js";import"./memoize-one.esm-oV5jpQgL.js";import"./setPrototypeOf-ahVgEFUp.js";import"./index.esm-y_8cUbAG.js";import"./iconBase-7AsOp5YA.js";import"./Rating-jxWQdIu8.js";import"./objectWithoutPropertiesLoose-9Q1jwsKS.js";const Au=()=>{var Ps,Qs,Gs,Os,Vs,Hs,Ks,Us,zs,Zs,Js,Ws,Xs,Ys,hs,el,sl,ll,rl,nl,tl,xl,ul,dl,pl,ol,il,gl,ml,fl,cl,yl,al,_l,wl,bl,Al,jl,vl,Rl,Nl,Bl,Cl,Sl,ql,El,Tl,Fl,Dl,Il,$l,kl,Ml,Ll,Pl,Ql,Gl,Ol,Vl,Hl,Kl,Ul,zl,Zl,Jl,Wl,Xl,Yl,hl,er,sr,lr,rr,nr,tr,xr,ur,dr,pr,or,ir,gr,mr,fr,cr,yr,ar,_r,wr,br,Ar,jr,vr,Rr,Nr,Br,Cr,Sr,qr,Er,Tr,Fr,Dr,Ir,$r,kr,Mr,Lr,Pr,Qr,Gr,Or,Vr,Hr,Kr,Ur,zr,Zr,Jr,Wr,Xr,Yr,hr,en,sn,ln,rn,nn,tn,xn,un,dn,pn,on,gn,mn,fn,cn,yn,an,_n,wn,bn,An,jn,vn,Rn,Nn,Bn,Cn,Sn,qn,En,Tn,Fn,Dn,In,$n,kn,Mn,Ln,Pn,Qn,Gn,On,Vn,Hn,Kn,Un,zn;const mt=Dx(),{id:c}=Ix(),f=$x(),te=t.useRef(null),Re=t.useRef(null),[Y,Le]=t.useState(!1),[Pe,ft]=t.useState(!1),[ct,yt]=t.useState(!1),[at,_t]=t.useState(!1),[wt,bt]=t.useState(!1),[At,Qe]=t.useState(!1),[jt,Ge]=t.useState(!1),[Oe,K]=t.useState(!1),[vt,Ve]=t.useState(!1),[Rt,He]=t.useState(!1),[Nt,Ke]=t.useState(!1),[Bt,xe]=t.useState(!1),[Ue,h]=t.useState(!1),[ze,Ze]=t.useState(!1),[Ct,ue]=t.useState(!1),[St,de]=t.useState(!1),[qt,pe]=t.useState(!1),[Et,oe]=t.useState(!1),[Tt,Je]=t.useState(!1),[M,We]=t.useState(!1),[ee,Xe]=t.useState(!1),[Ne,Ye]=t.useState(!1),[Ft,he]=t.useState(!1),[Dt,es]=t.useState(!1),[It,ss]=t.useState(!1),[$t,ls]=t.useState(!1),[kt,rs]=t.useState(!1),[Mt,ns]=t.useState(!1),[Lt,ts]=t.useState(!1),[xs,Pt]=t.useState(0),[us,Qt]=t.useState(0),[ds,Gt]=t.useState(0),[ps,Ot]=t.useState(0),[os,Vt]=t.useState(0),[is,Ht]=t.useState(0),[Be,m]=t.useState([]),[U,Ce]=t.useState(""),[se,gs]=t.useState(null),[ms,Kt]=t.useState(""),[fs,cs]=t.useState(!1),[Ut,ys]=t.useState(!1),{loading:zt,registerContent:Zt,firstTimeAfterPayment:Jt,estimateLoading:le,refundLoading:as,quatation:z,refundTable:v,refundHit:Se,taxData:qe,taxDetails:i,RefundTaxDetails:d,ordererdAgree:Wt,contractSigned:Xt,reviewModalShow:_s,cancelModalshow:ws}=lt(kx),{transaction:s}=lt(Mx),Yt=Pe||((Ps=s==null?void 0:s.transaction)==null?void 0:Ps.quotationRequested),ht=ct||((Qs=s==null?void 0:s.transaction)==null?void 0:Qs.quotationSent),L=at||((Gs=s==null?void 0:s.transaction)==null?void 0:Gs.quotationReceived),P=wt||((Os=s==null?void 0:s.transaction)==null?void 0:Os.reQuoteRequested),ex=At||((Vs=s==null?void 0:s.transaction)==null?void 0:Vs.reQuoteReceived),Q=jt||((Hs=s==null?void 0:s.transaction)==null?void 0:Hs.reQuoteSent),ie=Oe||((Ks=s==null?void 0:s.transaction)==null?void 0:Ks.orderer_agree),G=Rt||((Us=s==null?void 0:s.transaction)==null?void 0:Us.contractSigned),bs=Nt||((zs=s==null?void 0:s.transaction)==null?void 0:zs.paymentDeposit),As=Ue||((Zs=s==null?void 0:s.transaction)==null?void 0:Zs.delivery_status)===1,Ee=ze||((Js=s==null?void 0:s.transaction)==null?void 0:Js.delivery_status)===3,Te=St||((Ws=s==null?void 0:s.transaction)==null?void 0:Ws.agreedToCancel),js=qt||((Xs=s==null?void 0:s.transaction)==null?void 0:Xs.refundRequested),Fe=Et||((Ys=s==null?void 0:s.transaction)==null?void 0:Ys.refundTransferred),[x,sx]=t.useState([]),[q,lx]=t.useState([]),[w,rx]=t.useState(),u=(hs=s==null?void 0:s.transaction)==null?void 0:hs.quotation,vs=localStorage.getItem("estimateTableData"),a=vs?JSON.parse(vs):[],Rs=(el=qe==null?void 0:qe.taxes[0])==null?void 0:el.rate,Ns=t.useRef(!1),E=s&&((sl=s==null?void 0:s.transaction)==null?void 0:sl.estimation_pdf),ge=s&&((ll=s==null?void 0:s.transaction)==null?void 0:ll.advance_payment_invoice),T=s&&((rl=s==null?void 0:s.transaction)==null?void 0:rl.order_form),F=s&&((nl=s==null?void 0:s.transaction)==null?void 0:nl.delivery_slip),D=s&&((tl=s==null?void 0:s.transaction)==null?void 0:tl.Receipt),I=s&&((xl=s==null?void 0:s.transaction)==null?void 0:xl.acceptance_letter),me=s&&((ul=s==null?void 0:s.transaction)==null?void 0:ul.transaction_invoice),fe=s&&((dl=s==null?void 0:s.transaction)==null?void 0:dl.refund_transaction_invoice),ce=s&&((pl=s==null?void 0:s.transaction)==null?void 0:pl.system_fee_invoice),Bs=s&&((ol=s==null?void 0:s.transaction)==null?void 0:ol.refund_system_fee_invoice),re=ms||s&&((il=s==null?void 0:s.transaction)==null?void 0:il.refund_invoice),[nx,tx]=t.useState(!1);console.log(re,"isBlueButtonForRefundInvoice........");const Z=u&&u.concat((q==null?void 0:q.length)>0?q:!Se&&v?v:(ml=(gl=s==null?void 0:s.transaction)==null?void 0:gl.refund)==null?void 0:ml.tableData),J=(q==null?void 0:q.length)>0?q:!Se&&v?v:(cl=(fl=s==null?void 0:s.transaction)==null?void 0:fl.refund)==null?void 0:cl.tableData;function j(e){return e===null?"":e.toLocaleString("ja-JP")}const y=e=>{if(!e||typeof e!="string")return e;const n=parseFloat(e.replace(/,/g,""));return isNaN(n)?0:n},Cs={nodes:x&&Array.isArray(x)&&(x==null?void 0:x.length)>0?x.map((e,n)=>({id:n.toString(),amount:e==null?void 0:e.price,content:e==null?void 0:e.item_name,deadline:e==null?void 0:e.deadline,drawingNumber:e==null?void 0:e.drawing_number,quantity:e==null?void 0:e.quantity,unit:e==null?void 0:e.unit,unitPrice:e==null?void 0:e.unit_price,taxAmount:e==null?void 0:e.taxAmount,totalAmountIncludingTax:e==null?void 0:e.totalAmountIncludingTax,totalamountExcludingTax:e==null?void 0:e.totalamountExcludingTax})):!Zt&&z&&Array.isArray(z)&&(z==null?void 0:z.length)>0?z.map((e,n)=>({id:n.toString(),amount:e.price,content:e.item_name,deadline:e.deadline?new Date(e.deadline).toISOString().slice(0,10):null,drawingNumber:e.drawing_number,quantity:e.quantity,unit:e.unit,unitPrice:e.unit_price,taxAmount:e.taxAmount,totalAmountIncludingTax:e.totalAmountIncludingTax,totalamountExcludingTax:e.totalamountExcludingTax})):Array.isArray(a)&&a.length>0?a.map((e,n)=>({id:n.toString(),amount:j(e.amount),content:e.content,deadline:e.deadline,drawingNumber:e.drawingNumber,quantity:e.quantity,unit:e.unit,unitPrice:e.unitPrice,totalAmountIncludingTax:e.totalAmountIncludingTax,totalamountExcludingTax:e.totalamountExcludingTax})):u&&Array.isArray(u)&&(u==null?void 0:u.length)>0?u.map((e,n)=>({id:n.toString(),amount:e==null?void 0:e.price,content:e==null?void 0:e.item_name,deadline:e!=null&&e.deadline?new Date(e==null?void 0:e.deadline).toISOString().split("T")[0]:null,drawingNumber:e==null?void 0:e.drawing_number,quantity:e==null?void 0:e.quantity,unit:e==null?void 0:e.unit,unitPrice:e==null?void 0:e.unit_price,taxAmount:e==null?void 0:e.taxAmount,totalAmountIncludingTax:e==null?void 0:e.totalAmountIncludingTax,totalamountExcludingTax:e==null?void 0:e.totalamountExcludingTax})):Y?ke.nodes:Me.nodes},xx={nodes:Z&&Array.isArray(Z)&&(Z==null?void 0:Z.length)>0?Z.map((e,n)=>({id:n.toString(),amount:e!=null&&e.amount?`-${j(y(e==null?void 0:e.amount))}`:e==null?void 0:e.price,content:(e==null?void 0:e.item_name)||(e==null?void 0:e.content),deadline:e!=null&&e.deadline?new Date(e==null?void 0:e.deadline).toISOString().split("T")[0]:null,drawingNumber:e==null?void 0:e.drawing_number,quantity:e==null?void 0:e.quantity,unit:e==null?void 0:e.unit,unitPrice:e==null?void 0:e.unit_price,taxAmount:e==null?void 0:e.taxAmount,totalAmountIncludingTax:e==null?void 0:e.totalAmountIncludingTax,totalamountExcludingTax:e==null?void 0:e.totalamountExcludingTax})):Y?ke.nodes:Me.nodes},ux={nodes:J&&Array.isArray(J)&&(J==null?void 0:J.length)>0?J.map((e,n)=>({id:n.toString(),amount:e==null?void 0:e.amount,content:e==null?void 0:e.content})):Y?nt.nodes:Me.nodes};t.useEffect(()=>{var e;(s||nx)&&f(Lx((e=s==null?void 0:s.transaction)==null?void 0:e.quotation))},[f,(yl=s==null?void 0:s.transaction)==null?void 0:yl.quotation,s]),t.useEffect(()=>{b()},[f,c,Wt,Xt,Oe,Ue,ze,Ct,Tt,Ut]),t.useEffect(()=>{xs!==0&&ut(s)},[xs]),t.useEffect(()=>{us!==0&&dt(s)},[us]),t.useEffect(()=>{ds!==0&&pt(s)},[ds]),t.useEffect(()=>{ps!==0&&ot(s)},[ps]),t.useEffect(()=>{os!==0&&it(s)},[os]),t.useEffect(()=>{is!==0&&gt(s)},[is]),t.useEffect(()=>{te.current&&(te.current.scrollTop=te.current.scrollHeight),Re.current&&Re.current.focus()},[Be,s]),t.useEffect(()=>{var e,n,o,p,_;window.scrollTo(0,0),s&&((n=(e=s==null?void 0:s.transaction)==null?void 0:e.conversation)==null?void 0:n.length)>0&&m((p=(o=s==null?void 0:s.transaction)==null?void 0:o.conversation)==null?void 0:p.map(r=>{var B,C,R,N;return r!=null&&r.file_path?{sender_name:(B=r==null?void 0:r.sender_id)==null?void 0:B.name01,sender_pic:(C=r==null?void 0:r.sender_id)==null?void 0:C.profile_img,message:r==null?void 0:r.file_name,file_path:r==null?void 0:r.file_path,first_msg:r==null?void 0:r.first_msg,seller_quote:r==null?void 0:r.seller_quote,buyer_reQuote:r==null?void 0:r.buyer_reQuote,buyer_Agree:r==null?void 0:r.buyer_Agree,contract_sign:r==null?void 0:r.contract_sign,paymentDeposited:r==null?void 0:r.paymentDeposited,deliveryCompleted:r==null?void 0:r.deliveryCompleted,receiptGenerated:r==null?void 0:r.receiptGenerated,deliverySentBack:r==null?void 0:r.deliverySentBack,deliveryAccepted:r==null?void 0:r.deliveryAccepted,cancelRequest:r==null?void 0:r.cancelRequest,cancelAgree:r==null?void 0:r.cancelAgree,requestRefund:r==null?void 0:r.requestRefund,refundTermsAgree:r==null?void 0:r.refundTermsAgree,cancelRefundRequest:r==null?void 0:r.cancelRefundRequest}:{sender_name:(R=r==null?void 0:r.sender_id)==null?void 0:R.name01,sender_pic:(N=r==null?void 0:r.sender_id)==null?void 0:N.profile_img,message:r==null?void 0:r.note,first_msg:r==null?void 0:r.first_msg,seller_quote:r==null?void 0:r.seller_quote,buyer_reQuote:r==null?void 0:r.buyer_reQuote,buyer_Agree:r==null?void 0:r.buyer_Agree,contract_sign:r==null?void 0:r.contract_sign,paymentDeposited:r==null?void 0:r.paymentDeposited,deliveryCompleted:r==null?void 0:r.deliveryCompleted,receiptGenerated:r==null?void 0:r.receiptGenerated,deliverySentBack:r==null?void 0:r.deliverySentBack,deliveryAccepted:r==null?void 0:r.deliveryAccepted,cancelRequest:r==null?void 0:r.cancelRequest,cancelAgree:r==null?void 0:r.cancelAgree,requestRefund:r==null?void 0:r.requestRefund,refundTermsAgree:r==null?void 0:r.refundTermsAgree,cancelRefundRequest:r==null?void 0:r.cancelRefundRequest}})),(_=s==null?void 0:s.transaction)!=null&&_.paymentDeposit&&Jt&&(cx(),f(Px(!1)))},[s]),t.useEffect(()=>{Ns.current||(g.emit("join",c),g.on("newMessage",e=>{f(A(!0)),e.file_path?m(n=>[...n,{sender_name:e.sender_name,sender_pic:e.sender_pic,message:e.message,file_path:e.file_path,first_msg:e.first_msg,seller_quote:e.seller_quote,buyer_reQuote:e.buyer_reQuote,buyer_Agree:e.buyer_Agree,contract_sign:e.contract_sign,paymentDeposited:e.paymentDeposited,deliveryCompleted:e.deliveryCompleted,receiptGenerated:e.receiptGenerated,deliverySentBack:e.deliverySentBack,deliveryAccepted:e.deliveryAccepted,cancelRequest:e.cancelRequest,cancelAgree:e.cancelAgree,requestRefund:e.requestRefund,refundTermsAgree:e.refundTermsAgree,cancelRefundRequest:e.cancelRefundRequest}]):m(n=>[...n,{sender_name:e.sender_name,sender_pic:e.sender_pic,message:e.message,first_msg:e.first_msg,seller_quote:e.seller_quote,buyer_reQuote:e.buyer_reQuote,buyer_Agree:e.buyer_Agree,contract_sign:e.contract_sign,paymentDeposited:e.paymentDeposited,deliveryCompleted:e.deliveryCompleted,receiptGenerated:e.receiptGenerated,deliverySentBack:e.deliverySentBack,deliveryAccepted:e.deliveryAccepted,cancelRequest:e.cancelRequest,cancelAgree:e.cancelAgree,requestRefund:e.requestRefund,refundTermsAgree:e.refundTermsAgree,cancelRefundRequest:e.cancelRefundRequest}])}),g.on("newMessageQuote",e=>{_t(!0),K(!1),sx(e.estimateTable),Ge(e.reQuoteSent),f(A(!0)),console.log("QuoteData",e),m(n=>[...n,{sender_name:e.sender_name,sender_pic:e.sender_pic,message:e.message,file_path:e.file_path,seller_quote:e.seller_quote}])}),g.on("newMessageReQuote",e=>{Qe(!0),K(!1),f(A(!0)),console.log("QuoteData",e),m(n=>[...n,{sender_name:e.sender_name,sender_pic:e.sender_pic,message:e.message,buyer_reQuote:e.buyer_reQuote}])}),g.on("newMessageAgee",e=>{K(!0),f(A(!0)),m(n=>[...n,{sender_name:e.sender_name,sender_pic:e.sender_pic,message:e.message,file_path:e.file_path,buyer_Agree:e.buyer_Agree}])}),g.on("newMessageContractSign",e=>{He(!0),f(A(!0)),m(n=>[...n,{sender_name:e.sender_name,sender_pic:e.sender_pic,message:e.message,file_path:e.file_path,buyer_Agree:e.buyer_Agree,contract_sign:e.contract_sign}])}),g.on("newMessagePayment",e=>{xe(!0),Ke(!0),f(A(!0)),m(n=>[...n,{sender_name:e.sender_name,sender_pic:e.sender_pic,message:e.message,file_path:e.file_path,buyer_Agree:e.buyer_Agree,contract_sign:e.contract_sign,paymentDeposited:e.paymentDeposited}])}),g.on("newMessageDeliveryCompleted",e=>{h(!0),f(A(!0)),m(n=>[...n,{sender_name:e.sender_name,sender_pic:e.sender_pic,message:e.message,file_path:e.file_path,buyer_Agree:e.buyer_Agree,contract_sign:e.contract_sign,paymentDeposited:e.paymentDeposited,deliveryCompleted:e.deliveryCompleted,receiptGenerated:e.receiptGenerated}])}),g.on("newMessageDeliverySentBack",e=>{h(!1),f(A(!0)),m(n=>[...n,{sender_name:e.sender_name,sender_pic:e.sender_pic,message:e.message,file_path:e.file_path,buyer_Agree:e.buyer_Agree,contract_sign:e.contract_sign,paymentDeposited:e.paymentDeposited,deliveryCompleted:e.deliveryCompleted,receiptGenerated:e.receiptGenerated,deliverySentBack:e.deliverySentBack,deliveryAccepted:e.deliveryAccepted,cancelRequest:e.cancelRequest,cancelAgree:e.cancelAgree,requestRefund:e.requestRefund,refundTermsAgree:e.refundTermsAgree,cancelRefundRequest:e.cancelRefundRequest}])}),g.on("newMessageDeliveryAccepted",e=>{Ze(!0),xe(!1),f(A(!0)),m(n=>[...n,{sender_name:e.sender_name,sender_pic:e.sender_pic,message:e.message,file_path:e.file_path,buyer_Agree:e.buyer_Agree,contract_sign:e.contract_sign,paymentDeposited:e.paymentDeposited,deliveryCompleted:e.deliveryCompleted,receiptGenerated:e.receiptGenerated,deliverySentBack:e.deliverySentBack,deliveryAccepted:e.deliveryAccepted,cancelRequest:e.cancelRequest,cancelAgree:e.cancelAgree,requestRefund:e.requestRefund,refundTermsAgree:e.refundTermsAgree,cancelRefundRequest:e.cancelRefundRequest}])}),g.on("newMessageCancelRequest",e=>{xe(!1),ue(!0),f(A(!0)),m(n=>[...n,{sender_name:e.sender_name,sender_pic:e.sender_pic,message:e.message,file_path:e.file_path,buyer_Agree:e.buyer_Agree,contract_sign:e.contract_sign,paymentDeposited:e.paymentDeposited,deliveryCompleted:e.deliveryCompleted,receiptGenerated:e.receiptGenerated,deliverySentBack:e.deliverySentBack,deliveryAccepted:e.deliveryAccepted,cancelRequest:e.cancelRequest,cancelAgree:e.cancelAgree,requestRefund:e.requestRefund,refundTermsAgree:e.refundTermsAgree,cancelRefundRequest:e.cancelRefundRequest}])}),g.on("newMessageRefundCancellation",e=>{Je(!0),ue(!1),pe(!1),de(!1),oe(!1),f(A(!0)),m(n=>[...n,{sender_name:e.sender_name,sender_pic:e.sender_pic,message:e.message,file_path:e.file_path,buyer_Agree:e.buyer_Agree,contract_sign:e.contract_sign,paymentDeposited:e.paymentDeposited,deliveryCompleted:e.deliveryCompleted,receiptGenerated:e.receiptGenerated,deliverySentBack:e.deliverySentBack,deliveryAccepted:e.deliveryAccepted,cancelRequest:e.cancelRequest,cancelAgree:e.cancelAgree,requestRefund:e.requestRefund,refundTermsAgree:e.refundTermsAgree,cancelRefundRequest:e.cancelRefundRequest}])}),g.on("newMessageCancelAgreed",e=>{de(!0),f(A(!0)),m(n=>[...n,{sender_name:e.sender_name,sender_pic:e.sender_pic,message:e.message,file_path:e.file_path,buyer_Agree:e.buyer_Agree,contract_sign:e.contract_sign,paymentDeposited:e.paymentDeposited,deliveryCompleted:e.deliveryCompleted,receiptGenerated:e.receiptGenerated,deliverySentBack:e.deliverySentBack,deliveryAccepted:e.deliveryAccepted,cancelRequest:e.cancelRequest,cancelAgree:e.cancelAgree,requestRefund:e.requestRefund,refundTermsAgree:e.refundTermsAgree,cancelRefundRequest:e.cancelRefundRequest}])}),g.on("newMessageRequestRefund",e=>{lx(e.refundTable),rx(e.RefundTaxDetails),Kt(e.refundPdfLink),pe(!0),f(A(!0)),m(n=>[...n,{sender_name:e.sender_name,sender_pic:e.sender_pic,message:e.message,file_path:e.file_path,buyer_Agree:e.buyer_Agree,contract_sign:e.contract_sign,paymentDeposited:e.paymentDeposited,deliveryCompleted:e.deliveryCompleted,receiptGenerated:e.receiptGenerated,deliverySentBack:e.deliverySentBack,deliveryAccepted:e.deliveryAccepted,cancelRequest:e.cancelRequest,cancelAgree:e.cancelAgree,requestRefund:e.requestRefund,cancelRefundRequest:e.cancelRefundRequest}])}),g.on("newMessageRefundTermsAgree",e=>{oe(!0),f(A(!0)),m(n=>[...n,{sender_name:e.sender_name,sender_pic:e.sender_pic,message:e.message,file_path:e.file_path,buyer_Agree:e.buyer_Agree,contract_sign:e.contract_sign,paymentDeposited:e.paymentDeposited,deliveryCompleted:e.deliveryCompleted,receiptGenerated:e.receiptGenerated,deliverySentBack:e.deliverySentBack,deliveryAccepted:e.deliveryAccepted,cancelRequest:e.cancelRequest,cancelAgree:e.cancelAgree,requestRefund:e.requestRefund,refundTermsAgree:e.refundTermsAgree,cancelRefundRequest:e.cancelRefundRequest}])}),g.on("adminDeliveryStatusChangeRefresh",async e=>{console.log("adminDeliveryStatusChangeRefresh",e),ys(!0),h(!1)}),g.on("adminTransactionCancelRefresh",async e=>{console.log("adminTransactionCancelRefresh",e),ys(!0)}),Ns.current=!0)},[c]);const b=async()=>{await f(Qx({transactionId:c}))},dx=async()=>{await b(),Pt(e=>e+1)},px=async()=>{await b(),Qt(e=>e+1)},ox=async()=>{await b(),Gt(e=>e+1)},ix=async()=>{await b(),Ot(e=>e+1)},gx=async()=>{await b(),Vt(e=>e+1)},Ss=async()=>{await b(),Ht(e=>e+1)},mx=async()=>{var n;const e=(n=s==null?void 0:s.transaction)==null?void 0:n._id;await f(zx(e))},fx=()=>{mt(`/transaction/${c}/payment`),f(Gx(!0))},ye=async()=>{var e;We(!0),m(n=>{var o,p;return[...n,{sender_name:(o=s==null?void 0:s.user)==null?void 0:o.name,sender_pic:(p=s==null?void 0:s.user)==null?void 0:p.pic,message:"再見積を依頼しました",buyer_reQuote:!0}]}),g.emit("sendReQuote",{transactionId:c,message:"再見積を依頼しました",sender_id:(e=s==null?void 0:s.user)==null?void 0:e.id},async()=>{bt(!0),Ge(!1),K(!1),We(!1),await b()})},ae=async()=>{var e;Xe(!0),m(n=>{var o,p;return[...n,{sender_name:(o=s==null?void 0:s.user)==null?void 0:o.name,sender_pic:(p=s==null?void 0:s.user)==null?void 0:p.pic,message:"取引条件に合意しました",buyer_Agree:!0}]}),g.emit("agreeQuote",{transactionId:c,message:"取引条件に合意しました",sender_id:(e=s==null?void 0:s.user)==null?void 0:e.id,buyer_Agree:!0},async()=>{K(!0),Xe(!1),await b()})},qs=async()=>{var e;Ye(!0),m(n=>{var o,p;return[...n,{sender_name:(o=s==null?void 0:s.user)==null?void 0:o.name,sender_pic:(p=s==null?void 0:s.user)==null?void 0:p.pic,message:"契約を締結しました",contract_sign:!0}]}),g.emit("contractSign",{transactionId:c,message:"契約を締結しました",file:se,sender_id:(e=s==null?void 0:s.user)==null?void 0:e.id},async()=>{He(!0),Ye(!1),await mx()})},cx=async()=>{var e;m(n=>{var o,p;return[...n,{sender_name:(o=s==null?void 0:s.user)==null?void 0:o.name,sender_pic:(p=s==null?void 0:s.user)==null?void 0:p.pic,message:"仮払いが完了し、発注書が発行されました",paymentDeposited:!0}]}),g.emit("paymentCompleted",{transactionId:c,message:"仮払いが完了し、発注書が発行されました",sender_id:(e=s==null?void 0:s.user)==null?void 0:e.id},async()=>{Ke(!0)})},yx=async()=>{var e;he(!0),m(n=>{var o,p;return[...n,{sender_name:(o=s==null?void 0:s.user)==null?void 0:o.name,sender_pic:(p=s==null?void 0:s.user)==null?void 0:p.pic,message:"納品が完了し、納品書・受領書が発行されました",deliveryCompleted:!0,receiptGenerated:!0}]}),g.emit("deliveryCompleted",{transactionId:c,message:"納品が完了し、納品書・受領書が発行されました",sender_id:(e=s==null?void 0:s.user)==null?void 0:e.id},async()=>{h(!0),he(!1)})},ax=async()=>{var e;es(!0),m(n=>{var o,p;return[...n,{sender_name:(o=s==null?void 0:s.user)==null?void 0:o.name,sender_pic:(p=s==null?void 0:s.user)==null?void 0:p.pic,message:"納品が完了し、納品書・受領書が発行されました",deliverySentBack:!0}]}),g.emit("deliverySentBack",{transactionId:c,message:"納品が完了し、納品書・受領書が発行されました",sender_id:(e=s==null?void 0:s.user)==null?void 0:e.id},async()=>{es(!1),h(!1)})},_x=async()=>{var e;ss(!0),m(n=>{var o,p;return[...n,{sender_name:(o=s==null?void 0:s.user)==null?void 0:o.name,sender_pic:(p=s==null?void 0:s.user)==null?void 0:p.pic,message:"納品が完了し、納品書・受領書が発行されました",deliveryAccepted:!0}]}),g.emit("deliveryAccepted",{transactionId:c,message:"納品が完了し、納品書・受領書が発行されました",sender_id:(e=s==null?void 0:s.user)==null?void 0:e.id},async()=>{Ze(!0),ss(!1)})},wx=async()=>{var e,n;m(o=>{var p,_;return[...o,{sender_name:(p=s==null?void 0:s.user)==null?void 0:p.name,sender_pic:(_=s==null?void 0:s.user)==null?void 0:_.pic,message:"キャンセルを依頼しました",cancelRequest:!0}]}),g.emit("cancelRequest",{transactionId:c,message:"キャンセルを依頼しました",sender_id:(e=s==null?void 0:s.user)==null?void 0:e.id,userId:(n=s==null?void 0:s.user)==null?void 0:n.id},async()=>{ue(!0),xe(!1),await b()})},bx=async()=>{var e,n;ls(!0),m(o=>{var p,_;return[...o,{sender_name:(p=s==null?void 0:s.user)==null?void 0:p.name,sender_pic:(_=s==null?void 0:s.user)==null?void 0:_.pic,message:"キャンセルを取り消す",cancelRefundRequest:!0}]}),g.emit("cancelRefundRequest",{transactionId:c,message:"キャンセルを取り消す",sender_id:(e=s==null?void 0:s.user)==null?void 0:e.id,userId:(n=s==null?void 0:s.user)==null?void 0:n.id},async()=>{Je(!0),ue(!1),pe(!1),de(!1),oe(!1),ls(!1),await b()})},Ax=async()=>{var e;rs(!0),m(n=>{var o,p;return[...n,{sender_name:(o=s==null?void 0:s.user)==null?void 0:o.name,sender_pic:(p=s==null?void 0:s.user)==null?void 0:p.pic,message:"キャンセル受付中",cancelAgree:!0}]}),g.emit("cancelAgree",{transactionId:c,message:"キャンセル受付中",sender_id:(e=s==null?void 0:s.user)==null?void 0:e.id},async()=>{de(!0),rs(!1),await b()})},jx=async()=>{var e;ns(!0),m(n=>{var o,p;return[...n,{sender_name:(o=s==null?void 0:s.user)==null?void 0:o.name,sender_pic:(p=s==null?void 0:s.user)==null?void 0:p.pic,message:"返金が要求されました",requestRefund:!0}]}),g.emit("requestRefund",{transactionId:c,message:"返金が要求されました",sender_id:(e=s==null?void 0:s.user)==null?void 0:e.id,refundTable:v,RefundTaxDetails:d},async()=>{pe(!0),ns(!1),await b()})},vx=async()=>{var e;ts(!0),m(n=>{var o,p;return[...n,{sender_name:(o=s==null?void 0:s.user)==null?void 0:o.name,sender_pic:(p=s==null?void 0:s.user)==null?void 0:p.pic,message:"返金内容に合意する",refundTermsAgree:!0}]}),g.emit("refundTermsAgree",{transactionId:c,message:"返金内容に合意する",sender_id:(e=s==null?void 0:s.user)==null?void 0:e.id},async()=>{oe(!0),await b(),ts(!1)})},Rx=async e=>{var n,o,p,_,r;e.preventDefault(),U.length!==0&&(!Pe&&((o=(n=s==null?void 0:s.transaction)==null?void 0:n.conversation)==null?void 0:o.length)===0&&(Be.push({sender_name:(p=s==null?void 0:s.user)==null?void 0:p.name,sender_pic:(_=s==null?void 0:s.user)==null?void 0:_.pic,message:"見積を依頼しました",first_msg:!0,seller_quote:!1,buyer_reQuote:!1,buyer_Agree:!1,contract_sign:!1,paymentDeposited:!1,deliveryCompleted:!1,receiptGenerated:!1,deliverySentBack:!1,deliveryAccepted:!1,cancelRequest:!1,cancelAgree:!1,requestRefund:!1,refundTermsAgree:!1,cancelRefundRequest:!1}),g.emit("sendMessage",{transactionId:c,message:"見積を依頼しました",sender_id:(r=s==null?void 0:s.user)==null?void 0:r.id,first_msg:!0,seller_quote:!1,buyer_reQuote:!1,buyer_Agree:!1,contract_sign:!1,paymentDeposited:!1,deliveryCompleted:!1,receiptGenerated:!1,deliverySentBack:!1,deliveryAccepted:!1,cancelRequest:!1,cancelAgree:!1,requestRefund:!1,refundTermsAgree:!1,cancelRefundRequest:!1}),ft(!0)),setTimeout(()=>{var B,C;se?(m(R=>{var N,k;return[...R,{sender_name:(N=s==null?void 0:s.user)==null?void 0:N.name,sender_pic:(k=s==null?void 0:s.user)==null?void 0:k.pic,message:U,file_path:URL.createObjectURL(se),file_type:se.type}]}),g.emit("sendMessage",{transactionId:c,message:U,file:se,sender_id:(B=s==null?void 0:s.user)==null?void 0:B.id})):(m(R=>{var N,k;return[...R,{sender_name:(N=s==null?void 0:s.user)==null?void 0:N.name,sender_pic:(k=s==null?void 0:s.user)==null?void 0:k.pic,message:U}]}),g.emit("sendMessage",{transactionId:c,message:U,sender_id:(C=s==null?void 0:s.user)==null?void 0:C.id})),Ce(""),gs(null)},500))},De=async()=>{var n;if(!a||!Array.isArray(a)){console.error("estimateTable is null or not an array");return}const e=[];a.forEach(({content:o,deadline:p,drawingNumber:_,unitPrice:r,quantity:B,unit:C,amount:R})=>{e.push({item_name:o,drawing_number:_,quantity:parseFloat(B),deadline:p,unit:C,price:j(R),unit_price:j(r),metadata:{note:(i==null?void 0:i.textareaValue)||"",totalamountExcludingTax:(i==null?void 0:i.amountExcludingTax)||0,taxAmount:(i==null?void 0:i.taxAmount)||0,totalAmountIncludingTax:(i==null?void 0:i.totalAmountIncludingTax)||0}})}),await f(Ox({estimateData:e,taxRate:10,transactionId:c})),m(o=>{var p,_;return[...o,{sender_name:(p=s==null?void 0:s.user)==null?void 0:p.name,sender_pic:(_=s==null?void 0:s.user)==null?void 0:_.pic,message:"見積書を送信しました",seller_quote:!0}]}),g.emit("sendQuote",{transactionId:c,message:"見積書を送信しました",sender_id:(n=s==null?void 0:s.user)==null?void 0:n.id,estimateTable:e},async()=>{localStorage.removeItem("estimateTableData"),localStorage.removeItem("taxDetails"),yt(!0),Qe(!1),K(!1),tx(!0),await b()})},Es=async()=>{if(!v||!Array.isArray(v)){console.error("refundTable is null or not an array");return}const e=v.map(n=>({content:n==null?void 0:n.content,amount:y(n==null?void 0:n.amount)}));await f(Vx({tableData:e,taxDetails:{totalAmountExcludingTax:y(d==null?void 0:d.totalAmountExcludingTax)||0,taxAmount:y(d==null?void 0:d.taxAmount)||0,totalAmountIncludingTax:y(d==null?void 0:d.totalAmountIncludingTax)||0,textareaValue:(d==null?void 0:d.textareaValue)||"",adminRefundTax:10},transId:c})),jx(),await b()},Nx=()=>{Le(!0),f(Hx({}))},Ts=()=>{console.log("refund"),cs(!0)},_e=()=>{ut(s)},Fs=()=>{lu(s)},we=()=>{dt(s)},be=()=>{pt(s)},Ae=()=>{ot(s)},je=()=>{it(s)},Ds=()=>{ru(s)},Is=()=>{gt(s)},$s=()=>{nu(s)},ks=()=>{tu(s)},Bx=()=>{xu(s)},$=u&&u.length>0?u[u.length-1]:null,O=$?$.taxAmount:null,V=$?$.totalAmountIncludingTax:null,H=$?$.totalamountExcludingTax:null,Ie=$?$.note:null;console.log("transaction",s);const Ms=()=>{f(Kx(!0))},Cx=()=>{f(Ux(!0))},[ne,Sx]=t.useState(!1),Ls=()=>{Sx(!ne)},ve=160,W=(_l=(al=s==null?void 0:s.transaction)==null?void 0:al.customer_id)==null?void 0:_l.business_content,X=(bl=(wl=s==null?void 0:s.transaction)==null?void 0:wl.seller_id)==null?void 0:bl.business_content,qx=W&&W.length>ve,Ex=X&&X.length>ve,Tx=ne?W:W==null?void 0:W.slice(0,ve),Fx=ne?X:X==null?void 0:X.slice(0,ve);return l.jsxs(l.Fragment,{children:[zt?l.jsx(S,{}):l.jsx("div",{className:"flex justify-center flex-col w-full  items-center sm:mb-80 mb-10 mt-5 text-start ",children:l.jsxs("div",{className:"md:block lg:w-[1200px] sm:w-[700px] xs:w-[400px]  sm:px-6 md:px-8 xs:py-3 md:py-5 lg:py-6 flex justify-start flex-col xs:px-[1.8rem] ",children:[s&&(s!=null&&s.user)&&((Al=s==null?void 0:s.user)!=null&&Al.name)&&(s==null?void 0:s.user.name)===(s==null?void 0:s.seller_name)?l.jsx("p",{className:" text-[#808080] lg:text-[18px] xs:text-[12] ",children:s==null?void 0:s.seller_name}):l.jsx("p",{className:" text-[#808080] lg:text-[18px] xs:text-[12] ",children:s==null?void 0:s.seller_name}),s&&(s!=null&&s.user)&&((jl=s==null?void 0:s.user)!=null&&jl.name)&&(s==null?void 0:s.user.name)===(s==null?void 0:s.seller_name)?l.jsx("p",{className:"text-[#255BB3] lg:text-[24px] xs:text-[18px] font-bold mt-2",children:(vl=s==null?void 0:s.transaction)==null?void 0:vl.process_name}):l.jsx("p",{className:"text-[#255BB3] lg:text-[24px] xs:text-[18px] font-bold mt-2",children:(Rl=s==null?void 0:s.transaction)==null?void 0:Rl.process_name}),((Nl=s==null?void 0:s.transaction)==null?void 0:Nl.transaction_status)!==9?l.jsxs("div",{className:"mt-5  text-[#808080]  lg:text-[24px] xs:text-[14px]",children:["現在のステータス",(Cl=(Bl=s==null?void 0:s.transaction)==null?void 0:Bl.initiateRefund)!=null&&Cl.IsTrue?l.jsxs("div",{className:"flex flex-col justify-center  bg-[#F5F5F5]  px-2  mt-[9px]  ",children:[l.jsx(Wx,{IsTrue:(Pl=(Ll=s==null?void 0:s.transaction)==null?void 0:Ll.initiateRefund)==null?void 0:Pl.IsTrue,buyername:s&&s.user&&s.user.name===s.customer_name,sellername:s&&s.user&&s.user.name===s.seller_name,netAgreedToCancel:Te,ratingByBuyer:s&&((Ql=s==null?void 0:s.transaction)==null?void 0:Ql.ratingByBuyer),ratingBySeller:s&&((Gl=s==null?void 0:s.transaction)==null?void 0:Gl.ratingBySeller),netRefundRequested:js,netRefundTermsAgreed:Fe}),l.jsx(Xx,{admin:!0,initiateRefund:(Ol=s==null?void 0:s.transaction)==null?void 0:Ol.initiateRefund,buyername:s&&s.user&&s.user.name===s.customer_name,sellername:s&&s.user&&s.user.name===s.seller_name,handleCancelAgree:Ax,netAgreedToCancel:Te,agreedToCancel:(Vl=s==null?void 0:s.transaction)==null?void 0:Vl.agreedToCancel,handleRequestRefund:Es,transactionRefundStatus:((Hl=s==null?void 0:s.transaction)==null?void 0:Hl.transaction_status)===5,handleRefundTermsAgree:vx,refundTransferred:(Kl=s==null?void 0:s.transaction)==null?void 0:Kl.refundTransferred,handleReviewModalShow:Ms,ratingByBuyer:s&&((Ul=s==null?void 0:s.transaction)==null?void 0:Ul.ratingByBuyer),ratingBySeller:s&&((zl=s==null?void 0:s.transaction)==null?void 0:zl.ratingBySeller),handleRefundCancel:bx,invoiceLoading:Lt,transactionCancelledStatus:((Zl=s==null?void 0:s.transaction)==null?void 0:Zl.transaction_status)===7,netRefundRequested:js,netRefundTermsAgreed:Fe,refundCancelLoading:$t,cancelAgreeLoading:kt,requestRefundLoading:Mt})]}):l.jsxs("div",{className:"flex flex-col justify-center  bg-[#F5F5F5]  px-2  mt-[9px]  ",children:[l.jsx(Zx,{buyername:s&&s.user&&s.user.name===s.customer_name,netTermsAgreed:ie,deliveryStatus:s&&((Sl=s==null?void 0:s.transaction)==null?void 0:Sl.delivery_status),netContractSigned:G,netPaymentDone:bs,netDeliveryDone:As,netDeliveryOK:Ee}),l.jsx(Jx,{admin:!0,buyername:s&&s.user&&s.user.name===s.customer_name,sellername:s&&s.user&&s.user.name===s.seller_name,transactionId:s&&((ql=s==null?void 0:s.transaction)==null?void 0:ql._id),quotation:s&&((Tl=(El=s==null?void 0:s.transaction)==null?void 0:El.quotation)==null?void 0:Tl.length)>0,ordererAgree:s&&((Fl=s==null?void 0:s.transaction)==null?void 0:Fl.orderer_agree),handleAgreeToTerms:ae,handleContract:qs,contract_agree:s&&((Dl=s==null?void 0:s.transaction)==null?void 0:Dl.contract_agree),paymentDeposit:s&&((Il=s==null?void 0:s.transaction)==null?void 0:Il.paymentDeposit),handleDeliveryCompleted:yx,handleDeliverySentBack:ax,handleDeliveryAccepted:_x,deliveryStatus:s&&(($l=s==null?void 0:s.transaction)==null?void 0:$l.delivery_status),handleReviewModalShow:Ms,ratingByBuyer:s&&((kl=s==null?void 0:s.transaction)==null?void 0:kl.ratingByBuyer),ratingBySeller:s&&((Ml=s==null?void 0:s.transaction)==null?void 0:Ml.ratingBySeller),estimateTable:a,submitQuotation:De,handleRequestReQuotation:ye,netQuotationRequested:Yt,netQuotationSent:ht,netQuotationReceived:L,netReQuoteRequested:P,netReQuoteReceived:ex,netReQuoteSent:Q,netTermsAgreed:ie,netContractSigned:G,netPaymentDone:bs,netDeliveryDone:As,netDeliveryOK:Ee,estimateLoading:le,reQuoteLoading:M,agreeLoading:ee,concludeLoading:Ne,delivery:Ft,sentBackLoading:Dt,acceptedLoading:It})]})]}):l.jsxs(l.Fragment,{children:[" ",l.jsxs("div",{className:"mt-5  text-[#808080] bg-[#F5F5F5]  lg:text-[24px] xs:text-[14px] border flex items-center flex-col p-4",children:[l.jsx("span",{className:"lg:h-[80px]  xs:h-[40px]  sm:h-[55px] md:h-[70px]   bg-[#255BB3] flex  justify-center items-center w-[98%]",style:{clipPath:"polygon(0% 0%, 95% 0, 100% 50%, 95% 100%, 0% 100%"},children:l.jsx("span",{className:"bg-[#fff] h-[95%] w-[99.5%] flex  justify-center items-center lg:text-[16px] xs:text-[10px] text-[#255BB3]  font-bold",style:{clipPath:"polygon(0% 0%, 95% 0, 100% 50%, 95% 100%, 0% 100%"},children:"この取引は管理者によってキャンセルされました"})}),l.jsx("div",{className:"flex justify-center w-full",children:l.jsx("span",{className:"lg:h-[120px] xs:h-[140px] w-full bg-[#FFAA00] flex justify-center items-center text-[18px] ",style:{clipPath:"polygon(1% 100%, 99% 100%, 99% 20%, 54% 20%, 53% 0, 52% 20%, 1% 20%) "},children:l.jsx("span",{className:"h-[97.50%] xs:w-[99.58%] lg:w-[99.90%] bg-[#FFF4DF] flex justify-center items-center",style:{clipPath:"polygon(1% 100%, 99% 100%, 99% 20%, 54% 20%, 53% 0, 52% 20%, 1% 20%) "},children:"トランザクションは管理者によってキャンセルされました。詳細についてはサポートにお問い合わせください。"})})})]})]}),s&&(s!=null&&s.user)&&((Jl=s==null?void 0:s.user)!=null&&Jl.name)&&(s==null?void 0:s.user.name)===(s==null?void 0:s.seller_name)?l.jsxs("div",{className:"w-full mt-8",children:[l.jsx("span",{className:"lg:text-[24px] xs:text-[18px] font-bold text-[#808080]",children:"取引先"}),l.jsxs("div",{className:"flex xs:flex-col lg:flex-row justify-between border p-4 mt-2",children:[l.jsxs("div",{className:"lg:w-[8rem] xs:h-[5rem] flex lg:justify-center lg:items-center xs:justify-start xs:items-center ",children:[l.jsx("img",{src:(Xl=(Wl=s==null?void 0:s.transaction)==null?void 0:Wl.customer_id)==null?void 0:Xl.profile_img,className:"relative inline-flex lg:text-[1rem] xs:text-[0.6rem] items-center justify-center lg:w-[100px] lg:h-[100px] xs:w-[70px] xs:h-[70px] overflow-hidden rounded-full border-2"}),l.jsx("span",{className:"text-[#255BB3] lg:hidden xs:block font-bold xs:ml-5 lg:text-[18px] xs:text-[16px]",children:s==null?void 0:s.customer_name})]}),l.jsxs("div",{className:"flex-1 flex flex-col lg:ml-3 ",children:[l.jsx("span",{className:"text-[#255BB3] lg:block xs:hidden font-bold lg:text-[18px] xs:text-[16px]",children:s==null?void 0:s.customer_name}),l.jsx("span",{className:"flex flex-wrap xs:w-full text-[#808080] lg:text-[18px] xs:text-[14px]",children:l.jsxs("p",{className:"text-pretty break-word",children:[Tx,qx&&l.jsx("button",{onClick:Ls,className:"text-[#255BB3]  mt-1 m-2",children:ne?"読む量を減らす":"... 続きを読む"})]})})]})]})]}):l.jsxs("div",{className:"w-full mt-8",children:[l.jsx("span",{className:"lg:text-[24px] xs:text-[18px] font-bold text-[#808080]",children:"取引先"}),l.jsxs("div",{className:"flex xs:flex-col lg:flex-row justify-between border p-4 mt-2",children:[l.jsxs("div",{className:"lg:w-[8rem] xs:h-[5rem] flex lg:justify-center lg:items-center xs:justify-start xs:items-center ",children:[l.jsx("img",{src:(hl=(Yl=s==null?void 0:s.transaction)==null?void 0:Yl.seller_id)==null?void 0:hl.profile_img,className:"relative inline-flex lg:text-[1rem] xs:text-[0.6rem] items-center justify-center lg:w-[100px] lg:h-[100px] xs:w-[70px] xs:h-[70px] overflow-hidden rounded-full border-2"}),l.jsx("span",{className:"text-[#255BB3] lg:hidden xs:block font-bold xs:ml-5 lg:text-[18px] xs:text-[16px]",children:s==null?void 0:s.seller_name})]}),l.jsxs("div",{className:"flex-1 flex flex-col lg:ml-3",children:[l.jsx("span",{className:"text-[#255BB3] lg:block xs:hidden font-bold lg:text-[18px] xs:text-[16px]",children:s==null?void 0:s.seller_name}),l.jsx("span",{className:"flex flex-wrap xs:w-full text-[#808080] lg:text-[18px] xs:text-[14px]",children:l.jsxs("p",{className:"text-pretty break-word",children:[Fx,Ex&&l.jsx("button",{onClick:Ls,className:"text-[#255BB3]  mt-1 m-2",children:ne?"読む量を減らす":"... 続きを読む"})]})})]})]})]}),l.jsxs("div",{className:"mt-[4rem] flex gap-4 items-center ",children:[l.jsx("span",{className:"text-[#808080] font-bold lg:text-[24px] xs:text-[14]",children:"取引条件"}),l.jsx("span",{className:" bg-[#E6E6E6] px-3 py-1 text-[#808080] lg:text-[24px] xs:text-[14px]",children:"未確定"})]}),(sr=(er=s==null?void 0:s.transaction)==null?void 0:er.initiateRefund)!=null&&sr.IsTrue?l.jsxs("div",{className:"mt-4 border-[1px] border-[#E6E6E6] overflow-x-auto",children:[l.jsx(rt,{data:xx,columns:tt,theme:xt,layout:{custom:!0,horizontalScroll:!0}}),l.jsx("div",{className:"bg-[#E6E6E6] xl:w-full lg:w-full xs:w-[200%]  h-[2rem] lg:text-[18px] xs:text-[14px] flex items-center justify-end ",children:l.jsxs("div",{className:"flex justify-between w-1/4",children:[l.jsx("span",{className:"text-[#808080]",children:"合計金額(税抜)"}),s&&!((ur=(xr=s==null?void 0:s.transaction)==null?void 0:xr.initiateRefund)!=null&&ur.IsTrue)?l.jsxs("span",{className:"mr-3 text-[#808080]",children:[" ",x&&u&&(x==null?void 0:x.length)>0?(dr=x==null?void 0:x[0])==null?void 0:dr.metadata.totalamountExcludingTax:i?(i==null?void 0:i.amountExcludingTax)||"—":H||"—"]}):s&&((or=(pr=s==null?void 0:s.transaction)==null?void 0:pr.initiateRefund)==null?void 0:or.IsTrue)&&l.jsxs("span",{className:"mr-3 text-[#808080]",children:[" ",u&&(u==null?void 0:u.length)>0&&w?j(y(H)-y((w==null?void 0:w.totalAmountExcludingTax)||((mr=(gr=(ir=s==null?void 0:s.transaction)==null?void 0:ir.refund)==null?void 0:gr.taxDetails)==null?void 0:mr.totalAmountExcludingTax))):u&&(u==null?void 0:u.length)>0&&d?j(y(H)-y((d==null?void 0:d.totalAmountExcludingTax)||((yr=(cr=(fr=s==null?void 0:s.transaction)==null?void 0:fr.refund)==null?void 0:cr.taxDetails)==null?void 0:yr.totalAmountExcludingTax))):s&&((_r=(ar=s==null?void 0:s.transaction)==null?void 0:ar.refund)!=null&&_r.taxDetails)&&!d?j(y(H)-y((d==null?void 0:d.totalAmountExcludingTax)||((Ar=(br=(wr=s==null?void 0:s.transaction)==null?void 0:wr.refund)==null?void 0:br.taxDetails)==null?void 0:Ar.totalAmountExcludingTax))):s&&!((vr=(jr=s==null?void 0:s.transaction)==null?void 0:jr.refund)!=null&&vr.taxDetails)&&!d?H:"—"]})]})}),l.jsx("div",{className:"bg-[#ffffff] lg:w-full xs:w-[200%]  h-[2rem] lg:text-[18px] xs:text-[14px] flex items-center justify-end",children:l.jsxs("div",{className:"flex justify-between w-1/4",children:[l.jsx("span",{className:"text-[#808080]",children:"消費税(10%)"})," ",s&&!((Nr=(Rr=s==null?void 0:s.transaction)==null?void 0:Rr.initiateRefund)!=null&&Nr.IsTrue)?l.jsx("span",{className:"mr-3 text-[#808080]",children:x&&u&&(x==null?void 0:x.length)>0?(Br=x==null?void 0:x[0])==null?void 0:Br.metadata.taxAmount:i?(i==null?void 0:i.taxAmount)||"—":O||"—"}):l.jsx("span",{className:"mr-3 text-[#808080]",children:u&&(u==null?void 0:u.length)>0&&w?j(y(O)-y((w==null?void 0:w.taxAmount)||((qr=(Sr=(Cr=s==null?void 0:s.transaction)==null?void 0:Cr.refund)==null?void 0:Sr.taxDetails)==null?void 0:qr.taxAmount))):u&&(u==null?void 0:u.length)>0&&d?j(y(O)-y((d==null?void 0:d.taxAmount)||((Fr=(Tr=(Er=s==null?void 0:s.transaction)==null?void 0:Er.refund)==null?void 0:Tr.taxDetails)==null?void 0:Fr.taxAmount))):s&&((Ir=(Dr=s==null?void 0:s.transaction)==null?void 0:Dr.refund)!=null&&Ir.taxDetails)&&!d?j(y(O)-y((d==null?void 0:d.taxAmount)||((Mr=(kr=($r=s==null?void 0:s.transaction)==null?void 0:$r.refund)==null?void 0:kr.taxDetails)==null?void 0:Mr.taxAmount))):s&&!((Pr=(Lr=s==null?void 0:s.transaction)==null?void 0:Lr.refund)!=null&&Pr.taxDetails)&&!d?O:"—"})]})}),l.jsx("div",{className:"bg-[#FFF4DF] lg:w-full xs:w-[200%]  h-[2rem] lg:text-[18px] xs:text-[14px] flex items-center justify-end",children:l.jsxs("div",{className:"flex justify-between w-1/4",children:[l.jsx("span",{className:"text-[#808080]",children:"合計金額(税込)"})," ",s&&!((Gr=(Qr=s==null?void 0:s.transaction)==null?void 0:Qr.initiateRefund)!=null&&Gr.IsTrue)?l.jsx("span",{className:"mr-3 text-[#808080]",children:x&&u&&(x==null?void 0:x.length)>0?(Or=x==null?void 0:x[0])==null?void 0:Or.metadata.totalAmountIncludingTax:i?(i==null?void 0:i.totalAmountIncludingTax)||"—":V||"—"}):l.jsx("span",{className:"mr-3 text-[#808080]",children:u&&(u==null?void 0:u.length)>0&&w?j(y(V)-y((w==null?void 0:w.totalAmountIncludingTax)||((Kr=(Hr=(Vr=s==null?void 0:s.transaction)==null?void 0:Vr.refund)==null?void 0:Hr.taxDetails)==null?void 0:Kr.totalAmountIncludingTax))):u&&(u==null?void 0:u.length)>0&&d?j(y(V)-y((d==null?void 0:d.totalAmountIncludingTax)||((Zr=(zr=(Ur=s==null?void 0:s.transaction)==null?void 0:Ur.refund)==null?void 0:zr.taxDetails)==null?void 0:Zr.totalAmountIncludingTax))):s&&((Wr=(Jr=s==null?void 0:s.transaction)==null?void 0:Jr.refund)!=null&&Wr.taxDetails)&&!d?j(y(V)-y((d==null?void 0:d.totalAmountIncludingTax)||((hr=(Yr=(Xr=s==null?void 0:s.transaction)==null?void 0:Xr.refund)==null?void 0:Yr.taxDetails)==null?void 0:hr.totalAmountIncludingTax))):s&&!((sn=(en=s==null?void 0:s.transaction)==null?void 0:en.refund)!=null&&sn.taxDetails)&&!d?V:"—"})]})}),l.jsxs("div",{className:"bg-[#ffffff] lg:w-full  xs:w-[200%]  h-[7rem] lg:text-[18px] xs:text-[14px] flex items-center justify-start",children:[l.jsx("div",{className:"w-[6rem] h-[7rem] bg-[#E6E6E6] flex items-center justify-center text-[#808080]",children:"特記事項"})," ",l.jsx("div",{className:"w-full h-[5rem] p-3 text-[#808080] flex flex-wrap break-all",children:u&&(u==null?void 0:u.length)>0&&w?w==null?void 0:w.textareaValue:u&&(u==null?void 0:u.length)>0&&d?d==null?void 0:d.textareaValue:s&&((rn=(ln=s==null?void 0:s.transaction)==null?void 0:ln.refund)!=null&&rn.taxDetails)&&!d?(xn=(tn=(nn=s==null?void 0:s.transaction)==null?void 0:nn.refund)==null?void 0:tn.taxDetails)==null?void 0:xn.textareaValue:s&&!((dn=(un=s==null?void 0:s.transaction)==null?void 0:un.refund)!=null&&dn.taxDetails)&&!d?Ie:"—"})]})]}):l.jsxs("div",{className:"mt-4 border-[1px] border-[#E6E6E6] overflow-x-auto",children:[l.jsx(rt,{data:Cs,columns:tt,theme:xt,layout:{custom:!0,horizontalScroll:!0}}),l.jsx("div",{className:"bg-[#E6E6E6] xl:w-full lg:w-full xs:w-[200%]  h-[2rem] lg:text-[18px] xs:text-[14px] flex items-center justify-end ",children:l.jsxs("div",{className:"flex justify-between w-1/4",children:[l.jsx("span",{className:"text-[#808080]",children:"合計金額(税抜)"}),l.jsxs("span",{className:"mr-3 text-[#808080]",children:[" ",x&&u&&(x==null?void 0:x.length)>0?(lr=x==null?void 0:x[0])==null?void 0:lr.metadata.totalamountExcludingTax:i?(i==null?void 0:i.amountExcludingTax)||"—":H||"—"]})]})}),l.jsx("div",{className:"bg-[#ffffff] lg:w-full xs:w-[200%]  h-[2rem] lg:text-[18px] xs:text-[14px] flex items-center justify-end",children:l.jsxs("div",{className:"flex justify-between w-1/4",children:[l.jsx("span",{className:"text-[#808080]",children:"消費税(10%)"})," ",l.jsx("span",{className:"mr-3 text-[#808080]",children:x&&u&&(x==null?void 0:x.length)>0?(rr=x==null?void 0:x[0])==null?void 0:rr.metadata.taxAmount:i?(i==null?void 0:i.taxAmount)||"—":O||"—"})]})}),l.jsx("div",{className:"bg-[#FFF4DF] lg:w-full xs:w-[200%]  h-[2rem] lg:text-[18px] xs:text-[14px] flex items-center justify-end",children:l.jsxs("div",{className:"flex justify-between w-1/4",children:[l.jsx("span",{className:"text-[#808080]",children:"合計金額(税込)"})," ",l.jsx("span",{className:"mr-3 text-[#808080]",children:x&&u&&(x==null?void 0:x.length)>0?(nr=x==null?void 0:x[0])==null?void 0:nr.metadata.totalAmountIncludingTax:i?(i==null?void 0:i.totalAmountIncludingTax)||"—":V||"—"})]})}),l.jsxs("div",{className:"bg-[#ffffff] lg:w-full  xs:w-[200%]  h-[7rem] lg:text-[18px] xs:text-[14px] flex items-center justify-start",children:[l.jsx("div",{className:"w-[6rem] h-[7rem] bg-[#E6E6E6] flex items-center justify-center text-[#808080]",children:"特記事項"})," ",l.jsx("div",{className:"w-full h-[5rem] p-3 text-[#808080] flex flex-wrap break-all",children:x&&(x==null?void 0:x.length)>0?(tr=x==null?void 0:x[0])==null?void 0:tr.metadata.note:i?i==null?void 0:i.textareaValue:Ie})]})]}),((pn=s==null?void 0:s.transaction)==null?void 0:pn.transaction_status)!==9&&l.jsxs("div",{className:" w-full hidden gap-2 mt-8 cursor-pointer",children:[l.jsxs("div",{className:`flex   ${s&&((on=s==null?void 0:s.transaction)!=null&&on.paymentDeposit)?"xl:justify-end  lg:justify-end xs:justify-center md:justify-end  lg:w-[70vw] xs:w-[100vw]":"lg:justify-center xs:justify-center items-center"} gap-10 xs:gap-6   w-[100vw] `,children:[s&&s.user&&(s.user.name===s.customer_name?null:s.user.name===s.seller_name?l.jsxs(l.Fragment,{children:[!G&&l.jsx("span",{onClick:Nx,className:`lg:px-10 xs:px-2 py-3 text-[18px] xs:text-[14px] font-bold lg:text-white lg:bg-[#808080]  xs:bg-[#F8F8F8] xs:border-2 xs:text-[#808080] ${(gn=s==null?void 0:s.transaction)!=null&&gn.orderer_agree&&((mn=s==null?void 0:s.transaction)!=null&&mn.contract_agree),""}`,children:"条件を修正する"}),ie&&!((fn=s==null?void 0:s.transaction)!=null&&fn.contract_agree)?l.jsx(l.Fragment,{children:vt?l.jsx("span",{onClick:a&&Array.isArray(a)&&a.length>0?De:null,className:`lg:px-10 xs:px-2 py-3  text-[18px] font-bold xs:text-[14px] text-white bg-[#FFAA00] ${a&&Array.isArray(a)&&a.length>0&&!le?"cursor-pointer":"cursor-not-allowed"}`,children:le?l.jsx(S,{className:"h-full"}):"見積を送信する"}):l.jsx("span",{onClick:qs,className:`lg:px-10 xs:px-2 py-3 text-[18px] xs:text-[14px] font-bold lg:text-white text-white bg-[#FFAA00] ${Ne?"cursor-not-allowed":"cursor-pointer"}`,children:Ne?l.jsx(S,{className:"h-full"}):"契約締結する"})}):!ie&&!((cn=s==null?void 0:s.transaction)!=null&&cn.contract_agree)?l.jsx("span",{onClick:a&&Array.isArray(a)&&a.length>0?De:null,className:`lg:px-10 xs:px-2 py-3  text-[18px] font-bold xs:text-[14px] text-white bg-[#FFAA00]  ${a&&Array.isArray(a)&&a.length>0&&!le?"cursor-pointer":"cursor-not-allowed"}`,children:le?l.jsx(S,{className:"h-full"}):"見積を送信する"}):null]}):null),s&&(((an=(yn=s==null?void 0:s.transaction)==null?void 0:yn.quotation)==null?void 0:an.length)>0||x.length>0)&&s.user&&s.user.name&&s.user.name===s.customer_name&&!((_n=s==null?void 0:s.transaction)!=null&&_n.paymentDeposit)&&l.jsxs(l.Fragment,{children:[L&&!P&&!Q&&!G?l.jsx("span",{onClick:(bn=(wn=s==null?void 0:s.transaction)==null?void 0:wn.initiateRefund)!=null&&bn.IsTrue&&((An=s==null?void 0:s.transaction)!=null&&An.agreedToCancel)?Ts:ye,className:` lg:px-10 xs:px-2 py-3 text-[18px] xs:text-[14px] font-bold lg:text-white lg:bg-[#808080]  xs:bg-[#F8F8F8] xs:border-2 xs:text-[#808080] ${M?"cursor-not-allowed":"cursor-pointer"}`,children:M?l.jsx(S,{className:"h-full"}):"再見積を依頼する"}):L&&P&&!Q&&!G?l.jsx("span",{onClick:ye,className:` lg:px-10 xs:px-2 py-3 text-[18px] xs:text-[14px] font-bold lg:text-white   bg-[#FFAA00] xs:text-white
                          xs:border-2 ${M?"cursor-not-allowed":"cursor-pointer"}`,children:M?l.jsx(S,{className:"h-full"}):"再見積を依頼する"}):L&&P&&Q&&!G&&l.jsx("span",{onClick:ye,className:` lg:px-10 xs:px-2 py-3 text-[18px] xs:text-[14px] font-bold lg:text-white lg:bg-[#808080]  xs:bg-[#F8F8F8] xs:border-2 xs:text-[#808080] ${M?"cursor-not-allowed":"cursor-pointer"} `,children:M?l.jsx(S,{className:"h-full"}):"再見積を依頼する"}),s&&(((vn=(jn=s==null?void 0:s.transaction)==null?void 0:jn.quotation)==null?void 0:vn.length)>0||x.length>0)&&s.user&&s.user.name&&s.user.name===s.customer_name&&!((Rn=s==null?void 0:s.transaction)!=null&&Rn.paymentDeposit)&&!((Nn=s==null?void 0:s.transaction)!=null&&Nn.orderer_agree)&&l.jsx(l.Fragment,{children:L&&!P&&!Q?l.jsx("span",{onClick:ae,className:"lg:px-[65px] md:px-[25px] sm:px-[40px] xs:px-[35px] py-3  text-[18px] font-bold xs:text-[14px] text-white bg-[#FFAA00]  cursor-pointer",children:"合意する"}):L&&P&&!Q?l.jsx("span",{onClick:ae,className:"lg:px-[65px] md:px-[25px] sm:px-[40px] xs:px-[35px] py-3  text-[18px] font-bold xs:text-[14px] text-white bg-[#FFAA00]  cursor-pointer hidden",children:'""'}):L&&P&&Q&&l.jsx("span",{onClick:ae,className:`lg:px-[65px] md:px-[25px] sm:px-[40px] xs:px-[35px] py-3  text-[18px] font-bold xs:text-[14px] text-white bg-[#FFAA00]  ${ee?"cursor-not-allowed":"cursor-pointer"}`,children:ee?l.jsx(S,{className:"h-full"}):"合意する"})}),G&&(((Bn=s==null?void 0:s.transaction)==null?void 0:Bn.transaction_status)===1||((Cn=s==null?void 0:s.transaction)==null?void 0:Cn.transaction_status)===2)&&l.jsx("span",{onClick:!((qn=(Sn=s==null?void 0:s.transaction)==null?void 0:Sn.initiateRefund)!=null&&qn.IsTrue)&&fx,className:"lg:px-[65px] md:px-[25px] sm:px-[40px] xs:px-[35px] py-3  text-[18px] font-bold xs:text-[14px] text-white bg-[#FFAA00]  cursor-pointer",children:(Tn=(En=s==null?void 0:s.transaction)==null?void 0:En.initiateRefund)!=null&&Tn.IsTrue?"返金を依頼する":"仮払いする"})]}),s&&(s==null?void 0:s.customer_name)===((Fn=s==null?void 0:s.user)==null?void 0:Fn.name)&&!Fe&&((In=(Dn=s==null?void 0:s.transaction)==null?void 0:Dn.initiateRefund)==null?void 0:In.IsTrue)&&Te&&l.jsxs("div",{className:"w-full flex justify-center items-center gap-3",children:[l.jsx("span",{onClick:Ts,className:`lg:px-10 xs:px-2 py-3 text-[18px] xs:text-[14px] font-bold lg:text-white lg:bg-[#808080]  xs:bg-[#F8F8F8] xs:border-2 xs:text-[#808080]  ${ee?"cursor-not-allowed":"cursor-pointer"}`,children:ee?l.jsx(S,{className:"h-full"}):"条件を修正する"}),l.jsx("span",{onClick:Es,className:`lg:px-[65px] md:px-[25px] sm:px-[40px] xs:px-[35px] py-3  text-[18px] font-bold xs:text-[14px] text-white bg-[#FFAA00]  ${!as&&v&&(v==null?void 0:v.length)>0&&!Se?"cursor-pointer":"cursor-not-allowed"}`,children:as?l.jsx(S,{className:"h-full"}):"返金を依頼する"})]})]}),l.jsx("div",{children:(s&&(($n=s==null?void 0:s.transaction)==null?void 0:$n.paymentDeposit)&&!((Mn=(kn=s==null?void 0:s.transaction)==null?void 0:kn.initiateRefund)!=null&&Mn.IsTrue)&&(((Ln=s==null?void 0:s.transaction)==null?void 0:Ln.transaction_status)!==5||((Pn=s==null?void 0:s.transaction)==null?void 0:Pn.transaction_status)!==6&&((Qn=s==null?void 0:s.transaction)==null?void 0:Qn.transaction_status)!==7&&((Gn=s==null?void 0:s.transaction)==null?void 0:Gn.transaction_status)!==8)&&!Ee||Bt)&&l.jsxs("div",{className:"flex lg:justify-end  xs:items-center gap-2 lg:py-3  lg:w-[25vw]  xs:w-[45vw] sm:w-[27vw] ",children:[l.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-[#808080] ",children:l.jsx("path",{d:"M5.87508 13.0033L9.00008 9.87825L12.1251 13.0033L13.0001 12.1283L9.87508 9.00325L13.0001 5.87825L12.1251 5.00325L9.00008 8.12825L5.87508 5.00325L5.00008 5.87825L8.12508 9.00325L5.00008 12.1283L5.87508 13.0033ZM9.00008 17.3366C7.86119 17.3366 6.7848 17.1178 5.77091 16.6803C4.75703 16.2428 3.87161 15.6456 3.11466 14.8887C2.35772 14.1317 1.7605 13.2463 1.323 12.2324C0.885498 11.2185 0.666748 10.1421 0.666748 9.00325C0.666748 7.85048 0.885498 6.76714 1.323 5.75325C1.7605 4.73937 2.35772 3.85742 3.11466 3.10742C3.87161 2.35742 4.75703 1.76367 5.77091 1.32617C6.7848 0.888672 7.86119 0.669922 9.00008 0.669922C10.1529 0.669922 11.2362 0.888672 12.2501 1.32617C13.264 1.76367 14.1459 2.35742 14.8959 3.10742C15.6459 3.85742 16.2397 4.73937 16.6772 5.75325C17.1147 6.76714 17.3334 7.85048 17.3334 9.00325C17.3334 10.1421 17.1147 11.2185 16.6772 12.2324C16.2397 13.2463 15.6459 14.1317 14.8959 14.8887C14.1459 15.6456 13.264 16.2428 12.2501 16.6803C11.2362 17.1178 10.1529 17.3366 9.00008 17.3366ZM9.00008 16.0866C10.9723 16.0866 12.6459 15.3956 14.0209 14.0137C15.3959 12.6317 16.0834 10.9616 16.0834 9.00325C16.0834 7.03103 15.3959 5.35742 14.0209 3.98242C12.6459 2.60742 10.9723 1.91992 9.00008 1.91992C7.04175 1.91992 5.37161 2.60742 3.98966 3.98242C2.60772 5.35742 1.91675 7.03103 1.91675 9.00325C1.91675 10.9616 2.60772 12.6317 3.98966 14.0137C5.37161 15.3956 7.04175 16.0866 9.00008 16.0866Z",fill:"#808080"})}),l.jsx("span",{onClick:Cx,className:"text-[#808080] lg:text-[18px] xs:text-[14px] ",children:"取引をキャンセルする"})]})})]}),s&&((On=s==null?void 0:s.user)!=null&&On.name)&&((Vn=s==null?void 0:s.user)==null?void 0:Vn.name)===(s==null?void 0:s.customer_name)?l.jsx(l.Fragment,{children:(Kn=(Hn=s==null?void 0:s.transaction)==null?void 0:Hn.initiateRefund)!=null&&Kn.IsTrue?l.jsxs("div",{className:"mt-[56px] text-[#808080] font-bold  lg:text-[24px] xs:text-[14px] ",children:["帳票一覧",l.jsxs("div",{className:" grid xs:grid-cols-2 md:grid-cols-4 lg:grid-cols-4  jus  border gap-4 lg:px-[124px] sm:px-[100px] xs:px-10 py-10 mt-2",children:[E&&l.jsx("span",{className:`py-2 lg:px-2 sm:px-2 ${E?"bg-[#255BB3] text-[white] cursor-pointer xs:text-[14px] lg:text-[18px]  text-center":"bg-[#E6E6E6] text-[gray] xs:text-[14px] lg:text-[18px]  text-center cursor-not-allowed "}`,onClick:_e,children:"見積書"}),ge&&l.jsx("span",{className:`py-2 lg:px-2 sm:px-2 ${ge?"bg-[#255BB3] text-[white] cursor-pointer xs:text-[14px] lg:text-[18px]  text-center":"bg-[#E6E6E6] text-[gray] xs:text-[14px] lg:text-[18px]  text-center cursor-not-allowed "}`,onClick:Fs,children:"仮払請求書"}),T&&l.jsx("span",{className:`py-2 lg:px-2 sm:px-2 ${T?"bg-[#255BB3] text-[white] cursor-pointer xs:text-[14px] lg:text-[18px]  text-center":"bg-[#E6E6E6] text-[gray] xs:text-[14px] lg:text-[18px]  text-center cursor-not-allowed "}`,onClick:we,children:"発注書"}),F&&l.jsx("span",{className:`py-2 lg:px-2 sm:px-2 ${F?"bg-[#255BB3] text-[white] cursor-pointer xs:text-[14px] lg:text-[18px]  text-center":"bg-[#E6E6E6] text-[gray] xs:text-[14px] lg:text-[18px]  text-center cursor-not-allowed "}`,onClick:be,children:"納品書"}),D&&l.jsx("span",{className:`py-2 lg:px-2 sm:px-2 ${D?"bg-[#255BB3] text-[white] cursor-pointer xs:text-[14px] lg:text-[18px]  text-center":"bg-[#E6E6E6] text-[gray] xs:text-[14px] lg:text-[18px]  text-center cursor-not-allowed "}`,onClick:Ae,children:"受領書"}),I&&l.jsx("span",{className:`py-2 lg:px-2 sm:px-2 ${I?"bg-[#255BB3] text-[white] cursor-pointer xs:text-[14px] lg:text-[18px]  text-center":"bg-[#E6E6E6] text-[gray] xs:text-[14px] lg:text-[18px]  text-center cursor-not-allowed "}`,onClick:je,children:"検収書"}),l.jsx("span",{className:`py-2 lg:px-2 sm:px-2 flex justify-center items-center ${re?"bg-[#255BB3] text-[white] cursor-pointer xs:text-[14px] lg:text-[18px]  text-center":"bg-[#E6E6E6] text-[gray] xs:text-[14px] lg:text-[18px]  text-center cursor-not-allowed "}`,onClick:re?Is:void 0,children:"返金請求書"}),l.jsx("span",{className:`py-2 lg:px-2  sm:px-2 xs:text-[14px] lg:text-[18px]   ${fe?"bg-[#255BB3] text-[white] cursor-pointer xs:text-[14px] lg:text-[18px]  text-center":"bg-[#E6E6E6] text-[gray] xs:text-[14px] lg:text-[18px]  text-center cursor-not-allowed "}`,onClick:fe?$s:void 0,children:"取引請求書"})]})]}):l.jsxs("div",{className:"mt-[56px] text-[#808080] font-bold  lg:text-[24px] xs:text-[18px] ",children:["帳票一覧",l.jsxs("div",{className:" grid xs:grid-cols-2 md:grid-cols-4 lg:grid-cols-4  jus  border gap-4 lg:px-[124px] sm:px-[100px] xs:px-10 py-10 mt-2",children:[l.jsx("span",{className:`py-2 lg:px-2 sm:px-2 ${E?"bg-[#255BB3] text-[white] cursor-pointer xs:text-[14px] lg:text-[18px]  text-center":"bg-[#E6E6E6] text-[gray] xs:text-[14px] lg:text-[18px]  text-center cursor-not-allowed "}`,onClick:E?_e:void 0,children:"見積書"}),l.jsx("span",{className:`py-2 lg:px-2  sm:px-2 xs:text-[14px] lg:text-[18px]   ${ge?"bg-[#255BB3] text-[white] cursor-pointer xs:text-[14px] lg:text-[18px]  text-center":"bg-[#E6E6E6] text-[gray] xs:text-[14px] lg:text-[18px]  text-center cursor-not-allowed "}`,onClick:ge?Fs:void 0,children:"仮払請求書"}),l.jsx("span",{className:`py-2 lg:px-2  sm:px-2 xs:text-[14px] lg:text-[18px]   ${T?"bg-[#255BB3] text-[white] cursor-pointer xs:text-[14px] lg:text-[18px]  text-center":"bg-[#E6E6E6] text-[gray] xs:text-[14px] lg:text-[18px]  text-center cursor-not-allowed "}`,onClick:T?we:void 0,children:"発注書"}),l.jsx("span",{className:`py-2 lg:px-2  sm:px-2 xs:text-[14px] lg:text-[18px]   ${F?"bg-[#255BB3] text-[white] cursor-pointer xs:text-[14px] lg:text-[18px]  text-center":"bg-[#E6E6E6] text-[gray] xs:text-[14px] lg:text-[18px]  text-center cursor-not-allowed "}`,onClick:F?be:void 0,children:"納品書"}),l.jsx("span",{className:`py-2 lg:px-2  sm:px-2 xs:text-[14px] lg:text-[18px]   ${D?"bg-[#255BB3] text-[white] cursor-pointer xs:text-[14px] lg:text-[18px]  text-center":"bg-[#E6E6E6] text-[gray] xs:text-[14px] lg:text-[18px]  text-center cursor-not-allowed "}`,onClick:D?Ae:void 0,children:"受領書"}),l.jsx("span",{className:`py-2 lg:px-2  sm:px-2 xs:text-[14px] lg:text-[18px]   ${I?"bg-[#255BB3] text-[white] cursor-pointer xs:text-[14px] lg:text-[18px]  text-center":"bg-[#E6E6E6] text-[gray] xs:text-[14px] lg:text-[18px]  text-center cursor-not-allowed "}`,onClick:I?je:void 0,children:"検収書"})]})]})}):l.jsx(l.Fragment,{children:l.jsxs("div",{className:"mt-[56px] text-[#808080] font-bold  lg:text-[24px] xs:text-[14px] ",children:["帳票一覧",(zn=(Un=s==null?void 0:s.transaction)==null?void 0:Un.initiateRefund)!=null&&zn.IsTrue?l.jsxs("div",{className:" grid xs:grid-cols-2 md:grid-cols-4 lg:grid-cols-4  jus  border gap-4 lg:px-[124px] sm:px-[100px] xs:px-10 py-10 mt-2",children:[E&&l.jsx("span",{className:`py-2 lg:px-2 sm:px-2 ${E?"bg-[#255BB3] text-[white] cursor-pointer xs:text-[14px] lg:text-[18px]  text-center":"bg-[#E6E6E6] text-[gray] xs:text-[14px] lg:text-[18px]  text-center cursor-not-allowed "}`,onClick:_e,children:"見積書"}),T&&l.jsx("span",{className:`py-2 lg:px-2 sm:px-2 ${T?"bg-[#255BB3] text-[white] cursor-pointer xs:text-[14px] lg:text-[18px]  text-center":"bg-[#E6E6E6] text-[gray] xs:text-[14px] lg:text-[18px]  text-center cursor-not-allowed "}`,onClick:we,children:"発注書"}),F&&l.jsx("span",{className:`py-2 lg:px-2 sm:px-2 ${F?"bg-[#255BB3] text-[white] cursor-pointer xs:text-[14px] lg:text-[18px]  text-center":"bg-[#E6E6E6] text-[gray] xs:text-[14px] lg:text-[18px]  text-center cursor-not-allowed "}`,onClick:be,children:"納品書"}),D&&l.jsx("span",{className:`py-2 lg:px-2 sm:px-2 ${D?"bg-[#255BB3] text-[white] cursor-pointer xs:text-[14px] lg:text-[18px]  text-center":"bg-[#E6E6E6] text-[gray] xs:text-[14px] lg:text-[18px]  text-center cursor-not-allowed "}`,onClick:Ae,children:"受領書"}),I&&l.jsx("span",{className:`py-2 lg:px-2 sm:px-2 ${I?"bg-[#255BB3] text-[white] cursor-pointer xs:text-[14px] lg:text-[18px]  text-center":"bg-[#E6E6E6] text-[gray] xs:text-[14px] lg:text-[18px]  text-center cursor-not-allowed "}`,onClick:je,children:"検収書"}),me&&l.jsx("span",{className:`py-2 lg:px-2 sm:px-2 ${me?"bg-[#255BB3] text-[white] cursor-pointer xs:text-[14px] lg:text-[18px]  text-center":"bg-[#E6E6E6] text-[gray] xs:text-[14px] lg:text-[18px]  text-center cursor-not-allowed "}`,onClick:Ds,children:"取引請求書"}),ce&&l.jsx("span",{className:`py-2 lg:px-2 sm:px-2 ${ce?"bg-[#255BB3] text-[white] cursor-pointer xs:text-[14px] lg:text-[18px]  text-center":"bg-[#E6E6E6] text-[gray] xs:text-[14px] lg:text-[18px]  text-center cursor-not-allowed "}`,onClick:ks,children:"システム利用料請求書"}),l.jsx("span",{className:`py-2 lg:px-2 sm:px-2 flex justify-center items-center ${re?"bg-[#255BB3] text-[white] cursor-pointer xs:text-[14px] lg:text-[18px]  text-center":"bg-[#E6E6E6] text-[gray] xs:text-[14px] lg:text-[18px]  text-center cursor-not-allowed "}`,onClick:re?Is:void 0,children:"返金請求書"}),l.jsx("span",{className:`py-2 lg:px-2  sm:px-2 xs:text-[14px] lg:text-[18px]   ${fe?"bg-[#255BB3] text-[white] cursor-pointer xs:text-[14px] lg:text-[18px]  text-center":"bg-[#E6E6E6] text-[gray] xs:text-[14px] lg:text-[18px]  text-center cursor-not-allowed "}`,onClick:fe?$s:void 0,children:"取引請求書"}),l.jsx("span",{className:`py-2 lg:px-2  sm:px-2 xs:text-[14px] lg:text-[18px]   ${Bs?"bg-[#255BB3] text-[white] cursor-pointer xs:text-[14px] lg:text-[18px]  text-center":"bg-[#E6E6E6] text-[gray] xs:text-[14px] lg:text-[18px]  text-center cursor-not-allowed "}`,onClick:Bs?Bx:void 0,children:"システム利用料請求書"})]}):l.jsxs("div",{className:" grid xs:grid-cols-2 md:grid-cols-4 lg:grid-cols-4   border gap-4 lg:px-[124px] sm:px-[100px] xs:px-10 py-10 mt-2",children:[l.jsx("span",{className:`py-2 lg:px-2 sm:px-2 ${E?"bg-[#255BB3] text-[white] cursor-pointer xs:text-[14px] lg:text-[18px]  text-center":"bg-[#E6E6E6] text-[gray] xs:text-[14px] lg:text-[18px]  text-center cursor-not-allowed"}`,onClick:E?_e:void 0,children:"見積書"}),l.jsx("span",{className:`py-2 lg:px-2  sm:px-2 xs:text-[14px] lg:text-[18px]   ${T?"bg-[#255BB3] text-[white] cursor-pointer xs:text-[14px] lg:text-[18px]  text-center":"bg-[#E6E6E6] text-[gray] xs:text-[14px] lg:text-[18px]  text-center cursor-not-allowed "}`,onClick:T?we:void 0,children:"発注書"}),l.jsx("span",{className:`py-2 lg:px-2  sm:px-2 xs:text-[14px] lg:text-[18px]   ${F?"bg-[#255BB3] text-[white] cursor-pointer xs:text-[14px] lg:text-[18px]  text-center":"bg-[#E6E6E6] text-[gray] xs:text-[14px] lg:text-[18px]  text-center cursor-not-allowed "}`,onClick:F?be:void 0,children:"納品書"}),l.jsx("span",{className:`py-2 lg:px-2  sm:px-2 xs:text-[14px] lg:text-[18px]   ${D?"bg-[#255BB3] text-[white] cursor-pointer xs:text-[14px] lg:text-[18px]  text-center":"bg-[#E6E6E6] text-[gray] xs:text-[14px] lg:text-[18px]  text-center cursor-not-allowed "}`,onClick:D?Ae:void 0,children:"受領書"}),l.jsx("span",{className:`py-2 lg:px-2  sm:px-2 xs:text-[14px] lg:text-[18px]   ${I?"bg-[#255BB3] text-[white] cursor-pointer xs:text-[14px] lg:text-[18px]  text-center":"bg-[#E6E6E6] text-[gray] xs:text-[14px] lg:text-[18px]  text-center cursor-not-allowed "}`,onClick:I?je:void 0,children:"検収書"}),l.jsx("span",{className:`py-2 lg:px-2  sm:px-2 xs:text-[14px] lg:text-[18px]   ${me?"bg-[#255BB3] text-[white] cursor-pointer xs:text-[14px] lg:text-[18px]  text-center":"bg-[#E6E6E6] text-[gray] xs:text-[14px] lg:text-[18px]  text-center cursor-not-allowed "}`,onClick:me?Ds:void 0,children:"取引請求書"}),l.jsx("span",{className:`py-2 lg:px-2  sm:px-2 xs:text-[14px] lg:text-[18px]   ${ce?"bg-[#255BB3] text-[white] cursor-pointer xs:text-[14px] lg:text-[18px]  text-center":"bg-[#E6E6E6] text-[gray] xs:text-[14px] lg:text-[18px]  text-center cursor-not-allowed "}`,onClick:ce?ks:void 0,children:"システム利用料請求書"})]})]})}),l.jsxs("div",{className:"mt-8 ",children:[l.jsxs("span",{className:"text-[#808080] font-bold lg:text-[24px] xs:text-[18px]",children:[" ","メッセージ"]}),l.jsx("div",{className:"border w-full h-[500px] mt-2 overflow-scroll ",ref:te,children:l.jsx("div",{className:"lg:p-6 xs:p-4 flex w-full",children:l.jsx("div",{className:"w-full ",children:Be.map((e,n)=>{var o,p,_,r,B,C,R,N,k,Zn,Jn,Wn,Xn,Yn,hn,et,st;return l.jsxs("div",{className:`flex flex-row w-[100%] ${s&&((o=s==null?void 0:s.user)==null?void 0:o.name)===(e==null?void 0:e.sender_name)?"flex-row-reverse lg:gap-10 xs:gap-4 mt-5 items-center":"mt-3 items-center"} `,ref:Re,children:[l.jsx("div",{className:`${s&&((p=s==null?void 0:s.user)==null?void 0:p.name)===(e==null?void 0:e.sender_name)?"lg:w-[10%] xs:w-[20%] sm:w-[12%] flex xs:items-start xs:justify-start ":"lg:w-[10%] xs:w-[20%] sm:w-[12%]  "} `,children:e!=null&&e.sender_pic?l.jsx("img",{src:`${e==null?void 0:e.sender_pic}`,className:"rounded-full bg-[#DCDCDC] lg:h-[60px] lg:w-[60px]  xs:h-[51px] xs:w-[51px] flex justify-center items-center text-[#808080] xs:text-[14px] lg:text-[18px] border-2 mt-6"}):l.jsx("div",{className:"rounded-full bg-[#DCDCDC] lg:h-[60px] lg:w-[60px]  xs:h-[51px] xs:w-[51px] flex justify-center items-center text-[#808080] xs:text-[14px] lg:text-[18px] ",children:"Logo"})}),l.jsxs("div",{className:e!=null&&e.first_msg||e!=null&&e.seller_quote||e!=null&&e.buyer_reQuote||e!=null&&e.buyer_Agree||e!=null&&e.contract_sign||e!=null&&e.paymentDeposited||e!=null&&e.deliveryCompleted||e!=null&&e.receiptGenerated||e!=null&&e.deliverySentBack||e!=null&&e.deliveryAccepted||e!=null&&e.cancelRequest||e!=null&&e.cancelRefundRequest||e!=null&&e.cancelAgree||e!=null&&e.requestRefund||e!=null&&e.refundTermsAgree||(e==null?void 0:e.message)==="Request New Quotation Sent!"||(e==null?void 0:e.message)==="取引条件に合意しました"||(e==null?void 0:e.message)==="Signed a Contract"?" lg:w-[60%] xs:w-[80%] sm:w-[60%] flex flex-col gap-1 mt-1 breal-all ":" lg:w-[60%] xs:w-[80%] sm:w-[60%] flex flex-col gap-1 mt-1 break-all ",children:[l.jsx("div",{className:`flex ${s&&((_=s==null?void 0:s.user)==null?void 0:_.name)===(e==null?void 0:e.sender_name)?"flex-row-reverse":""} `,children:l.jsx("span",{className:" text-[#808080] xs:text-[14px] lg:text-[18px] font-bold",children:e==null?void 0:e.sender_name})}),l.jsx("div",{className:`px-5 ${e!=null&&e.file_path||e!=null&&e.file_type?" h-[300px]":"h-auto "}  rounded flex xs:flex-col md:flex-row xs:justify-center  md:items-center ${e!=null&&e.first_msg||e!=null&&e.seller_quote||e!=null&&e.buyer_reQuote||e!=null&&e.buyer_Agree||e!=null&&e.contract_sign||e!=null&&e.paymentDeposited||e!=null&&e.deliveryCompleted||e!=null&&e.receiptGenerated||e!=null&&e.deliverySentBack||e!=null&&e.deliveryAccepted||e!=null&&e.cancelRequest||e!=null&&e.cancelRefundRequest||e!=null&&e.cancelAgree||e!=null&&e.requestRefund||e!=null&&e.refundTermsAgree||(e==null?void 0:e.message)==="Request New Quotation Sent!"||(e==null?void 0:e.message)==="取引条件に合意しました"||(e==null?void 0:e.message)==="Signed a Contract"?`${s&&((r=s==null?void 0:s.user)==null?void 0:r.name)===(e==null?void 0:e.sender_name)?"bg-[#d2e3fe] ":"bg-[#FFF4DF]   "}  `:`${s&&((B=s==null?void 0:s.user)==null?void 0:B.name)===(e==null?void 0:e.sender_name)?"bg-[#d2e3fe]":"bg-[#FFF4DF] "} `} `,children:e!=null&&e.file_path||e!=null&&e.file_type?l.jsxs("a",{target:"_blank",href:e==null?void 0:e.file_path,className:"flex flex-col gap-1 text-[#808080] xs:text-[14px] lg:text-[18px] h-full  w-full ",children:[l.jsx("p",{className:" 0",children:e==null?void 0:e.message}),e!=null&&e.file_path&&["png","jpeg","jpg","svg+xml","gif"].some($e=>e.file_path.includes($e))||e!=null&&e.file_type&&["image/png","image/jpeg","image/jpg","image/svg+xml","image/gif"].some($e=>e.file_type.includes($e))?l.jsx("img",{src:e==null?void 0:e.file_path,className:"w-full max-h-[250px] object-contain ",alt:"img-preview"}):null]}):l.jsxs("div",{className:`flex xs:flex-col lg:flex-row     ${s&&((C=s==null?void 0:s.user)==null?void 0:C.name)===(e==null?void 0:e.sender_name)?"flex-row-reverse justify-between  lg:items-center xs:items-end ":"xs:flex-row md:flex-row justify-between  lg:items-center xs:items-start "}   py-2 xs:gap-2 lg:gap-1 w-full `,children:[l.jsx("span",{className:e!=null&&e.first_msg||e!=null&&e.seller_quote||e!=null&&e.buyer_reQuote||e!=null&&e.buyer_Agree||e!=null&&e.contract_sign||e!=null&&e.paymentDeposited||e!=null&&e.deliveryCompleted||e!=null&&e.receiptGenerated||e!=null&&e.deliverySentBack||e!=null&&e.deliveryAccepted||e!=null&&e.cancelRequest||e!=null&&e.cancelRefundRequest||e!=null&&e.cancelAgree||e!=null&&e.requestRefund||e!=null&&e.refundTermsAgree||(e==null?void 0:e.message)==="Request New Quotation Sent!"||(e==null?void 0:e.message)==="取引条件に合意しました"||(e==null?void 0:e.message)==="Signed a Contract"?` ${s&&((R=s==null?void 0:s.user)==null?void 0:R.name)===(e==null?void 0:e.sender_name)?"text-[#255BB3] w-full text-end":"text-[#FFAA00]  w-full"}  xs:text-[12px] lg:text-[18px] font-bold   ${s&&((N=s==null?void 0:s.user)==null?void 0:N.name)===(e==null?void 0:e.sender_name)?" lg:order-2 text-justify":""}`:`   text-[#808080] xs:text-[12px] lg:text-[18px] w-full     ${s&&((k=s==null?void 0:s.user)==null?void 0:k.name)===(e==null?void 0:e.sender_name)?"flex justify-end text-justify":""}  `,children:e==null?void 0:e.message}),e!=null&&e.first_msg||e!=null&&e.seller_quote||e!=null&&e.buyer_reQuote||e!=null&&e.buyer_Agree||e!=null&&e.contract_sign||e!=null&&e.paymentDeposited||e!=null&&e.deliveryCompleted||e!=null&&e.receiptGenerated||e!=null&&e.deliverySentBack||e!=null&&e.deliveryAccepted||e!=null&&e.cancelRequest||e!=null&&e.cancelRefundRequest||e!=null&&e.cancelAgree||e!=null&&e.requestRefund||e!=null&&e.refundTermsAgree||(e==null?void 0:e.message)==="Request New Quotation Sent!"||(e==null?void 0:e.message)==="取引条件に合意しました"||(e==null?void 0:e.message)==="Signed a Contract"?l.jsxs("div",{className:` h-full lg:w-[50%] xs:w-full flex  gap-1 ${s&&((Zn=s==null?void 0:s.user)==null?void 0:Zn.name)===(e==null?void 0:e.sender_name)?" xs:justify-end xs:items-end lg:justify-start lg:items-start":"xs:justify-start xs:items-start lg:justify-end lg:items-end "} `,children:[(e==null?void 0:e.seller_quote)&&l.jsx("div",{className:` ${s&&((Jn=s==null?void 0:s.user)==null?void 0:Jn.name)===(e==null?void 0:e.sender_name)?"bg-[#255BB3]":"bg-[#FFAA00]"} xs:text-[12px] lg:text-[18px] h-full xs:w-[50%] lg:w-[50%] text-white flex justify-center items-center py-2 `,children:l.jsx("button",{onClick:dx,type:"button",className:"h-full w-full xs:text-[12px]  lg:text-[18px] ",children:"見積書"})}),(e==null?void 0:e.paymentDeposited)&&l.jsx("div",{className:`${s&&((Wn=s==null?void 0:s.user)==null?void 0:Wn.name)===(e==null?void 0:e.sender_name)?"bg-[#255BB3]":"bg-[#FFAA00]"} xs:text-[12px] lg:text-[18px]  h-full xs:w-[50%] lg:w-[50%]  text-white flex justify-center items-center py-2`,children:l.jsx("button",{onClick:px,type:"button",className:"h-full w-full  xs:text-[12px]  lg:text-[18px]",children:"発注書"})}),(e==null?void 0:e.deliveryCompleted)&&l.jsx("div",{className:`${s&&((Xn=s==null?void 0:s.user)==null?void 0:Xn.name)===(e==null?void 0:e.sender_name)?"bg-[#255BB3]":"bg-[#FFAA00]"} xs:text-[12px] lg:text-[18px] h-full xs:w-[50%] lg:w-[50%]  text-white flex justify-center items-center py-2`,children:l.jsx("button",{onClick:ox,type:"button",className:"h-full w-full  xs:text-[12px]  lg:text-[18px]",children:"納品書"})}),(e==null?void 0:e.receiptGenerated)&&l.jsx("div",{className:`${s&&((Yn=s==null?void 0:s.user)==null?void 0:Yn.name)===(e==null?void 0:e.sender_name)?"bg-[#255BB3]":"bg-[#FFAA00]"} xs:text-[12px] lg:text-[18px] "h-full xs:w-[50%] lg:w-[50%]  text-white flex justify-center items-center py-2"`,children:l.jsx("button",{onClick:ix,type:"button",className:"h-full w-full  xs:text-[12px]  lg:text-[18px] py-2",children:"受領書"})}),(e==null?void 0:e.deliveryAccepted)&&l.jsx("div",{className:`${s&&((hn=s==null?void 0:s.user)==null?void 0:hn.name)===(e==null?void 0:e.sender_name)?"bg-[#255BB3]":"bg-[#FFAA00]"}  xs:text-[12px] lg:text-[18px] h-full xs:w-[50%] lg:w-[50%]  text-white flex justify-center items-center py-2`,children:l.jsx("button",{onClick:gx,type:"button",className:"h-full w-full  xs:text-[12px]  lg:text-[18px]",children:"検収書"})}),(e==null?void 0:e.requestRefund)&&l.jsx("div",{className:`${s&&((et=s==null?void 0:s.user)==null?void 0:et.name)===(e==null?void 0:e.sender_name)?"bg-[#255BB3]":"bg-[#FFAA00]"} xs:text-[12px] lg:text-[18px]  h-full xs:w-[50%] lg:w-[50%]  text-white flex justify-center items-center py-2`,children:l.jsx("button",{onClick:Ss,type:"button",className:"h-full w-full  xs:text-[12px]  lg:text-[18px]",children:"返金請求書"})}),(e==null?void 0:e.refundTermsAgree)&&l.jsx("div",{className:`${s&&((st=s==null?void 0:s.user)==null?void 0:st.name)===(e==null?void 0:e.sender_name)?"bg-[#255BB3]":"bg-[#FFAA00]"} xs:text-[12px] lg:text-[18px]  h-full xs:w-[50%] lg:w-[50%]  text-white flex justify-center items-center py-2`,children:l.jsx("button",{onClick:Ss,type:"button",className:"h-full w-full  xs:text-[12px]  lg:text-[18px]",children:"返金請求書"})})]}):""]})})]})]},n)})})})})]}),l.jsxs("form",{onSubmit:Rx,className:"border border-black h-[200px] w-full mt-2",children:[l.jsx("textarea",{value:U,onChange:e=>Ce(e.target.value),className:"w-full h-[150px] align-top p-2 resize-none border-0 outline-none",disabled:!0}),l.jsxs("div",{className:"flex justify-between px-2 sm:px-2 mt-1",children:[l.jsxs("label",{className:"bg-[#E6E6E6] xs:px-3 lg:py-1 xs:py-2  text-[#808080] border border-gray-500 lg:text-[18px] xs:text-[14px] cursor-pointer",children:["ファイルを選択",l.jsx("input",{type:"file",className:"hidden",onChange:e=>{Ce(e.target.files[0].name),gs(e.target.files[0]),e.target.value=""}})]}),l.jsx("button",{type:"submit",className:"bg-[#255BB3] xs:px-2 lg:py-1 xs:py-2 text-white border border-blue-500 lg:text-[18px] xs:text-[14px]",children:"メッセージを送信"})]})]}),Y?l.jsx(Yx,{setModify:Ve,showContactModal:Y,setShowContactModal:Le,defaultRow:ke,compactTableData:Cs,taxRate:Rs,lastQuotationTaxAmount:O,lasttotalAmountIncludingTax:V,lasttotalamountExcludingTax:H,lastNote:Ie}):null]})}),_s&&l.jsx(hx,{reviewModalShow:_s,transaction:s,buyerName:s&&s.user&&s.user.name===s.customer_name}),fs?l.jsx(eu,{setModify:Ve,showContactModal:fs,setShowContactModal:cs,defaultRow:nt,compactTableData:ux,taxRate:Rs,lastNote:d==null?void 0:d.textareaValue}):null,ws&&l.jsx(su,{cancelModalshow:ws,handleCancelRequest:wx})]})};export{Au as default};
